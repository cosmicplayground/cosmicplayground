import{n as me,e as C,s as D,b as E,l as T,c as F,d,m as $,V as qe,p as Oe,i as L,o as v,O as ze,r as pe,P as Ge,Q as Je,R as Xe,x as We,y as Ze,G as x,I as Ne,A as je,a as ue,g as xe,E as ea}from"../chunks/scheduler.37029f49.js";import{S as ge,i as _e,g as Ce,e as Ee,t as b,b as w,c as N,a as S,m as y,d as q}from"../chunks/index.13406d9d.js";import{r as m}from"../chunks/random.c2e51b4a.js";import{t as aa}from"../chunks/images.6fb087a5.js";import{l as sa}from"../chunks/songs.15ac5b14.js";import{e as ee,u as Se,o as Qe,d as ta}from"../chunks/each.e90b838a.js";import{p as Me,a as na}from"../chunks/play_song.8a0b2a2f.js";const la=s=>{const a=Ie.get(s);if(!a)throw Error("Unknown stage: "+s);return a},V=s=>{const a=ia.get(s);if(!a)throw Error("Unknown stage: "+s);return a},Ke=s=>V(s.slice(0,-1)),ia=new Map([{name:"0",image:"heic0506a"},{name:"1",image:"opo0501a"},{name:"2",image:"opo0415a"},{name:"3",image:"heic1913c"},{name:"4",image:"heic0910i"},{name:"5",image:"heic2002a"},{name:"6",image:"heic1712a"},{name:"7",image:"heic1712a"},{name:"8",image:"heic0817a"},{name:"9",image:"heic1302a"},{name:"10",image:"heic1107a"}].map(s=>(s.image_meta=aa(s.image),[s.name,s]))),Ye=new Map([{name:"0a",phase:0,title:"Adventure",song:"Adventure",image:"heic0506a"},{name:"0b",phase:0,title:"Adventure (Metal Version)",song:"Adventure (Metal Version)",image:"heic0506a"},{name:"0c",phase:1,title:"Traveler",song:"Traveler",image:"heic0506a"},{name:"0d",phase:1,title:"Adventures of Flying Jack",song:"Adventures of Flying Jack",image:"heic0506a"},{name:"1a",phase:0,title:"Piña Colada",song:"Piña Colada",image:"opo0501a"},{name:"1b",phase:0,title:"Chronos",song:"Chronos",image:"opo0501a"},{name:"1c",phase:1,title:"Mint Condition",song:"Mint Condition",image:"opo0501a"},{name:"1d",phase:1,title:"Hit n Smash",song:"Hit n Smash",image:"opo0501a"},{name:"2a",phase:0,title:"Flutter",song:"Flutter",image:"opo0415a"},{name:"2b",phase:0,title:"Chemical X",song:"Chemical X",image:"opo0415a"},{name:"2c",phase:1,title:"Frost",song:"Frost",image:"opo0415a"},{name:"2d",phase:1,title:"Dominant",song:"Dominant",image:"opo0415a"},{name:"3a",phase:0,title:"Blacksmith",song:"Blacksmith",image:"heic1913c"},{name:"3b",phase:0,title:"The Crown",song:"The Crown",image:"heic1913c"},{name:"3c",phase:1,title:"Bhangra Bass",song:"Bhangra Bass",image:"heic1913c"},{name:"3d",phase:1,title:"Spacebuckler",song:"Spacebuckler",image:"heic1913c"},{name:"4a",phase:0,title:"Brewing Potions",song:"Brewing Potions",image:"heic0910i"},{name:"4b",phase:0,title:"He's a Parrot",song:"He's a Parrot",image:"heic0910i"},{name:"4c",phase:1,title:"Celebration",song:"Celebration",image:"heic0910i"},{name:"4d",phase:1,title:"Forest Night",song:"Forest Night",image:"heic0910i"},{name:"4e",phase:1,title:"Land Ho",song:"Land Ho",image:"heic0910i"},{name:"5a",phase:0,title:"Be Chillin",song:"Be Chillin",image:"heic2002a"},{name:"5b",phase:0,title:"Painting Room",song:"Painting Room",image:"heic2002a"},{name:"5c",phase:1,title:"VHS Heroes",song:"VHS Heroes",image:"heic2002a"},{name:"5d",phase:1,title:"Journey of Hope",song:"Journey of Hope",image:"heic2002a"},{name:"6a",phase:0,title:"Grid",song:"Grid",image:"heic1712a"},{name:"6b",phase:0,title:"La Citadelle",song:"La Citadelle",image:"heic1712a"},{name:"6c",phase:1,title:"Rush",song:"Rush",image:"heic1712a"},{name:"6d",phase:1,title:"Inteficial Artelligence",song:"Inteficial Artelligence",image:"heic1712a"},{name:"7a",phase:0,title:"Jotunheim",song:"Jotunheim",image:"heic1712a"},{name:"7b",phase:0,title:"Bleu",song:"Bleu",image:"heic1712a"},{name:"7d",phase:1,title:"Flynyrd Mynyrd",song:"Flynyrd Mynyrd",image:"heic1712a"},{name:"7c",phase:1,title:"Desert Fox",song:"Desert Fox",image:"heic1712a"},{name:"8a",phase:0,title:"The Expanse",song:"The Expanse",image:"heic0817a"},{name:"8b",phase:0,title:"Facing Storm",song:"Facing Storm",image:"heic0817a"},{name:"8d",phase:1,title:"Catharsis",song:"Catharsis",image:"heic0817a"},{name:"8c",phase:1,title:"Lonely Mountain",song:"Lonely Mountain",image:"heic0817a"},{name:"9a",phase:0,title:"Fireworks",song:"Fireworks",image:"heic1302a"},{name:"9b",phase:0,title:"The Desert",song:"The Desert",image:"heic1302a"},{name:"9d",phase:1,title:"Alive",song:"Alive (Instrumental)",image:"heic1302a"},{name:"9c",phase:1,title:"Assassin",song:"Assassin",image:"heic1302a"},{name:"10a",phase:0,title:"Shining Stars",song:"Shining Stars",image:"heic1107a"},{name:"10c",phase:0,title:"Life",song:"Life",image:"heic1107a"},{name:"10b",phase:0,title:"Nomadic Sunset",song:"Nomadic Sunset",image:"heic1107a"},{name:"10d",phase:1,title:"Chemical Z",song:"Chemical Z",image:"heic1107a"},{name:"10e",phase:1,title:"Dream",song:"Dream",image:"heic1107a"},{name:"10f",phase:1,title:"Terra Mystica",song:"Terra Mystica",image:"heic1107a"}].map(s=>(s.song=sa(s.song),s.stage=Ke(s.name),[s.name,s]))),Ie=new Map;for(const s of Ye.values()){const a=Ke(s.name);let t=Ie.get(a.name);t||Ie.set(a.name,t=[]),t.push(s)}const oa=s=>typeof s.data=="function"?{...s,data:s.data()}:s,Te=[{name:"sugar_pure",data:{sequence:["0a","1a","2a","3a","4a","4c","5a","6a","7a","8a","9a","9c","10a","10d"]}},{name:"sugar_balanced",data:{sequence:["0a","0c","1a","1c","2a","2c","3a","3c","4a","4d","5a","5c","6a","6c","7a","7d","8a","8d","9a","9d","10c","10e"]}},{name:"salt_pure",data:{sequence:["0b","1b","2b","3b","4b","4e","5b","6b","7b","8b","9b","9c","10b","10f"]}},{name:"salt_balanced",data:{sequence:["0b","0d","1b","1d","2b","2d","3b","3d","4b",m(["4d","4e"]),"5b","5d","6b","6d","7b","7c","8b","8c","9b","9c","10b",m(["10e","10f"])]}},{name:"random_pure",data:()=>({sequence:[m(["0a","0b"]),m(["1a","1b"]),m(["2a","2b"]),m(["3a","3b"]),m([["4a","4d"],["4b","4e"]]),m(["5a","5b"]),m(["6a","6b"]),m(["7a","7b"]),m(["8a","8b"]),m([["9a","9c","10a","10d"],["9b","9c","10b","10f"]])].flat()})},{name:"random_balanced",data:()=>({sequence:[m(["0a","0b"]),m(["0c","0d"]),m(["1a","1b"]),m(["1c","1d"]),m(["2a","2b"]),m(["2c","2d"]),m(["3a","3b"]),m(["3c","3d"]),m([["4a","4d"],["4b","4c","4e"]]),m(["5a","5b"]),m(["5c","5d"]),m(["6a","6b"]),m(["6c","6d"]),m(["7a","7b"]),m(["7c","7d"]),m([["8a","8d"],["8b","8c"]]),m([["9a","9c","10a","10d"],["9a","9d","10c","10e"],["9b","9c","10b","10f"]])].flat()})},{name:"random_random",data:()=>{const s=[];let a=0,t=0;const e=l=>{l&&(l.endsWith("b")?a++:l.endsWith("c")&&t++,s.push(l))},n=l=>{Array.isArray(l)?l.forEach(e):e(l)};return n(m(["0a","0b"])),n(m(["0c","0d"])),n(m(["1a","1b"])),n(m(["1c","1d"])),n(m(["2a","2b"])),n(m(["2c","2d"])),n(m(["3a","3b"])),n(m([t>ra?m(["3c","3d"]):null,null])),n(m([["4a","4d"],["4b",t>ca?m(["4c",null]):null,"4e"]])),n(m(["5a","5b"])),n(m(["5c","5d"])),n(m(["6a","6b"])),n(m(["6c","6d"])),n(m(["7a","7b"])),n(m(["7c","7d",null])),n(m(["8a","8b"])),n(m(["8c","8d",null])),n(m([["9a","9c","10a","10d"],t>=fa&&a<=ha?["9a","9d","10c","10e"]:null,["9b","9c","10b","10f"]].filter(Boolean))),{sequence:s}}}];new Map(Te.map(s=>[s.name,s]));const O=(s,a)=>s.data.sequence.includes(a.name),ra=1,ca=1,fa=4,ha=7;function Ae(s,a,t){const e=s.slice();return e[6]=a[t],e}const ua=s=>({phase:s&2,phases:s&8}),Be=s=>({phase:s[6],phases:s[3]});function De(s,a,t){const e=s.slice();return e[6]=a[t],e}const ma=s=>({phase:s&4,phases:s&8}),Fe=s=>({phase:s[6],phases:s[3]});function Le(s,a){let t,e;const n=a[5].default,l=ze(n,a,a[4],Fe);return{key:s,first:null,c(){t=pe(),l&&l.c(),this.h()},l(c){t=pe(),l&&l.l(c),this.h()},h(){this.first=t},m(c,r){L(c,t,r),l&&l.m(c,r),e=!0},p(c,r){a=c,l&&l.p&&(!e||r&28)&&Ge(l,n,a,a[4],e?Xe(n,a[4],r,ma):Je(a[4]),Fe)},i(c){e||(b(l,c),e=!0)},o(c){w(l,c),e=!1},d(c){c&&d(t),l&&l.d(c)}}}function Pe(s){let a,t=[],e=new Map,n,l=ee(s[1]);const c=r=>r[6];for(let r=0;r<l.length;r+=1){let o=Ae(s,l,r),f=c(o);e.set(f,t[r]=Ve(f,o))}return{c(){a=C("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){a=E(r,"DIV",{class:!0});var o=T(a);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(d),this.h()},h(){$(a,"class","secondary-phases svelte-1nrvm65")},m(r,o){L(r,a,o);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(a,null);n=!0},p(r,o){o&26&&(l=ee(r[1]),Ce(),t=Se(t,o,c,1,r,l,e,a,Qe,Ve,null,Ae),Ee())},i(r){if(!n){for(let o=0;o<l.length;o+=1)b(t[o]);n=!0}},o(r){for(let o=0;o<t.length;o+=1)w(t[o]);n=!1},d(r){r&&d(a);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ve(s,a){let t,e;const n=a[5].default,l=ze(n,a,a[4],Be);return{key:s,first:null,c(){t=pe(),l&&l.c(),this.h()},l(c){t=pe(),l&&l.l(c),this.h()},h(){this.first=t},m(c,r){L(c,t,r),l&&l.m(c,r),e=!0},p(c,r){a=c,l&&l.p&&(!e||r&26)&&Ge(l,n,a,a[4],e?Xe(n,a[4],r,ua):Je(a[4]),Be)},i(c){e||(b(l,c),e=!0)},o(c){w(l,c),e=!1},d(c){c&&d(t),l&&l.d(c)}}}function ga(s){let a,t,e,n,l,c,r,o=[],f=new Map,h,g=`${s[0].image_meta.thumbnail.height*2}px`,I,B=ee(s[2]);const M=p=>p[6];for(let p=0;p<B.length;p+=1){let _=De(s,B,p),A=M(_);f.set(A,o[p]=Le(A,_))}let k=s[1].length&&Pe(s);return{c(){a=C("div"),t=C("img"),l=D(),c=C("div"),r=C("div");for(let p=0;p<o.length;p+=1)o[p].c();h=D(),k&&k.c(),this.h()},l(p){a=E(p,"DIV",{class:!0});var _=T(a);t=E(_,"IMG",{class:!0,src:!0,alt:!0}),l=F(_),c=E(_,"DIV",{class:!0});var A=T(c);r=E(A,"DIV",{class:!0});var U=T(r);for(let P=0;P<o.length;P+=1)o[P].l(U);U.forEach(d),h=F(A),k&&k.l(A),A.forEach(d),_.forEach(d),this.h()},h(){$(t,"class","pixelated svelte-1nrvm65"),qe(t.src,e=s[0].image_meta.thumbnail.url)||$(t,"src",e),$(t,"alt",n=s[0].image_meta.title),$(r,"class","main-phases svelte-1nrvm65"),$(c,"class","phases svelte-1nrvm65"),$(a,"class","level svelte-1nrvm65"),Oe(a,"height",g)},m(p,_){L(p,a,_),v(a,t),v(a,l),v(a,c),v(c,r);for(let A=0;A<o.length;A+=1)o[A]&&o[A].m(r,null);v(c,h),k&&k.m(c,null),I=!0},p(p,[_]){(!I||_&1&&!qe(t.src,e=p[0].image_meta.thumbnail.url))&&$(t,"src",e),(!I||_&1&&n!==(n=p[0].image_meta.title))&&$(t,"alt",n),_&28&&(B=ee(p[2]),Ce(),o=Se(o,_,M,1,p,B,f,r,Qe,Le,null,De),Ee()),p[1].length?k?(k.p(p,_),_&2&&b(k,1)):(k=Pe(p),k.c(),b(k,1),k.m(c,null)):k&&(Ce(),w(k,1,1,()=>{k=null}),Ee()),_&1&&g!==(g=`${p[0].image_meta.thumbnail.height*2}px`)&&Oe(a,"height",g)},i(p){if(!I){for(let _=0;_<B.length;_+=1)b(o[_]);b(k),I=!0}},o(p){for(let _=0;_<o.length;_+=1)w(o[_]);w(k),I=!1},d(p){p&&d(a);for(let _=0;_<o.length;_+=1)o[_].d();k&&k.d()}}}function _a(s,a,t){let e,n,l,{$$slots:c={},$$scope:r}=a,{level:o}=a;return s.$$set=f=>{"level"in f&&t(0,o=f.level),"$$scope"in f&&t(4,r=f.$$scope)},s.$$.update=()=>{if(s.$$.dirty&1&&t(3,e=la(o.name)),s.$$.dirty&8&&t(2,n=e.filter(f=>f.phase===0)),s.$$.dirty&8&&t(1,l=e.filter(f=>f.phase===1)),s.$$.dirty&14&&e.length!==n.length+l.length)throw Error("There are some unused phases in Level.svelte")},[o,l,n,e,r,c]}class H extends ge{constructor(a){super(),_e(this,a,_a,ga,me,{level:0})}}function da(s){let a,t,e,n=s[0].title+"",l,c,r,o;return{c(){a=C("div"),t=C("button"),e=C("div"),l=We(n),this.h()},l(f){a=E(f,"DIV",{class:!0,title:!0});var h=T(a);t=E(h,"BUTTON",{class:!0});var g=T(t);e=E(g,"DIV",{class:!0});var I=T(e);l=Ze(I,n),I.forEach(d),g.forEach(d),h.forEach(d),this.h()},h(){$(e,"class","title svelte-1hyhzrd"),t.disabled=s[2],$(t,"class","svelte-1hyhzrd"),x(t,"selected",s[1]),x(t,"buttonish",!s[2]),$(a,"class","phase svelte-1hyhzrd"),$(a,"title",c="phase "+s[0].name)},m(f,h){L(f,a,h),v(a,t),v(t,e),v(e,l),r||(o=Ne(t,"click",s[4]),r=!0)},p(f,[h]){h&1&&n!==(n=f[0].title+"")&&je(l,n),h&4&&(t.disabled=f[2]),h&2&&x(t,"selected",f[1]),h&4&&x(t,"buttonish",!f[2]),h&1&&c!==(c="phase "+f[0].name)&&$(a,"title",c)},i:ue,o:ue,d(f){f&&d(a),r=!1,o()}}}function pa(s,a,t){let{phase:e}=a,{selected:n}=a,{disabled:l}=a,{select_phase:c}=a;const r=()=>{c(e)};return s.$$set=o=>{"phase"in o&&t(0,e=o.phase),"selected"in o&&t(1,n=o.selected),"disabled"in o&&t(2,l=o.disabled),"select_phase"in o&&t(3,c=o.select_phase)},[e,n,l,c,r]}class R extends ge{constructor(a){super(),_e(this,a,pa,da,me,{phase:0,selected:1,disabled:2,select_phase:3})}}function He(s,a,t){const e=s.slice();return e[4]=a[t],e}function Re(s,a){let t,e,n=a[4].name+"",l,c,r,o;function f(){return a[3](a[4])}return{key:s,first:null,c(){t=C("li"),e=C("button"),l=We(n),c=D(),this.h()},l(h){t=E(h,"LI",{role:!0});var g=T(t);e=E(g,"BUTTON",{type:!0,class:!0});var I=T(e);l=Ze(I,n),I.forEach(d),c=F(g),g.forEach(d),this.h()},h(){$(e,"type","button"),$(e,"class","svelte-yzok5f"),x(e,"selected",a[4]===a[0]),$(t,"role","none"),this.first=t},m(h,g){L(h,t,g),v(t,e),v(e,l),v(t,c),r||(o=Ne(e,"click",f),r=!0)},p(h,g){a=h,g&1&&x(e,"selected",a[4]===a[0])},d(h){h&&d(t),r=!1,o()}}}function Ue(s){let a,t="cancel",e,n;return{c(){a=C("button"),a.textContent=t,this.h()},l(l){a=E(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-1iqgf8t"&&(a.textContent=t),this.h()},h(){$(a,"type","button"),$(a,"class","svelte-yzok5f")},m(l,c){L(l,a,c),e||(n=Ne(a,"click",function(){ea(s[2])&&s[2].apply(this,arguments)}),e=!0)},p(l,c){s=l},d(l){l&&d(a),e=!1,n()}}}function $a(s){let a,t=[],e=new Map,n,l,c=ee(Te);const r=f=>f[4];for(let f=0;f<c.length;f+=1){let h=He(s,c,f),g=r(h);e.set(g,t[f]=Re(g,h))}let o=s[0]&&Ue(s);return{c(){a=C("ul");for(let f=0;f<t.length;f+=1)t[f].c();n=D(),l=C("div"),o&&o.c(),this.h()},l(f){a=E(f,"UL",{class:!0});var h=T(a);for(let I=0;I<t.length;I+=1)t[I].l(h);h.forEach(d),n=F(f),l=E(f,"DIV",{});var g=T(l);o&&o.l(g),g.forEach(d),this.h()},h(){$(a,"class","svelte-yzok5f")},m(f,h){L(f,a,h);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(a,null);L(f,n,h),L(f,l,h),o&&o.m(l,null)},p(f,[h]){h&3&&(c=ee(Te),t=Se(t,h,r,1,f,c,e,a,ta,Re,null,He)),f[0]?o?o.p(f,h):(o=Ue(f),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},i:ue,o:ue,d(f){f&&(d(a),d(n),d(l));for(let h=0;h<t.length;h+=1)t[h].d();o&&o.d()}}}function va(s,a,t){let{selected_phase_sequence_or_creator:e=null}=a,{play_phase_sequence:n}=a,{cancel:l}=a;const c=r=>n(r);return s.$$set=r=>{"selected_phase_sequence_or_creator"in r&&t(0,e=r.selected_phase_sequence_or_creator),"play_phase_sequence"in r&&t(1,n=r.play_phase_sequence),"cancel"in r&&t(2,l=r.cancel)},[e,n,l,c]}class ba extends ge{constructor(a){super(),_e(this,a,va,$a,me,{selected_phase_sequence_or_creator:0,play_phase_sequence:1,cancel:2})}}function wa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function ka(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Ca(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Ea(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Ia(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Ta(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Na(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Sa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function ya(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function qa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Oa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!O(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){y(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!O(e[2],e[7])),a.$set(l)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}function Ma(s){let a,t,e,n,l,c,r,o,f,h,g,I,B,M,k,p,_,A,U,P,$e,Z,z,ve,Q,G,be,K,J,we,Y,X,ke,j,W,de;return a=new ba({props:{selected_phase_sequence_or_creator:s[1],play_phase_sequence:s[3],cancel:s[4]}}),l=new H({props:{level:V("0"),$$slots:{default:[wa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),o=new H({props:{level:V("1"),$$slots:{default:[ka,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),g=new H({props:{level:V("2"),$$slots:{default:[Ca,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),M=new H({props:{level:V("3"),$$slots:{default:[Ea,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),_=new H({props:{level:V("4"),$$slots:{default:[Ia,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),P=new H({props:{level:V("5"),$$slots:{default:[Ta,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),z=new H({props:{level:V("6"),$$slots:{default:[Na,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),G=new H({props:{level:V("7"),$$slots:{default:[Sa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),J=new H({props:{level:V("8"),$$slots:{default:[ya,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),X=new H({props:{level:V("9"),$$slots:{default:[qa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),W=new H({props:{level:V("10"),$$slots:{default:[Oa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),{c(){N(a.$$.fragment),t=D(),e=C("div"),n=C("section"),N(l.$$.fragment),c=D(),r=C("section"),N(o.$$.fragment),f=D(),h=C("section"),N(g.$$.fragment),I=D(),B=C("section"),N(M.$$.fragment),k=D(),p=C("section"),N(_.$$.fragment),A=D(),U=C("section"),N(P.$$.fragment),$e=D(),Z=C("section"),N(z.$$.fragment),ve=D(),Q=C("section"),N(G.$$.fragment),be=D(),K=C("section"),N(J.$$.fragment),we=D(),Y=C("section"),N(X.$$.fragment),ke=D(),j=C("section"),N(W.$$.fragment),this.h()},l(i){S(a.$$.fragment,i),t=F(i),e=E(i,"DIV",{class:!0});var u=T(e);n=E(u,"SECTION",{class:!0});var ae=T(n);S(l.$$.fragment,ae),ae.forEach(d),c=F(u),r=E(u,"SECTION",{class:!0});var se=T(r);S(o.$$.fragment,se),se.forEach(d),f=F(u),h=E(u,"SECTION",{class:!0});var te=T(h);S(g.$$.fragment,te),te.forEach(d),I=F(u),B=E(u,"SECTION",{class:!0});var ne=T(B);S(M.$$.fragment,ne),ne.forEach(d),k=F(u),p=E(u,"SECTION",{class:!0});var le=T(p);S(_.$$.fragment,le),le.forEach(d),A=F(u),U=E(u,"SECTION",{class:!0});var ie=T(U);S(P.$$.fragment,ie),ie.forEach(d),$e=F(u),Z=E(u,"SECTION",{class:!0});var oe=T(Z);S(z.$$.fragment,oe),oe.forEach(d),ve=F(u),Q=E(u,"SECTION",{class:!0});var re=T(Q);S(G.$$.fragment,re),re.forEach(d),be=F(u),K=E(u,"SECTION",{class:!0});var ce=T(K);S(J.$$.fragment,ce),ce.forEach(d),we=F(u),Y=E(u,"SECTION",{class:!0});var fe=T(Y);S(X.$$.fragment,fe),fe.forEach(d),ke=F(u),j=E(u,"SECTION",{class:!0});var he=T(j);S(W.$$.fragment,he),he.forEach(d),u.forEach(d),this.h()},h(){$(n,"class","svelte-dwxxx"),$(r,"class","svelte-dwxxx"),$(h,"class","svelte-dwxxx"),$(B,"class","svelte-dwxxx"),$(p,"class","svelte-dwxxx"),$(U,"class","svelte-dwxxx"),$(Z,"class","svelte-dwxxx"),$(Q,"class","svelte-dwxxx"),$(K,"class","svelte-dwxxx"),$(Y,"class","svelte-dwxxx"),$(j,"class","svelte-dwxxx"),$(e,"class","atlas svelte-dwxxx")},m(i,u){y(a,i,u),L(i,t,u),L(i,e,u),v(e,n),y(l,n,null),v(e,c),v(e,r),y(o,r,null),v(e,f),v(e,h),y(g,h,null),v(e,I),v(e,B),y(M,B,null),v(e,k),v(e,p),y(_,p,null),v(e,A),v(e,U),y(P,U,null),v(e,$e),v(e,Z),y(z,Z,null),v(e,ve),v(e,Q),y(G,Q,null),v(e,be),v(e,K),y(J,K,null),v(e,we),v(e,Y),y(X,Y,null),v(e,ke),v(e,j),y(W,j,null),de=!0},p(i,[u]){const ae={};u&2&&(ae.selected_phase_sequence_or_creator=i[1]),a.$set(ae);const se={};u&389&&(se.$$scope={dirty:u,ctx:i}),l.$set(se);const te={};u&389&&(te.$$scope={dirty:u,ctx:i}),o.$set(te);const ne={};u&389&&(ne.$$scope={dirty:u,ctx:i}),g.$set(ne);const le={};u&389&&(le.$$scope={dirty:u,ctx:i}),M.$set(le);const ie={};u&389&&(ie.$$scope={dirty:u,ctx:i}),_.$set(ie);const oe={};u&389&&(oe.$$scope={dirty:u,ctx:i}),P.$set(oe);const re={};u&389&&(re.$$scope={dirty:u,ctx:i}),z.$set(re);const ce={};u&389&&(ce.$$scope={dirty:u,ctx:i}),G.$set(ce);const fe={};u&389&&(fe.$$scope={dirty:u,ctx:i}),J.$set(fe);const he={};u&389&&(he.$$scope={dirty:u,ctx:i}),X.$set(he);const ye={};u&389&&(ye.$$scope={dirty:u,ctx:i}),W.$set(ye)},i(i){de||(b(a.$$.fragment,i),b(l.$$.fragment,i),b(o.$$.fragment,i),b(g.$$.fragment,i),b(M.$$.fragment,i),b(_.$$.fragment,i),b(P.$$.fragment,i),b(z.$$.fragment,i),b(G.$$.fragment,i),b(J.$$.fragment,i),b(X.$$.fragment,i),b(W.$$.fragment,i),de=!0)},o(i){w(a.$$.fragment,i),w(l.$$.fragment,i),w(o.$$.fragment,i),w(g.$$.fragment,i),w(M.$$.fragment,i),w(_.$$.fragment,i),w(P.$$.fragment,i),w(z.$$.fragment,i),w(G.$$.fragment,i),w(J.$$.fragment,i),w(X.$$.fragment,i),w(W.$$.fragment,i),de=!1},d(i){i&&(d(t),d(e)),q(a,i),q(l),q(o),q(g),q(M),q(_),q(P),q(z),q(G),q(J),q(X),q(W)}}}function Aa(s,a,t){let e=null,n=null,l=null;const c=async h=>{console.log("playPhaseSong",h);const g=await na(h.song);g&&(await g.play,console.log("playing",h.name,h.song.name),await g.ended,console.log("finished playing",h.name,h.song.name))},r=async(h,g=null)=>{g&&h===n?Me():(o(),t(1,n=h),t(2,l=oa(h)),console.log("playing phase_sequence",h,l));const{sequence:I}=l.data;let B=I;if(g){const M=I.indexOf(g.name);if(M===-1)return o(),c(g);B=I.slice(M)}for(const M of B){const k=Ye.get(M);if(t(0,e=k),await c(k),n!==h||e!==k)return}t(0,e=null),t(1,n=null)},o=()=>{Me(),t(1,n=null),t(2,l=null),t(0,e=null)};return[e,n,l,r,o,h=>(console.log("select_phase",h),n?r(n,h):c(h))]}class Ba extends ge{constructor(a){super(),_e(this,a,Aa,Ma,me,{})}}function Da(s){let a,t,e;return t=new Ba({}),{c(){a=C("div"),N(t.$$.fragment),this.h()},l(n){a=E(n,"DIV",{class:!0});var l=T(a);S(t.$$.fragment,l),l.forEach(d),this.h()},h(){$(a,"class","unlock-atlas svelte-1q8l5nv")},m(n,l){L(n,a,l),y(t,a,null),e=!0},p:ue,i(n){e||(b(t.$$.fragment,n),e=!0)},o(n){w(t.$$.fragment,n),e=!1},d(n){n&&d(a),q(t)}}}class za extends ge{constructor(a){super(),_e(this,a,null,Da,me,{})}}export{za as component};
