import{n as ge,e as L,s as H,y as ne,d as C,m as U,f as p,b as N,z as ae,o as I,q as F,I as rt,i as T,p as $,J as en,F as ot,c as Te,g as te,a as G,E as J,X as ye,a2 as pt,L as tn,G as Be,K as Ce,a5 as ee,U as vn,O as yn,P as zn,Q as kn,R as In,t as de,V as Se,B as lt}from"../chunks/scheduler.24efe3e9.js";import{S as pe,i as be,c as P,a as A,m as W,t as w,b as z,d as q,g as le,e as ue,j as ze,k as nn,f as Ve}from"../chunks/index.d51c8976.js";import{t as Bn}from"../chunks/tweened.02d02147.js";import{d as oe,b as v,f as et,c as tt,g as Tn,h as Dn,i as $n,q as Ee,j as En,k as Sn,l as Ln,a as Cn}from"../chunks/index.6cbf29f9.js";import{a as Tt}from"../chunks/random.c2e51b4a.js";import{g as bt}from"../chunks/clock.06e05f62.js";import{s as mt}from"../chunks/dom.affe8f60.js";import{g as Vn}from"../chunks/dimensions.c3d7a04e.js";import{e as Dt}from"../chunks/dom.1da668fa.js";import{E as On}from"../chunks/EarthThumbnail.b79c8db5.js";import{H as an,a as Mn}from"../chunks/renderStats.287270de.js";import{R as Hn,c as Nn,a as Pn,b as rn,u as nt,f as $t,d as An,e as Et,g as Wn,T as qn,C as jn,E as Rn,M as Fn,S as Gn}from"../chunks/Camera.2e93569e.js";import{P as _t}from"../chunks/Panel.057221e0.js";import{C as sn}from"../chunks/ChunkyButton.9e2b9f78.js";import{D as Un}from"../chunks/DeepBreathCredits.bb7b253f.js";import{C as Kn}from"../chunks/CreditsProjectSignature.b28496db.js";import{P as Yn}from"../chunks/Preview.813c8a33.js";import{P as Xn}from"../chunks/PortalPreview.30601181.js";import{P as Jn}from"../chunks/PortalLink.0a87262b.js";import{w as ht}from"../chunks/index.c42bac63.js";import{g as wt}from"../chunks/settings.a7df8492.js";import{b as he}from"../chunks/index.4636f668.js";import{S as Qn}from"../chunks/Surface.d2ce4482.js";import{e as st,u as on,d as ln}from"../chunks/each.9800de32.js";import{F as ut}from"../chunks/FloatingIconButton.8ddff8ad.js";import{F as Xe}from"../chunks/FloatingTextButton.c2fc9ba5.js";import{r as St}from"../chunks/maths.c8a7eaa0.js";const Lt=600;function Zn(a){let t,n,e,s,i,r,o,l,u,f,m,_;return e=new On({props:{width:a[0],height:a[0]/2,animationDuration:"45s",running:a[4].running}}),{c(){t=L("div"),n=L("div"),P(e.$$.fragment),s=H(),i=L("div"),r=ne("deep breath"),this.h()},l(c){t=C(c,"DIV",{class:!0,style:!0,role:!0,"aria-label":!0,tabindex:!0});var h=U(t);n=C(h,"DIV",{class:!0});var y=U(n);A(e.$$.fragment,y),y.forEach(p),s=N(h),i=C(h,"DIV",{class:!0,style:!0});var d=U(i);r=ae(d,"deep breath"),d.forEach(p),h.forEach(p),this.h()},h(){I(n,"class","thumbnail-animation-wrapper svelte-18y6147"),I(i,"class","thumbnail-text svelte-18y6147"),F(i,"transform","scale3d("+a[3]+", "+a[3]+", "+a[3]+")"),I(t,"class","deep-breath-thumbnail svelte-18y6147"),F(t,"width",a[0]+"px"),F(t,"height",a[0]/2+"px"),I(t,"role",o=a[2]?"button":void 0),I(t,"aria-label",l=a[2]?a[1]:void 0),I(t,"tabindex",u=a[2]?0:void 0),rt(t,"buttonish",a[2])},m(c,h){T(c,t,h),$(t,n),W(e,n,null),$(t,s),$(t,i),$(i,r),f=!0,m||(_=en(t,"click",function(){ot(a[2])&&a[2].apply(this,arguments)}),m=!0)},p(c,[h]){a=c;const y={};h&1&&(y.width=a[0]),h&1&&(y.height=a[0]/2),h&16&&(y.running=a[4].running),e.$set(y),(!f||h&8)&&F(i,"transform","scale3d("+a[3]+", "+a[3]+", "+a[3]+")"),(!f||h&1)&&F(t,"width",a[0]+"px"),(!f||h&1)&&F(t,"height",a[0]/2+"px"),(!f||h&4&&o!==(o=a[2]?"button":void 0))&&I(t,"role",o),(!f||h&6&&l!==(l=a[2]?a[1]:void 0))&&I(t,"aria-label",l),(!f||h&4&&u!==(u=a[2]?0:void 0))&&I(t,"tabindex",u),(!f||h&4)&&rt(t,"buttonish",a[2])},i(c){f||(w(e.$$.fragment,c),f=!0)},o(c){z(e.$$.fragment,c),f=!1},d(c){c&&p(t),q(e),m=!1,_()}}}function xn(a,t,n){let e,s,{earthWidth:i=Lt}=t,{label:r="proceed"}=t,{onClick:o=null}=t;const l=bt();return Te(a,l,u=>n(4,s=u)),a.$$set=u=>{"earthWidth"in u&&n(0,i=u.earthWidth),"label"in u&&n(1,r=u.label),"onClick"in u&&n(2,o=u.onClick)},a.$$.update=()=>{a.$$.dirty&1&&n(3,e=i/Lt)},[i,r,o,e,s,l]}class ea extends pe{constructor(t){super(),be(this,t,xn,Zn,ge,{earthWidth:0,label:1,onClick:2})}}function ta(a){let t,n;return t=new Mn({}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function na(a){let t,n="The download is about 75MB of images. If that's ok with you, continue on:",e,s,i;return s=new sn({props:{$$slots:{default:[ra]},$$scope:{ctx:a}}}),s.$on("click",a[4]),{c(){t=L("p"),t.textContent=n,e=H(),P(s.$$.fragment)},l(r){t=C(r,"P",{"data-svelte-h":!0}),te(t)!=="svelte-1eqb2mx"&&(t.textContent=n),e=N(r),A(s.$$.fragment,r)},m(r,o){T(r,t,o),T(r,e,o),W(s,r,o),i=!0},p(r,o){const l={};o&64&&(l.$$scope={dirty:o,ctx:r}),s.$set(l)},i(r){i||(w(s.$$.fragment,r),i=!0)},o(r){z(s.$$.fragment,r),i=!1},d(r){r&&(p(t),p(e)),q(s,r)}}}function aa(a){let t,n;return t=new Hn({props:{resources:a[0]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s&1&&(i.resources=e[0]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ia(a){let t,n;return t=new sn({props:{$$slots:{default:[sa]},$$scope:{ctx:a}}}),t.$on("click",function(){ot(a[1])&&a[1].apply(this,arguments)}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){a=e;const i={};s&64&&(i.$$scope={dirty:s,ctx:a}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ra(a){let t;return{c(){t=ne("continue with 75MB download!")},l(n){t=ae(n,"continue with 75MB download!")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function sa(a){let t;return{c(){t=ne("back to the map!")},l(n){t=ae(n,"back to the map!")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function oa(a){let t,n,e="If all ice on Earth melts, how will sea levels change?",s,i,r=`Deep Breath is an interactive webpage with a rough sketch of Earth&#39;s coastlines if all ice
					melts. Most estimates range from 60 to 75 meters above 2020&#39;s oceans—some are higher—and
					this map shows about 65 meters. This is an extreme hypothetical: <a href="https://wikipedia.org/wiki/Sea_level_rise">Wikipedia can help put it into perspective</a>. The project&#39;s facts are flawed; see below for more details.`,o,l,u=`There&#39;s <a href="https://www.youtube.com/watch?v=7xEPqg-Kyg4">a video on YouTube with a 6 minute tour</a>
					set to music, and you can get the same experience by clicking &quot;tour&quot; on the map. The visuals
					are higher quality here than in the video, but the video is recommended for mobile devices,
					older hardware, and screens smaller than 1080p. (it doesn&#39;t currently scale the resolution)
					The code and image data are
					<a href="https://github.com/ryanatkn/cosmicplayground">open source on GitHub</a>. Credits
					are below.`,f,m,_=`This map is resource-intensive and may be broken or slow depending on your hardware and
					browser. More optimizations like <a href="https://github.com/ryanatkn/cosmicplayground/issues/56">this one</a> would help.`,c,h,y,d,b,g,k,j,E,M,Q,K,Z,Y,R=`<p>Please be aware that <strong>the project&#39;s facts are flawed:</strong></p> <ul><li>The elevation data is low resolution and the highest sea level is an approximation
						convenient to the source images. The science has wide ranging possible values for
						maximum sea level rise from what I found, and this project displays a value near the
						lower bound. I am not a scientist.</li> <li>Ice remains visible in places like Greenland and Antarctica when sea levels rise, even
						though sea level rise implies the ice has melted. This could be fixed by faking the
						revealed terrain.</li> <li>Landlocked areas below sea level fill with water even though they probably won&#39;t flood
						because they don&#39;t border the oceans. I find them interesting so I left them in, but
						they could be misleading. The most prominent examples are central Australia and the Aral
						Sea.</li></ul>`,ie;d=new Jn({props:{slug:"soggy-planet"}});const fe=[ia,aa,na],x=[];function se(O,S){return O[2].status==="success"?0:O[2].status!=="initial"?1:2}return E=se(a),M=x[E]=fe[E](a),{c(){t=L("section"),n=L("h2"),n.textContent=e,s=H(),i=L("p"),i.innerHTML=r,o=H(),l=L("p"),l.innerHTML=u,f=H(),m=L("p"),m.innerHTML=_,c=H(),h=L("p"),y=ne("See also "),P(d.$$.fragment),b=ne("."),g=H(),k=L("hr"),j=H(),M.c(),Q=H(),K=L("hr"),Z=H(),Y=L("section"),Y.innerHTML=R,this.h()},l(O){t=C(O,"SECTION",{class:!0});var S=U(t);n=C(S,"H2",{"data-svelte-h":!0}),te(n)!=="svelte-1wi71o2"&&(n.textContent=e),s=N(S),i=C(S,"P",{"data-svelte-h":!0}),te(i)!=="svelte-1q1wr0n"&&(i.innerHTML=r),o=N(S),l=C(S,"P",{"data-svelte-h":!0}),te(l)!=="svelte-1apyjwi"&&(l.innerHTML=u),f=N(S),m=C(S,"P",{"data-svelte-h":!0}),te(m)!=="svelte-1xto716"&&(m.innerHTML=_),c=N(S),h=C(S,"P",{});var X=U(h);y=ae(X,"See also "),A(d.$$.fragment,X),b=ae(X,"."),X.forEach(p),S.forEach(p),g=N(O),k=C(O,"HR",{}),j=N(O),M.l(O),Q=N(O),K=C(O,"HR",{}),Z=N(O),Y=C(O,"SECTION",{class:!0,"data-svelte-h":!0}),te(Y)!=="svelte-1hx426d"&&(Y.innerHTML=R),this.h()},h(){I(t,"class","prose"),I(Y,"class","prose")},m(O,S){T(O,t,S),$(t,n),$(t,s),$(t,i),$(t,o),$(t,l),$(t,f),$(t,m),$(t,c),$(t,h),$(h,y),W(d,h,null),$(h,b),T(O,g,S),T(O,k,S),T(O,j,S),x[E].m(O,S),T(O,Q,S),T(O,K,S),T(O,Z,S),T(O,Y,S),ie=!0},p(O,S){let X=E;E=se(O),E===X?x[E].p(O,S):(le(),z(x[X],1,1,()=>{x[X]=null}),ue(),M=x[E],M?M.p(O,S):(M=x[E]=fe[E](O),M.c()),w(M,1),M.m(Q.parentNode,Q))},i(O){ie||(w(d.$$.fragment,O),w(M),ie=!0)},o(O){z(d.$$.fragment,O),z(M),ie=!1},d(O){O&&(p(t),p(g),p(k),p(j),p(Q),p(K),p(Z),p(Y)),q(d),x[E].d(O)}}}function la(a){let t,n,e="Credits",s,i,r;return i=new Un({}),{c(){t=L("section"),n=L("h2"),n.textContent=e,s=H(),P(i.$$.fragment),this.h()},l(o){t=C(o,"SECTION",{class:!0});var l=U(t);n=C(l,"H2",{"data-svelte-h":!0}),te(n)!=="svelte-129hxhk"&&(n.textContent=e),s=N(l),A(i.$$.fragment,l),l.forEach(p),this.h()},h(){I(t,"class","prose")},m(o,l){T(o,t,l),$(t,n),$(t,s),W(i,t,null),r=!0},p:G,i(o){r||(w(i.$$.fragment,o),r=!0)},o(o){z(i.$$.fragment,o),r=!1},d(o){o&&p(t),q(i)}}}function ua(a){let t,n,e;return n=new Kn({}),{c(){t=L("section"),P(n.$$.fragment),this.h()},l(s){t=C(s,"SECTION",{class:!0});var i=U(t);A(n.$$.fragment,i),i.forEach(p),this.h()},h(){I(t,"class","prose")},m(s,i){T(s,t,i),W(n,t,null),e=!0},p:G,i(s){e||(w(n.$$.fragment,s),e=!0)},o(s){z(n.$$.fragment,s),e=!1},d(s){s&&p(t),q(n)}}}function fa(a){let t,n;return t=new Yn({}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ca(a){let t,n,e,s,i,r,o,l,u,f,m,_,c,h,y;return t=new an({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}}),i=new ea({props:{onClick:a[3]?a[4]:null}}),o=new _t({props:{$$slots:{default:[oa]},$$scope:{ctx:a}}}),u=new _t({props:{$$slots:{default:[la]},$$scope:{ctx:a}}}),m=new _t({props:{$$slots:{default:[ua]},$$scope:{ctx:a}}}),h=new Xn({props:{href:"/about",$$slots:{default:[fa]},$$scope:{ctx:a}}}),{c(){P(t.$$.fragment),n=H(),e=L("div"),s=L("div"),P(i.$$.fragment),r=H(),P(o.$$.fragment),l=H(),P(u.$$.fragment),f=H(),P(m.$$.fragment),_=H(),c=L("section"),P(h.$$.fragment),this.h()},l(d){A(t.$$.fragment,d),n=N(d),e=C(d,"DIV",{class:!0});var b=U(e);s=C(b,"DIV",{class:!0});var g=U(s);A(i.$$.fragment,g),r=N(g),A(o.$$.fragment,g),l=N(g),A(u.$$.fragment,g),f=N(g),A(m.$$.fragment,g),_=N(g),c=C(g,"SECTION",{});var k=U(c);A(h.$$.fragment,k),k.forEach(p),g.forEach(p),b.forEach(p),this.h()},h(){I(s,"class","box width_md"),I(e,"class","deep_breath_title_screen box width_full svelte-i587p")},m(d,b){W(t,d,b),T(d,n,b),T(d,e,b),$(e,s),W(i,s,null),$(s,r),W(o,s,null),$(s,l),W(u,s,null),$(s,f),W(m,s,null),$(s,_),$(s,c),W(h,c,null),y=!0},p(d,[b]){const g={};b&64&&(g.$$scope={dirty:b,ctx:d}),t.$set(g);const k={};b&71&&(k.$$scope={dirty:b,ctx:d}),o.$set(k);const j={};b&64&&(j.$$scope={dirty:b,ctx:d}),u.$set(j);const E={};b&64&&(E.$$scope={dirty:b,ctx:d}),m.$set(E);const M={};b&64&&(M.$$scope={dirty:b,ctx:d}),h.$set(M)},i(d){y||(w(t.$$.fragment,d),w(i.$$.fragment,d),w(o.$$.fragment,d),w(u.$$.fragment,d),w(m.$$.fragment,d),w(h.$$.fragment,d),y=!0)},o(d){z(t.$$.fragment,d),z(i.$$.fragment,d),z(o.$$.fragment,d),z(u.$$.fragment,d),z(m.$$.fragment,d),z(h.$$.fragment,d),y=!1},d(d){d&&(p(n),p(e)),q(t,d),q(i),q(o),q(u),q(m),q(h)}}}const Ct="cpg__hasLoadedDeepBreath";function ma(a,t,n){let e,s=G,i=()=>(s(),s=J(r,m=>n(2,e=m)),r);a.$$.on_destroy.push(()=>s());let{resources:r}=t;i();let{proceed:o}=t;const l=!!localStorage.getItem(Ct),u=l,f=async()=>{await r.load(),e.status==="success"&&(l||localStorage.setItem(Ct,"true"),o())};return a.$$set=m=>{"resources"in m&&i(n(0,r=m.resources)),"proceed"in m&&n(1,o=m.proceed)},[r,o,e,u,f]}class _a extends pe{constructor(t){super(),be(this,t,ma,ca,ge,{resources:0,proceed:1})}}const ha=(a,t,n=!1)=>{const e=Nn(),s=1e3,i=s*2,r=s*3,o=15250,l=3201,u=1405,f=5e3,m=e.event("load");return n?(e.pan(l,u,0),e.zoom(f,0)):(e.pan(l,u,2e3),e.zoom(5,2e3),e.wait(),e.zoom(50,1e3),e.wait()),m(),n||(e.zoom(f,1e3),e.wait()),e.event("show_intro"),e.wait(a),e.event("playOceanWavesSound"),e.zoom(50,2450),e.pan(l+1,u-1,2450),e.wait(),e.zoom(12,6650),e.pan(l+3,u-7,6650),e.event("show_title"),e.wait(),e.zoom(13,1e3),e.pan(l+4,u-6,1e3),e.wait(),e.zoom(4,500),e.wait(500),e.pan(l,u,3900,oe),e.zoom(6,8400,oe),e.wait(2e3),e.event("play_main_song"),e.wait(1900),e.pan(2560,1090,13e3),e.wait(4500),e.zoom(2,9e3),e.wait(),e.zoomBy(.97,3e3,v),e.wait(3e3),e.pan(2520,1047,r,oe),e.zoom(4.3,r),e.wait(),e.zoomBy(1.02,i,v),e.panBy(2,2,i,v),e.wait(),e.pan(2533,1247,r),e.zoom(5.1,r,oe),e.wait(),e.zoomBy(.97,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(2348,1215,r),e.zoom(2.3,r),e.wait(),e.zoomBy(.97,i,v),e.panBy(-3,0,i,v),e.wait(),e.pan(2110,995,r*3-i),e.zoom(6.4,r*2-i),e.wait(),e.zoomBy(1.02,i,v),e.panBy(-1,-1,i,v),e.wait(),e.pan(1894,875,r),e.zoom(4.1,r),e.wait(),e.zoomBy(.97,i,v),e.panBy(-4,-1,i,v),e.wait(),e.pan(2203,789,r),e.zoom(2.7,r,et),e.wait(),e.zoomBy(.95,i,tt),e.panBy(-10,-5,i,tt),e.wait(),e.pan(2287,689,r,oe),e.zoom(6.5,r),e.wait(r),e.zoom(5.6,r),e.wait(i),e.pan(2034,600,r*2),e.wait(r),e.zoom(6.2,r),e.wait(),e.zoomBy(1.01,i,v),e.panBy(-2,-1,i,v),e.wait(),e.pan(2042,491,r),e.zoom(10.9,r),e.wait(),e.zoomBy(.9,i,oe),e.panBy(0,3,i,v),e.wait(),e.pan(1981,405,r),e.zoom(9,r),e.wait(),e.panBy(-2,-2,i,v),e.zoomBy(.98,i,v),e.wait(),e.pan(1843,290,r),e.zoom(11,r,Tn),e.wait(),e.zoomBy(1.04,i,Dn),e.wait(),e.pan(2090,443,r*2),e.zoom(3,r*2),e.wait(),e.zoomBy(.98,i,v),e.panBy(2,1,i,v),e.wait(),e.pan(2155,408,r,oe),e.zoom(7.5,r,$n),e.wait(),e.zoomBy(1.17,i,v),e.panBy(2,-3,i,v),e.wait(),e.pan(2176,510,r,Ee),e.zoom(10.5,r+i,et),e.wait(r),e.panBy(1,4,i,v),e.wait(),e.pan(2223,574,r),e.zoom(3.8,r,tt),e.wait(),e.zoomBy(.98,i,v),e.panBy(3,5,i,v),e.wait(),e.pan(2322,337,r),e.zoom(4.3,r,Ee),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,-4,i,v),e.wait(),e.pan(2657,323,r),e.zoom(1.7,r),e.wait(),e.zoomBy(.98,i,v),e.wait(),e.pan(2546,497,r),e.zoom(4.2,r),e.wait(),e.zoomBy(1.03,i,v),e.panBy(-1,3,i,v),e.wait(),e.pan(2577,741,r*2),e.zoom(2.9,r*2,oe),e.wait(),e.zoomBy(1.02,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(2821,824,r),e.zoom(3.7,r),e.wait(),e.zoomBy(1.02,i,v),e.panBy(2,1,i,v),e.wait(),e.pan(3097,770,r),e.zoom(6.7,r),e.wait(),e.panBy(6,-1,i,v),e.zoomBy(1.02,i,v),e.wait(),e.pan(3216,835,r),e.zoom(4.3,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(2,2,i,v),e.wait(),e.pan(3511,984,r),e.zoom(2.45,r),e.wait(),e.zoomBy(.96,i,v),e.panBy(2,1,i,v),e.wait(),e.zoomBy(1.16,r,Ee),e.panBy(2,6,r,v),e.wait(),e.pan(3589,1332,r),e.zoom(2.8,r,Ee),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,3,i,v),e.wait(),e.pan(4014,1489,r),e.zoom(7,r,et),e.wait(),e.zoomBy(1.02,i,v),e.panBy(3,0,i,v),e.wait(),e.pan(4059,1229,r),e.zoom(1.4,r*2),e.wait(r+i/2),e.pan(3772,1199,r-i/2,Ee),e.wait(),e.zoomBy(.97,i,v),e.panBy(-16,-16,i,v),e.wait(),e.pan(3335,675,r),e.zoom(3.5,r),e.wait(),e.zoomBy(1.04,i,v),e.panBy(-2,-6,i,v),e.wait(),e.pan(3595,588,r),e.zoom(5.6,r),e.wait(),e.zoomBy(1.02,i,v),e.panBy(1,0,i,v),e.wait(),e.pan(3465,612,r*2,oe),e.zoom(1,r*2),e.wait(),e.zoomBy(.98,i,v),e.panBy(-2,1,i,v),e.wait(),e.pan(4359,788,r,En),e.zoom(13,r,Sn),e.wait(),e.zoomBy(1.22,i,v),e.panBy(2,0,i,v),e.wait(),e.pan(4136,306,r,et),e.zoom(3,r,tt),e.wait(r),e.panBy(10,15,i),e.zoom(2.8,i/2),e.wait(i/2),e.zoom(2.9,i/2),e.wait(i/2),e.pan(5043,281,r+i,Ee),e.zoom(2.4,i),e.wait(i),e.zoom(2,r,oe),e.wait(),e.zoomBy(1.03,i,v),e.panBy(4,0,i,v),e.wait(),e.pan(4743,478,r),e.zoom(9.1,r,Ln),e.wait(),e.zoomBy(1.02,i,v),e.panBy(-2,3,i,v),e.wait(),e.pan(4775,578,r),e.zoom(10.1,r),e.wait(),e.zoomBy(1.03,i,v),e.panBy(0,3,i,v),e.wait(),e.pan(4695,602,r),e.zoom(3,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,1,i,v),e.wait(),e.pan(4999,732,r),e.zoom(4.6,r,oe),e.wait(),e.zoomBy(.98,i,v),e.panBy(3,1,i,v),e.wait(),e.pan(5160,673,r),e.zoom(6.8,r),e.wait(),e.zoomBy(1.04,i,v),e.panBy(3,0,i,v),e.wait(),e.pan(5297,549,r),e.zoom(4.7,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(2,-3,i,v),e.wait(),e.pan(5290,776,r),e.zoom(5.6,r,oe),e.wait(),e.zoomBy(.97,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(5176,872,r),e.zoom(4.7,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(5395,908,r),e.zoom(5.6,r),e.wait(),e.zoomBy(1.01,i,v),e.panBy(2,0,i,v),e.wait(),e.pan(5510,1052,r),e.zoom(5.1,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,2,i,v),e.wait(),e.pan(5414,1011,r),e.zoom(2,r),e.wait(),e.zoomBy(.97,i,v),e.wait(),e.pan(5538,1416,r),e.zoom(2.2,r,oe),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,4,i,v),e.wait(),e.pan(5163,1016,r*2-i/2,oe),e.zoom(.6,r*2-i/2),e.wait(),e.zoomBy(.985,i/2,v),e.panBy(7,-6,i/2,v),e.wait(),e.pan(7764,895,o,Ee),e.zoom(.66,r),e.wait(r),e.zoom(.56,r),e.wait(r),e.zoom(.7,r),e.wait(r),e.zoom(.6,o-r*3-2e3),e.wait(o-r*3-2e3),e.zoom(5,r,Ee),e.wait(r),e.zoomBy(.85,500),e.wait(500),e.event("debug_final_zoom_in"),e.zoom(400,1e3),e.wait(),e.wait(1e3),e.event("show_title"),e.wait(t),e.event("show_credits"),e.event("playOceanWavesSound"),e.wait(1e9),e.zoomBy(1,0),e.finalize()};function da(a){let t,n,e,s='If all ice on <span class="earth-text svelte-oczlsv">Earth</span> melts,',i,r,o,l,u="how will sea levels change?",f,m,_,c,h="This is a rough sketch.",y,d,b;return{c(){t=L("div"),n=L("div"),e=L("div"),e.innerHTML=s,r=H(),o=L("div"),l=L("div"),l.textContent=u,m=H(),_=L("div"),c=L("div"),c.textContent=h,this.h()},l(g){t=C(g,"DIV",{class:!0});var k=U(t);n=C(k,"DIV",{class:!0,style:!0});var j=U(n);e=C(j,"DIV",{"data-svelte-h":!0}),te(e)!=="svelte-4tuvff"&&(e.innerHTML=s),j.forEach(p),r=N(k),o=C(k,"DIV",{class:!0,style:!0});var E=U(o);l=C(E,"DIV",{"data-svelte-h":!0}),te(l)!=="svelte-1cvn0jo"&&(l.textContent=u),E.forEach(p),m=N(k),_=C(k,"DIV",{class:!0,style:!0});var M=U(_);c=C(M,"DIV",{"data-svelte-h":!0}),te(c)!=="svelte-1j33ysy"&&(c.textContent=h),M.forEach(p),k.forEach(p),this.h()},h(){I(n,"class","text svelte-oczlsv"),I(n,"style",a[3]),I(o,"class","text svelte-oczlsv"),I(o,"style",a[3]),I(_,"class","text final-text svelte-oczlsv"),I(_,"style",a[3]),I(t,"class","tour-title svelte-oczlsv")},m(g,k){T(g,t,k),$(t,n),$(n,e),$(t,r),$(t,o),$(o,l),$(t,m),$(t,_),$(_,c),b=!0},p(g,[k]){a=g,(!b||k&8)&&I(n,"style",a[3]),(!b||k&8)&&I(o,"style",a[3]),(!b||k&8)&&I(_,"style",a[3])},i(g){b||(g&&(i||ye(()=>{i=ze(e,he,{duration:a[0],amount:at}),i.start()})),g&&(f||ye(()=>{f=ze(l,he,{duration:a[0],amount:at,delay:a[4]}),f.start()})),g&&(y||ye(()=>{y=ze(c,he,{duration:a[0],amount:at,delay:a[2]}),y.start()})),d&&d.end(1),b=!0)},o(g){g&&(d=nn(t,he,{duration:a[1],amount:at})),b=!1},d(g){g&&p(t),g&&d&&d.end()}}}const at=99;function ga(a,t,n){let e,{hide:s}=t,{totalDuration:i}=t,{transitionInDuration:r}=t,{transitionOutDuration:o}=t,{maxDelay:l}=t;const u=Math.min(l,2e3);let f;return pt(()=>{f=setTimeout(()=>s(),i-o)}),tn(()=>{clearTimeout(f)}),a.$$set=m=>{"hide"in m&&n(5,s=m.hide),"totalDuration"in m&&n(6,i=m.totalDuration),"transitionInDuration"in m&&n(0,r=m.transitionInDuration),"transitionOutDuration"in m&&n(1,o=m.transitionOutDuration),"maxDelay"in m&&n(2,l=m.maxDelay)},a.$$.update=()=>{a.$$.dirty&64&&n(3,e=`animation-duration: ${i}ms;`)},[r,o,l,e,u,s,i]}class pa extends pe{constructor(t){super(),be(this,t,ga,da,ge,{hide:5,totalDuration:6,transitionInDuration:0,transitionOutDuration:1,maxDelay:2})}}function ba(a){let t,n,e,s="deep",i,r,o,l,u="breath",f,m,_;return{c(){t=L("div"),n=L("div"),e=L("div"),e.textContent=s,r=H(),o=L("div"),l=L("div"),l.textContent=u,this.h()},l(c){t=C(c,"DIV",{class:!0});var h=U(t);n=C(h,"DIV",{class:!0,style:!0});var y=U(n);e=C(y,"DIV",{"data-svelte-h":!0}),te(e)!=="svelte-1rl9bve"&&(e.textContent=s),y.forEach(p),r=N(h),o=C(h,"DIV",{class:!0,style:!0});var d=U(o);l=C(d,"DIV",{"data-svelte-h":!0}),te(l)!=="svelte-152l3jn"&&(l.textContent=u),d.forEach(p),h.forEach(p),this.h()},h(){I(n,"class","text svelte-1nsditn"),I(n,"style",a[2]),I(o,"class","text svelte-1nsditn"),I(o,"style",a[2]),I(t,"class","tour-title svelte-1nsditn")},m(c,h){T(c,t,h),$(t,n),$(n,e),$(t,r),$(t,o),$(o,l),_=!0},p(c,[h]){a=c,(!_||h&4)&&I(n,"style",a[2]),(!_||h&4)&&I(o,"style",a[2])},i(c){_||(c&&(i||ye(()=>{i=ze(e,he,{duration:a[0],amount:dt}),i.start()})),c&&(f||ye(()=>{f=ze(l,he,{duration:a[0],amount:dt,delay:a[1]}),f.start()})),m&&m.end(1),_=!0)},o(c){c&&(m=nn(t,he,{duration:a[0],amount:dt})),_=!1},d(c){c&&p(t),c&&m&&m.end()}}}const dt=99;function wa(a,t,n){let e,s,{hide:i}=t,{transitionDuration:r}=t,{pauseDuration:o}=t,{maxDelay:l}=t,u;return pt(()=>{u=setTimeout(()=>i(),r+l+o)}),tn(()=>{clearTimeout(u)}),a.$$set=f=>{"hide"in f&&n(3,i=f.hide),"transitionDuration"in f&&n(0,r=f.transitionDuration),"pauseDuration"in f&&n(4,o=f.pauseDuration),"maxDelay"in f&&n(1,l=f.maxDelay)},a.$$.update=()=>{a.$$.dirty&17&&n(5,e=r*2+o),a.$$.dirty&32&&n(2,s=`animation-duration: ${e}ms;`)},[r,l,s,i,o,e]}class va extends pe{constructor(t){super(),be(this,t,wa,ba,ge,{hide:3,transitionDuration:0,pauseDuration:4,maxDelay:1})}}function ya(a){let t,n,e=`<h2 class="svelte-1iur3fz">created by</h2>
		Ryan Atkinson<br/> <a href="https://www.ryanatkn.com" class="svelte-1iur3fz">ryanatkn.com</a>`,s,i,r,o='<h2 class="svelte-1iur3fz">interactive webpage</h2> <a href="https://www.cosmicplayground.org/deep-breath" class="svelte-1iur3fz">cosmicplayground.org/deep-breath</a>',l,u,f,m='<h2 class="svelte-1iur3fz">open source code &amp; assets</h2> <a href="https://github.com/ryanatkn/cosmicplayground" class="svelte-1iur3fz">github.com/ryanatkn/cosmicplayground</a>',_,c,h,y=`<h2 class="svelte-1iur3fz">music</h2>
		&quot;Winter&quot; by Alexander Nakarada<br/> <a href="https://www.serpentsoundstudios.com" class="svelte-1iur3fz">serpentsoundstudios.com</a>`,d,b,g,k=`<h2 class="svelte-1iur3fz">imagery &amp; data</h2> <a href="https://visibleearth.nasa.gov/collection/1484/blue-marble" class="svelte-1iur3fz">Blue Marble Next Generation</a>
		by Reto Stöckli <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1iur3fz">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1iur3fz">NASA Earth Observatory</a>
		(2004) <br/> <br/> Earth <a href="https://visibleearth.nasa.gov/images/73934/topography" class="svelte-1iur3fz">topography</a> and
		<a href="https://visibleearth.nasa.gov/images/73963/bathymetry" class="svelte-1iur3fz">bathymetry</a>
		by Jesse Allen <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1iur3fz">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1iur3fz">NASA Earth Observatory</a> <br/> using data from the
		<a href="https://www.gebco.net/" class="svelte-1iur3fz">General Bathymetric Chart of the Oceans</a> <br/> produced by the <a href="https://www.bodc.ac.uk/" class="svelte-1iur3fz">British Oceanographic Data Centre</a> (2005)`,j;return{c(){t=L("div"),n=L("section"),n.innerHTML=e,i=H(),r=L("section"),r.innerHTML=o,u=H(),f=L("section"),f.innerHTML=m,c=H(),h=L("section"),h.innerHTML=y,b=H(),g=L("section"),g.innerHTML=k,this.h()},l(E){t=C(E,"DIV",{class:!0});var M=U(t);n=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-es6ik4"&&(n.innerHTML=e),i=N(M),r=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(r)!=="svelte-honlk9"&&(r.innerHTML=o),u=N(M),f=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(f)!=="svelte-jdrscv"&&(f.innerHTML=m),c=N(M),h=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(h)!=="svelte-x4ggcf"&&(h.innerHTML=y),b=N(M),g=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(g)!=="svelte-1eldbgm"&&(g.innerHTML=k),M.forEach(p),this.h()},h(){I(n,"class","svelte-1iur3fz"),I(r,"class","svelte-1iur3fz"),I(f,"class","svelte-1iur3fz"),I(h,"class","svelte-1iur3fz"),I(g,"class","svelte-1iur3fz"),I(t,"class","tour-credits prose svelte-1iur3fz"),rt(t,"displayForVideo",a[1])},m(E,M){T(E,t,M),$(t,n),$(t,i),$(t,r),$(t,u),$(t,f),$(t,c),$(t,h),$(t,b),$(t,g)},p(E,[M]){a=E,M&2&&rt(t,"displayForVideo",a[1])},i(E){E&&(s||ye(()=>{s=ze(n,he,{duration:a[0],amount:Ye}),s.start()})),E&&(l||ye(()=>{l=ze(r,he,{duration:a[0],delay:it*1,amount:Ye}),l.start()})),E&&(_||ye(()=>{_=ze(f,he,{duration:a[0],delay:it*2,amount:Ye}),_.start()})),E&&(d||ye(()=>{d=ze(h,he,{duration:a[0],delay:it*3,amount:Ye}),d.start()})),E&&(j||ye(()=>{j=ze(g,he,{duration:a[0],delay:it*4,amount:Ye}),j.start()}))},o:G,d(E){E&&p(t)}}}const it=250,Ye=20;function za(a,t,n){let e,s;const i=wt();Te(a,i,o=>n(3,s=o));let{transitionDuration:r}=t;return a.$$set=o=>{"transitionDuration"in o&&n(0,r=o.transitionDuration)},a.$$.update=()=>{a.$$.dirty&8&&n(1,e=s.recording_mode)},[r,e,i,s]}class ka extends pe{constructor(t){super(),be(this,t,za,ya,ge,{transitionDuration:0})}}function Vt(a){let t,n,e,s,i=a[16]&&Ot(a),r=a[15]&&Mt(a),o=a[14]&&Ht();return{c(){t=L("div"),i&&i.c(),n=H(),r&&r.c(),e=H(),o&&o.c(),this.h()},l(l){t=C(l,"DIV",{class:!0});var u=U(t);i&&i.l(u),n=N(u),r&&r.l(u),e=N(u),o&&o.l(u),u.forEach(p),this.h()},h(){I(t,"class","tour svelte-1ryehd")},m(l,u){T(l,t,u),i&&i.m(t,null),$(t,n),r&&r.m(t,null),$(t,e),o&&o.m(t,null),s=!0},p(l,u){l[16]?i?(i.p(l,u),u[0]&65536&&w(i,1)):(i=Ot(l),i.c(),w(i,1),i.m(t,n)):i&&(le(),z(i,1,1,()=>{i=null}),ue()),l[15]?r?(r.p(l,u),u[0]&32768&&w(r,1)):(r=Mt(l),r.c(),w(r,1),r.m(t,e)):r&&(le(),z(r,1,1,()=>{r=null}),ue()),l[14]?o?(o.p(l,u),u[0]&16384&&w(o,1)):(o=Ht(),o.c(),w(o,1),o.m(t,null)):o&&(le(),z(o,1,1,()=>{o=null}),ue())},i(l){s||(w(i),w(r),w(o),s=!0)},o(l){z(i),z(r),z(o),s=!1},d(l){l&&p(t),i&&i.d(),r&&r.d(),o&&o.d()}}}function Ot(a){let t,n;return t=new pa({props:{hide:a[27],totalDuration:a[20],transitionInDuration:un,transitionOutDuration:fn,maxDelay:cn}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[0]&65536&&(i.hide=e[27]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Mt(a){let t,n;return t=new va({props:{hide:a[28],transitionDuration:vt,pauseDuration:mn,maxDelay:_n}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[0]&32768&&(i.hide=e[28]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ht(a){let t,n;return t=new ka({props:{transitionDuration:vt}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p:G,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ia(a){let t,n,e,s,i,r,o,l,u,f=a[11]&&Vt(a);function m(g){a[31](g)}function _(g){a[32](g)}function c(g){a[33](g)}function h(g){a[34](g)}function y(g){a[35](g)}function d(g){a[36](g)}let b={camera:a[7],clock:a[17],hooks:a[22],create_tour_data:a[29]};return a[2]!==void 0&&(b.touring=a[2]),a[3]!==void 0&&(b.tourData=a[3]),a[4]!==void 0&&(b.currentTime=a[4]),a[5]!==void 0&&(b.currentStepIndex=a[5]),a[0]!==void 0&&(b.paused=a[0]),a[6]!==void 0&&(b.begin_tour=a[6]),n=new Pn({props:b}),a[30](n),Be.push(()=>Ve(n,"touring",m)),Be.push(()=>Ve(n,"tourData",_)),Be.push(()=>Ve(n,"currentTime",c)),Be.push(()=>Ve(n,"currentStepIndex",h)),Be.push(()=>Ve(n,"paused",y)),Be.push(()=>Ve(n,"begin_tour",d)),n.$on("begin",a[37]),{c(){f&&f.c(),t=H(),P(n.$$.fragment)},l(g){f&&f.l(g),t=N(g),A(n.$$.fragment,g)},m(g,k){f&&f.m(g,k),T(g,t,k),W(n,g,k),u=!0},p(g,k){g[11]?f?(f.p(g,k),k[0]&2048&&w(f,1)):(f=Vt(g),f.c(),w(f,1),f.m(t.parentNode,t)):f&&(le(),z(f,1,1,()=>{f=null}),ue());const j={};k[0]&128&&(j.camera=g[7]),k[0]&8192&&(j.create_tour_data=g[29]),!e&&k[0]&4&&(e=!0,j.touring=g[2],Ce(()=>e=!1)),!s&&k[0]&8&&(s=!0,j.tourData=g[3],Ce(()=>s=!1)),!i&&k[0]&16&&(i=!0,j.currentTime=g[4],Ce(()=>i=!1)),!r&&k[0]&32&&(r=!0,j.currentStepIndex=g[5],Ce(()=>r=!1)),!o&&k[0]&1&&(o=!0,j.paused=g[0],Ce(()=>o=!1)),!l&&k[0]&64&&(l=!0,j.begin_tour=g[6],Ce(()=>l=!1)),n.$set(j)},i(g){u||(w(f),w(n.$$.fragment,g),u=!0)},o(g){z(f),z(n.$$.fragment,g),u=!1},d(g){g&&p(t),f&&f.d(g),a[30](null),q(n,g)}}}const Nt="/assets/audio/Alexander_Nakarada__Winter.mp3",Pt="/assets/audio/ocean_waves.mp3",un=2e3,fn=2e3,Ba=3e3,cn=6e3,vt=2e3,mn=3e3,_n=250;function Ta(a,t,n){let e,s,i,r,o,l=G,u=()=>(l(),l=J(me,B=>n(43,o=B)),me),f,m=G,_=()=>(m(),m=J(V,B=>n(14,f=B)),V),c,h=G,y=()=>(h(),h=J(ce,B=>n(15,c=B)),ce),d,b=G,g=()=>(b(),b=J(_e,B=>n(16,d=B)),_e),k,j=G,E=()=>(j(),j=J(X,B=>n(44,k=B)),X),M,Q=G,K=()=>(Q(),Q=J(O,B=>n(11,M=B)),O),Z,Y=G,R=()=>(Y(),Y=J(S,B=>n(24,Z=B)),S),ie,fe;a.$$.on_destroy.push(()=>l()),a.$$.on_destroy.push(()=>m()),a.$$.on_destroy.push(()=>h()),a.$$.on_destroy.push(()=>b()),a.$$.on_destroy.push(()=>j()),a.$$.on_destroy.push(()=>Q()),a.$$.on_destroy.push(()=>Y());let{camera:x}=t,{tour:se=void 0}=t,{touring:O=void 0}=t;K();let{tourData:S=void 0}=t;R();let{currentTime:X=void 0}=t;E();let{currentStepIndex:ke=void 0}=t,{paused:re=void 0}=t,{begin_tour:Ie=void 0}=t;const _e=ht(!1);g();const ce=ht(!1);y();const V=ht(!1);_();let{scale:me}=x;u();const je=bt(),Re=wt();Te(a,Re,B=>n(26,fe=B));const De=rn();Te(a,De,B=>n(25,ie=B)),De.addResource("audio",Nt),De.addResource("audio",Pt);let we,ve;const Oe=un+cn+Ba+fn,Le=vt*2+_n+mn;let $e=re;const Fe=B=>{nt(we.audio,i,k,e,B),nt(ve.audio,r,k,e,B)},yt={event:(B,xe)=>{switch(B){case"load":return De.load();case"playOceanWavesSound":{ve.audio.currentTime=0,e&&ve.audio.play();return}case"play_main_song":{we.audio.currentTime=0,e&&we.audio.play();break}case"show_intro":{ee(_e,d=!0,d);return}case"show_title":{ee(ce,c=!0,c);return}case"show_credits":{ee(V,f=!0,f);return}}},seek:(B,xe)=>{if(!we.audio)throw Error("seek expects expected mainSong.audio");if(!ve.audio)throw Error("seek expects expected oceanWavesSound.audio");if(!i)throw Error("seek expects mainSongStep");if(!r)throw Error("seek expects oceanWavesStep");nt(we.audio,i,B,e,re),nt(ve.audio,r,B,e,re),ee(_e,d=!1,d),ee(ce,c=!1,c),ee(V,f=!1,f)},done:B=>{ee(_e,d=!1,d),ee(ce,c=!1,c),ee(V,f=!1,f),o>50&&ee(me,o=50,o),we.audio&&!we.audio.paused&&we.audio.pause(),ve.audio&&!ve.audio.paused&&ve.audio.pause()}},Je=()=>ee(_e,d=!1,d),Me=()=>ee(ce,c=!1,c),Ge=()=>ha(Oe,Le,s);function He(B){Be[B?"unshift":"push"](()=>{se=B,n(1,se)})}function Qe(B){O=B,K(n(2,O))}function ft(B){S=B,R(n(3,S))}function Ne(B){X=B,E(n(4,X))}function Pe(B){ke=B,n(5,ke)}function Ae(B){re=B,n(0,re)}function We(B){Ie=B,n(6,Ie)}function Ze(B){vn.call(this,a,B)}return a.$$set=B=>{"camera"in B&&n(7,x=B.camera),"tour"in B&&n(1,se=B.tour),"touring"in B&&K(n(2,O=B.touring)),"tourData"in B&&R(n(3,S=B.tourData)),"currentTime"in B&&E(n(4,X=B.currentTime)),"currentStepIndex"in B&&n(5,ke=B.currentStepIndex),"paused"in B&&n(0,re=B.paused),"begin_tour"in B&&n(6,Ie=B.begin_tour)},a.$$.update=()=>{a.$$.dirty[0]&128&&u(n(12,{scale:me}=x,me)),a.$$.dirty[0]&67108864&&n(13,{audio_enabled:e,dev_mode:s}=fe,s),a.$$.dirty[0]&33554432&&(we=ie.resources.find(B=>B.url===Nt)),a.$$.dirty[0]&33554432&&(ve=ie.resources.find(B=>B.url===Pt)),a.$$.dirty[0]&16777216&&(i=Z&&$t(Z,"play_main_song")),a.$$.dirty[0]&16777216&&(r=Z&&$t(Z,"playOceanWavesSound")),a.$$.dirty[0]&8390657&&M&&re!==void 0&&re!==$e&&(n(23,$e=re),Fe(re))},[re,se,O,S,X,ke,Ie,x,_e,ce,V,M,me,s,f,c,d,je,Re,De,Oe,Le,yt,$e,Z,ie,fe,Je,Me,Ge,He,Qe,ft,Ne,Pe,Ae,We,Ze]}class Da extends pe{constructor(t){super(),be(this,t,Ta,Ia,ge,{camera:7,tour:1,touring:2,tourData:3,currentTime:4,currentStepIndex:5,paused:0,begin_tour:6,showTourIntro:8,showTourTitle:9,showTourCredits:10},null,[-1,-1])}get showTourIntro(){return this.$$.ctx[8]}get showTourTitle(){return this.$$.ctx[9]}get showTourCredits(){return this.$$.ctx[10]}}function $a(a){let t,n,e;const s=a[8].default,i=yn(s,a,a[9],null);return{c(){t=L("div"),n=L("div"),i&&i.c(),this.h()},l(r){t=C(r,"DIV",{class:!0});var o=U(t);n=C(o,"DIV",{class:!0,style:!0});var l=U(n);i&&i.l(l),l.forEach(p),o.forEach(p),this.h()},h(){I(n,"class","transform-wrapper svelte-10bve70"),F(n,"transform","scale3d("+a[4]+", "+a[4]+", 1) translate3d("+a[2]+"px, "+a[3]+"px, 0)"),F(n,"width",a[0]+"px"),F(n,"height",a[1]+"px"),I(t,"class","image-viewer svelte-10bve70")},m(r,o){T(r,t,o),$(t,n),i&&i.m(n,null),e=!0},p(r,o){i&&i.p&&(!e||o&512)&&zn(i,s,r,r[9],e?In(s,r[9],o,null):kn(r[9]),null),(!e||o&28)&&F(n,"transform","scale3d("+r[4]+", "+r[4]+", 1) translate3d("+r[2]+"px, "+r[3]+"px, 0)"),(!e||o&1)&&F(n,"width",r[0]+"px"),(!e||o&2)&&F(n,"height",r[1]+"px")},i(r){e||(w(i,r),e=!0)},o(r){z(i,r),e=!1},d(r){r&&p(t),i&&i.d(r)}}}function Ea(a){let t,n;return t=new Qn({props:{width:a[0],height:a[1],scale:a[4],zoom:a[5],pan:a[6],disabled:!a[7],$$slots:{default:[$a]},$$scope:{ctx:a}}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,[s]){const i={};s&1&&(i.width=e[0]),s&2&&(i.height=e[1]),s&16&&(i.scale=e[4]),s&32&&(i.zoom=e[5]),s&64&&(i.pan=e[6]),s&128&&(i.disabled=!e[7]),s&543&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Sa(a,t,n){let{$$slots:e={},$$scope:s}=t,{width:i}=t,{height:r}=t,{x:o}=t,{y:l}=t,{scale:u}=t,{zoom_camera:f}=t,{move_camera:m}=t,{input_enabled:_=!0}=t;return a.$$set=c=>{"width"in c&&n(0,i=c.width),"height"in c&&n(1,r=c.height),"x"in c&&n(2,o=c.x),"y"in c&&n(3,l=c.y),"scale"in c&&n(4,u=c.scale),"zoom_camera"in c&&n(5,f=c.zoom_camera),"move_camera"in c&&n(6,m=c.move_camera),"input_enabled"in c&&n(7,_=c.input_enabled),"$$scope"in c&&n(9,s=c.$$scope)},[i,r,o,l,u,f,m,_,e,s]}class La extends pe{constructor(t){super(),be(this,t,Sa,Ea,ge,{width:0,height:1,x:2,y:3,scale:4,zoom_camera:5,move_camera:6,input_enabled:7})}}function At(a,t,n){const e=a.slice();return e[4]=t[n],e[6]=n,e}function Wt(a,t){let n,e;return{key:a,first:null,c(){n=L("img"),this.h()},l(s){n=C(s,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){Se(n.src,e=t[4])||I(n,"src",e),I(n,"alt",t[1]),F(n,"opacity",t[2][t[6]]),F(n,"z-index",Et(t[0].length,t[6],t[2][t[6]])),I(n,"class","svelte-vqzya9"),this.first=n},m(s,i){T(s,n,i)},p(s,i){t=s,i&1&&!Se(n.src,e=t[4])&&I(n,"src",e),i&2&&I(n,"alt",t[1]),i&5&&F(n,"opacity",t[2][t[6]]),i&5&&F(n,"z-index",Et(t[0].length,t[6],t[2][t[6]]))},d(s){s&&p(n)}}}function Ca(a){let t=[],n=new Map,e,s=st(a[0]);const i=r=>r[4];for(let r=0;r<s.length;r+=1){let o=At(a,s,r),l=i(o);n.set(l,t[r]=Wt(l,o))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=de()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=de()},m(r,o){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(r,o);T(r,e,o)},p(r,[o]){o&7&&(s=st(r[0]),t=on(t,o,i,1,r,s,n,e.parentNode,ln,Wt,e,At))},i:G,o:G,d(r){r&&p(e);for(let o=0;o<t.length;o+=1)t[o].d(r)}}}function Va(a,t,n){let e,{images:s}=t,{value:i}=t,{alt:r}=t;return a.$$set=o=>{"images"in o&&n(0,s=o.images),"value"in o&&n(3,i=o.value),"alt"in o&&n(1,r=o.alt)},a.$$.update=()=>{a.$$.dirty&9&&n(2,e=An(s.length,i))},[s,r,e,i]}class qt extends pe{constructor(t){super(),be(this,t,Va,Ca,ge,{images:0,value:3,alt:1})}}function jt(a,t,n){const e=a.slice();return e[6]=t[n],e[8]=n,e}function Rt(a,t){let n,e;return{key:a,first:null,c(){n=L("img"),this.h()},l(s){n=C(s,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){Se(n.src,e=t[6])||I(n,"src",e),I(n,"alt",t[1]),F(n,"opacity",t[4][t[8]]),F(n,"z-index",t[3]===void 0||t[8]===t[3]?t[2]:t[2]+1),I(n,"class","svelte-vqzya9"),this.first=n},m(s,i){T(s,n,i)},p(s,i){t=s,i&1&&!Se(n.src,e=t[6])&&I(n,"src",e),i&2&&I(n,"alt",t[1]),i&17&&F(n,"opacity",t[4][t[8]]),i&13&&F(n,"z-index",t[3]===void 0||t[8]===t[3]?t[2]:t[2]+1)},d(s){s&&p(n)}}}function Oa(a){let t=[],n=new Map,e,s=st(a[0]);const i=r=>r[6];for(let r=0;r<s.length;r+=1){let o=jt(a,s,r),l=i(o);n.set(l,t[r]=Rt(l,o))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=de()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=de()},m(r,o){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(r,o);T(r,e,o)},p(r,[o]){o&31&&(s=st(r[0]),t=on(t,o,i,1,r,s,n,e.parentNode,ln,Rt,e,jt))},i:G,o:G,d(r){r&&p(e);for(let o=0;o<t.length;o+=1)t[o].d(r)}}}function Ma(a,t,n){let e,{images:s}=t,{value:i}=t,{alt:r}=t,{zIndex:o=1}=t,{floorIndex:l=void 0}=t;return a.$$set=u=>{"images"in u&&n(0,s=u.images),"value"in u&&n(5,i=u.value),"alt"in u&&n(1,r=u.alt),"zIndex"in u&&n(2,o=u.zIndex),"floorIndex"in u&&n(3,l=u.floorIndex)},a.$$.update=()=>{a.$$.dirty&41&&n(4,e=Wn(s.length,i,void 0,l))},[s,r,o,l,e,i]}class Ft extends pe{constructor(t){super(),be(this,t,Ma,Oa,ge,{images:0,value:5,alt:1,zIndex:2,floorIndex:3})}}function Gt(a){let t,n,e,s;return{c(){t=L("div"),n=H(),e=L("img"),this.h()},l(i){t=C(i,"DIV",{class:!0}),U(t).forEach(p),n=N(i),e=C(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){I(t,"class","nightfall svelte-841573"),F(t,"opacity",a[8]),I(e,"class","lights svelte-841573"),Se(e.src,s=a[6])||I(e,"src",s),I(e,"alt","Earth's lights at night"),F(e,"opacity",a[7])},m(i,r){T(i,t,r),T(i,n,r),T(i,e,r)},p(i,r){r&256&&F(t,"opacity",i[8]),r&64&&!Se(e.src,s=i[6])&&I(e,"src",s),r&128&&F(e,"opacity",i[7])},d(i){i&&(p(t),p(n),p(e))}}}function Ut(a){let t,n,e,s;return{c(){t=L("div"),n=H(),e=L("img"),this.h()},l(i){t=C(i,"DIV",{class:!0}),U(t).forEach(p),n=N(i),e=C(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){I(t,"class","nightfall svelte-841573"),F(t,"opacity",a[8]),I(e,"class","lights svelte-841573"),Se(e.src,s=a[6])||I(e,"src",s),I(e,"alt","Earth's lights at night"),F(e,"opacity",a[7])},m(i,r){T(i,t,r),T(i,n,r),T(i,e,r)},p(i,r){r&256&&F(t,"opacity",i[8]),r&64&&!Se(e.src,s=i[6])&&I(e,"src",s),r&128&&F(e,"opacity",i[7])},d(i){i&&(p(t),p(n),p(e))}}}function Ha(a){let t,n,e,s,i,r,o,l,u,f,m,_,c;e=new qt({props:{alt:"Earth's land",images:a[4],value:a[10]}}),i=new Ft({props:{alt:"Earth's oceans",images:a[14],value:a[11],zIndex:100,floorIndex:a[5]}});let h=a[9]&&Gt(a);u=new qt({props:{alt:"Earth's land",images:a[4],value:a[10]}}),m=new Ft({props:{alt:"Earth's oceans",images:a[14],value:a[11],zIndex:100,floorIndex:a[5]}});let y=a[9]&&Ut(a);return{c(){t=L("div"),n=L("div"),P(e.$$.fragment),s=H(),P(i.$$.fragment),r=H(),h&&h.c(),o=H(),l=L("div"),P(u.$$.fragment),f=H(),P(m.$$.fragment),_=H(),y&&y.c(),this.h()},l(d){t=C(d,"DIV",{class:!0});var b=U(t);n=C(b,"DIV",{class:!0,style:!0});var g=U(n);A(e.$$.fragment,g),s=N(g),A(i.$$.fragment,g),r=N(g),h&&h.l(g),g.forEach(p),o=N(b),l=C(b,"DIV",{class:!0,style:!0});var k=U(l);A(u.$$.fragment,k),f=N(k),A(m.$$.fragment,k),_=N(k),y&&y.l(k),k.forEach(p),b.forEach(p),this.h()},h(){I(n,"class","earth svelte-841573"),F(n,"left",a[2]+"px"),I(l,"class","earth svelte-841573"),F(l,"left",a[3]+"px"),I(t,"class","earths pixelated svelte-841573")},m(d,b){T(d,t,b),$(t,n),W(e,n,null),$(n,s),W(i,n,null),$(n,r),h&&h.m(n,null),$(t,o),$(t,l),W(u,l,null),$(l,f),W(m,l,null),$(l,_),y&&y.m(l,null),c=!0},p(d,b){const g={};b&16&&(g.images=d[4]),b&1024&&(g.value=d[10]),e.$set(g);const k={};b&16384&&(k.images=d[14]),b&2048&&(k.value=d[11]),b&32&&(k.floorIndex=d[5]),i.$set(k),d[9]?h?h.p(d,b):(h=Gt(d),h.c(),h.m(n,null)):h&&(h.d(1),h=null),(!c||b&4)&&F(n,"left",d[2]+"px");const j={};b&16&&(j.images=d[4]),b&1024&&(j.value=d[10]),u.$set(j);const E={};b&16384&&(E.images=d[14]),b&2048&&(E.value=d[11]),b&32&&(E.floorIndex=d[5]),m.$set(E),d[9]?y?y.p(d,b):(y=Ut(d),y.c(),y.m(l,null)):y&&(y.d(1),y=null),(!c||b&8)&&F(l,"left",d[3]+"px")},i(d){c||(w(e.$$.fragment,d),w(i.$$.fragment,d),w(u.$$.fragment,d),w(m.$$.fragment,d),c=!0)},o(d){z(e.$$.fragment,d),z(i.$$.fragment,d),z(u.$$.fragment,d),z(m.$$.fragment,d),c=!1},d(d){d&&p(t),q(e),q(i),h&&h.d(),q(u),q(m),y&&y.d()}}}function Na(a){let t,n;return t=new La({props:{width:a[13],height:a[12],x:a[16],y:a[15],scale:a[22],move_camera:a[0].move_camera,zoom_camera:a[0].zoom_camera,input_enabled:a[1],$$slots:{default:[Ha]},$$scope:{ctx:a}}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,[s]){const i={};s&8192&&(i.width=e[13]),s&4096&&(i.height=e[12]),s&65536&&(i.x=e[16]),s&32768&&(i.y=e[15]),s&4194304&&(i.scale=e[22]),s&1&&(i.move_camera=e[0].move_camera),s&1&&(i.zoom_camera=e[0].zoom_camera),s&2&&(i.input_enabled=e[1]),s&134238204&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Pa(a,t,n){let e,s,i,r,o,l,u,f,m,_=G,c=()=>(_(),_=J(r,V=>n(12,m=V)),r),h,y=G,d=()=>(y(),y=J(s,V=>n(25,h=V)),s),b,g=G,k=()=>(g(),g=J(i,V=>n(13,b=V)),i),j,E=G,M=()=>(E(),E=J(e,V=>n(26,j=V)),e),Q,K=G,Z=()=>(K(),K=J(o,V=>n(22,Q=V)),o);a.$$.on_destroy.push(()=>_()),a.$$.on_destroy.push(()=>y()),a.$$.on_destroy.push(()=>g()),a.$$.on_destroy.push(()=>E()),a.$$.on_destroy.push(()=>K());let{camera:Y}=t,{input_enabled:R=!0}=t,{earth1LeftOffset:ie}=t,{earth2LeftOffset:fe}=t,{landImages:x}=t,{seaImages:se}=t,{shoreImages:O=void 0}=t,{seashoreFloorIndex:S=void 0}=t,{lightsImage:X=void 0}=t,{lightsOpacity:ke=0}=t,{nightfallOpacity:re=0}=t,{showLights:Ie=!1}=t,{activeLandValue:_e}=t,{activeSeaLevel:ce}=t;return a.$$set=V=>{"camera"in V&&n(0,Y=V.camera),"input_enabled"in V&&n(1,R=V.input_enabled),"earth1LeftOffset"in V&&n(2,ie=V.earth1LeftOffset),"earth2LeftOffset"in V&&n(3,fe=V.earth2LeftOffset),"landImages"in V&&n(4,x=V.landImages),"seaImages"in V&&n(23,se=V.seaImages),"shoreImages"in V&&n(24,O=V.shoreImages),"seashoreFloorIndex"in V&&n(5,S=V.seashoreFloorIndex),"lightsImage"in V&&n(6,X=V.lightsImage),"lightsOpacity"in V&&n(7,ke=V.lightsOpacity),"nightfallOpacity"in V&&n(8,re=V.nightfallOpacity),"showLights"in V&&n(9,Ie=V.showLights),"activeLandValue"in V&&n(10,_e=V.activeLandValue),"activeSeaLevel"in V&&n(11,ce=V.activeSeaLevel)},a.$$.update=()=>{a.$$.dirty&1&&M(n(21,{x:e,y:s,width:i,height:r,scale:o}=Y,e,d(n(20,s)),k(n(19,i)),c(n(18,r)),Z(n(17,o)))),a.$$.dirty&67117056&&n(16,l=j*-1+b/2),a.$$.dirty&33558528&&n(15,u=h*-1+m/2),a.$$.dirty&25165824&&n(14,f=O?O.concat(se):se)},[Y,R,ie,fe,x,S,X,ke,re,Ie,_e,ce,m,b,f,u,l,o,r,i,s,e,Q,se,O,h,j]}class Aa extends pe{constructor(t){super(),be(this,t,Pa,Na,ge,{camera:0,input_enabled:1,earth1LeftOffset:2,earth2LeftOffset:3,landImages:4,seaImages:23,shoreImages:24,seashoreFloorIndex:5,lightsImage:6,lightsOpacity:7,nightfallOpacity:8,showLights:9,activeLandValue:10,activeSeaLevel:11})}}function Wa(a){let t=a[5]?"webgl":"dom",n;return{c(){n=ne(t)},l(e){n=ae(e,t)},m(e,s){T(e,n,s)},p(e,s){s&32&&t!==(t=e[5]?"webgl":"dom")&&lt(n,t)},d(e){e&&p(n)}}}function qa(a){let t,n=St(a[8],1)+"",e;return{c(){t=ne("scale: "),e=ne(n)},l(s){t=ae(s,"scale: "),e=ae(s,n)},m(s,i){T(s,t,i),T(s,e,i)},p(s,i){i&256&&n!==(n=St(s[8],1)+"")&&lt(e,n)},d(s){s&&(p(t),p(e))}}}function ja(a){let t,n=Math.round(a[9])+"",e;return{c(){t=ne("x: "),e=ne(n)},l(s){t=ae(s,"x: "),e=ae(s,n)},m(s,i){T(s,t,i),T(s,e,i)},p(s,i){i&512&&n!==(n=Math.round(s[9])+"")&&lt(e,n)},d(s){s&&(p(t),p(e))}}}function Ra(a){let t,n=Math.round(a[10])+"",e;return{c(){t=ne("y: "),e=ne(n)},l(s){t=ae(s,"y: "),e=ae(s,n)},m(s,i){T(s,t,i),T(s,e,i)},p(s,i){i&1024&&n!==(n=Math.round(s[10])+"")&&lt(e,n)},d(s){s&&(p(t),p(e))}}}function Kt(a){let t,n;return t=new qn({props:{tour:a[0],debug_start_time:a[6]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s&1&&(i.tour=e[0]),s&64&&(i.debug_start_time=e[6]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Fa(a){let t,n,e,s,i,r,o,l,u,f;t=new Xe({props:{$$slots:{default:[Wa]},$$scope:{ctx:a}}}),t.$on("click",a[12]),e=new Xe({props:{$$slots:{default:[qa]},$$scope:{ctx:a}}}),e.$on("click",a[13]),i=new Xe({props:{$$slots:{default:[ja]},$$scope:{ctx:a}}}),i.$on("click",a[14]),o=new Xe({props:{$$slots:{default:[Ra]},$$scope:{ctx:a}}}),o.$on("click",a[15]);let m=a[0]&&a[11]&&Kt(a);return{c(){P(t.$$.fragment),n=H(),P(e.$$.fragment),s=H(),P(i.$$.fragment),r=H(),P(o.$$.fragment),l=H(),m&&m.c(),u=de()},l(_){A(t.$$.fragment,_),n=N(_),A(e.$$.fragment,_),s=N(_),A(i.$$.fragment,_),r=N(_),A(o.$$.fragment,_),l=N(_),m&&m.l(_),u=de()},m(_,c){W(t,_,c),T(_,n,c),W(e,_,c),T(_,s,c),W(i,_,c),T(_,r,c),W(o,_,c),T(_,l,c),m&&m.m(_,c),T(_,u,c),f=!0},p(_,[c]){const h={};c&65568&&(h.$$scope={dirty:c,ctx:_}),t.$set(h);const y={};c&65792&&(y.$$scope={dirty:c,ctx:_}),e.$set(y);const d={};c&66048&&(d.$$scope={dirty:c,ctx:_}),i.$set(d);const b={};c&66560&&(b.$$scope={dirty:c,ctx:_}),o.$set(b),_[0]&&_[11]?m?(m.p(_,c),c&2049&&w(m,1)):(m=Kt(_),m.c(),w(m,1),m.m(u.parentNode,u)):m&&(le(),z(m,1,1,()=>{m=null}),ue())},i(_){f||(w(t.$$.fragment,_),w(e.$$.fragment,_),w(i.$$.fragment,_),w(o.$$.fragment,_),w(m),f=!0)},o(_){z(t.$$.fragment,_),z(e.$$.fragment,_),z(i.$$.fragment,_),z(o.$$.fragment,_),z(m),f=!1},d(_){_&&(p(n),p(s),p(r),p(l),p(u)),q(t,_),q(e,_),q(i,_),q(o,_),m&&m.d(_)}}}function Ga(a,t,n){let e,s,i=G,r=()=>(i(),i=J(k,R=>n(8,s=R)),k),o,l=G,u=()=>(l(),l=J(b,R=>n(9,o=R)),b),f,m=G,_=()=>(m(),m=J(g,R=>n(10,f=R)),g),c,h=G,y=()=>(h(),h=J(e,R=>n(11,c=R)),e);a.$$.on_destroy.push(()=>i()),a.$$.on_destroy.push(()=>l()),a.$$.on_destroy.push(()=>m()),a.$$.on_destroy.push(()=>h());let{tour:d}=t,{x:b}=t;u();let{y:g}=t;_();let{scale:k}=t;r();let{togglePixiEarthViewer:j}=t,{enablePixiEarthViewer:E}=t,{debug_start_time:M}=t;const Q=()=>{j(!E)},K=()=>{ee(k,s=Number(prompt("🔎",s+""))||s,s)},Z=()=>{const R=Number(prompt("x",o+""));Number.isNaN(R)||ee(b,o=R,o)},Y=()=>{const R=Number(prompt("y",f+""));Number.isNaN(R)||ee(g,f=R,f)};return a.$$set=R=>{"tour"in R&&n(0,d=R.tour),"x"in R&&u(n(1,b=R.x)),"y"in R&&_(n(2,g=R.y)),"scale"in R&&r(n(3,k=R.scale)),"togglePixiEarthViewer"in R&&n(4,j=R.togglePixiEarthViewer),"enablePixiEarthViewer"in R&&n(5,E=R.enablePixiEarthViewer),"debug_start_time"in R&&n(6,M=R.debug_start_time)},a.$$.update=()=>{a.$$.dirty&1&&y(n(7,e=d==null?void 0:d.touring))},[d,b,g,k,j,E,M,e,s,o,f,c,Q,K,Z,Y]}class Ua extends pe{constructor(t){super(),be(this,t,Ga,Fa,ge,{tour:0,x:1,y:2,scale:3,togglePixiEarthViewer:4,enablePixiEarthViewer:5,debug_start_time:6})}}function Yt(a){let t,n,e,s;const i=[Ya,Ka],r=[];function o(l,u){return!l[13]&&l[21].status==="success"?0:1}return n=o(a),e=r[n]=i[n](a),{c(){t=L("div"),e.c(),this.h()},l(l){t=C(l,"DIV",{class:!0});var u=U(t);e.l(u),u.forEach(p),this.h()},h(){I(t,"class","deep-breath svelte-i47juo")},m(l,u){T(l,t,u),r[n].m(t,null),s=!0},p(l,u){let f=n;n=o(l),n===f?r[n].p(l,u):(le(),z(r[f],1,1,()=>{r[f]=null}),ue(),e=r[n],e?e.p(l,u):(e=r[n]=i[n](l),e.c()),w(e,1),e.m(t,null))},i(l){s||(w(e),s=!0)},o(l){z(e),s=!1},d(l){l&&p(t),r[n].d()}}}function Ka(a){let t,n;return t=new _a({props:{resources:a[29],proceed:a[41]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p:G,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ya(a){let t,n,e,s,i,r,o,l;const u=[Ja,Xa],f=[];function m(h,y){return h[11]?0:1}t=m(a),n=f[t]=u[t](a);function _(h){a[55](h)}let c={camera:a[0]};return a[1]!==void 0&&(c.tour=a[1]),s=new Da({props:c}),Be.push(()=>Ve(s,"tour",_)),s.$on("begin",a[40]),o=new an({props:{$$slots:{default:[ri]},$$scope:{ctx:a}}}),{c(){n.c(),e=H(),P(s.$$.fragment),r=H(),P(o.$$.fragment)},l(h){n.l(h),e=N(h),A(s.$$.fragment,h),r=N(h),A(o.$$.fragment,h)},m(h,y){f[t].m(h,y),T(h,e,y),W(s,h,y),T(h,r,y),W(o,h,y),l=!0},p(h,y){let d=t;t=m(h),t===d?f[t].p(h,y):(le(),z(f[d],1,1,()=>{f[d]=null}),ue(),n=f[t],n?n.p(h,y):(n=f[t]=u[t](h),n.c()),w(n,1),n.m(e.parentNode,e));const b={};y[0]&1&&(b.camera=h[0]),!i&&y[0]&2&&(i=!0,b.tour=h[1],Ce(()=>i=!1)),s.$set(b);const g={};y[0]&1658478|y[2]&8&&(g.$$scope={dirty:y,ctx:h}),o.$set(g)},i(h){l||(w(n),w(s.$$.fragment,h),w(o.$$.fragment,h),l=!0)},o(h){z(n),z(s.$$.fragment,h),z(o.$$.fragment,h),l=!1},d(h){h&&(p(e),p(r)),f[t].d(h),q(s,h),q(o,h)}}}function Xa(a){let t,n;return t=new Aa({props:{camera:a[0],input_enabled:a[17],earth1LeftOffset:a[4],earth2LeftOffset:a[12],landImages:a[32],seaImages:a[33],activeLandValue:a[15],activeSeaLevel:a[16]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[0]&1&&(i.camera=e[0]),s[0]&131072&&(i.input_enabled=e[17]),s[0]&16&&(i.earth1LeftOffset=e[4]),s[0]&4096&&(i.earth2LeftOffset=e[12]),s[0]&32768&&(i.activeLandValue=e[15]),s[0]&65536&&(i.activeSeaLevel=e[16]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ja(a){let t,n;return t=new Rn({props:{camera:a[0],landImages:a[32],seaImages:a[33],activeLandValue:a[15],activeSeaLevel:a[16],input_enabled:a[17],imageWidth:qe,imageHeight:hn}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[0]&1&&(i.camera=e[0]),s[0]&32768&&(i.activeLandValue=e[15]),s[0]&65536&&(i.activeSeaLevel=e[16]),s[0]&131072&&(i.input_enabled=e[17]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Qa(a){let t,n;return t=new ut({props:{pressed:a[10],label:"toggle hud controls",$$slots:{default:[ei]},$$scope:{ctx:a}}}),t.$on("click",a[31]),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[0]&1024&&(i.pressed=e[10]),s[2]&8&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Za(a){let t,n;return t=new ut({props:{label:"go back to title screen",$$slots:{default:[ti]},$$scope:{ctx:a}}}),t.$on("click",a[42]),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[2]&8&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function xa(a){let t,n;return t=new ut({props:{label:"cancel tour",$$slots:{default:[ni]},$$scope:{ctx:a}}}),t.$on("click",function(){ot(a[1].cancel)&&a[1].cancel.apply(this,arguments)}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){a=e;const i={};s[2]&8&&(i.$$scope={dirty:s,ctx:a}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ei(a){let t;return{c(){t=ne("∙∙∙")},l(n){t=ae(n,"∙∙∙")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function ti(a){let t;return{c(){t=ne("⇦")},l(n){t=ae(n,"⇦")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function ni(a){let t;return{c(){t=ne("✕")},l(n){t=ae(n,"✕")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function Xt(a){let t,n,e,s,i,r,o,l;n=new ut({props:{pressed:a[10],label:"toggle hud controls",$$slots:{default:[ai]},$$scope:{ctx:a}}}),n.$on("click",a[31]);let u=a[1]&&!a[9]&&Jt(a),f=a[14]&&Qt(a),m=!a[9]&&Zt(a);return{c(){t=L("div"),P(n.$$.fragment),e=H(),u&&u.c(),s=H(),i=L("div"),f&&f.c(),r=H(),m&&m.c(),o=de(),this.h()},l(_){t=C(_,"DIV",{class:!0});var c=U(t);A(n.$$.fragment,c),e=N(c),u&&u.l(c),c.forEach(p),s=N(_),i=C(_,"DIV",{class:!0});var h=U(i);f&&f.l(h),h.forEach(p),r=N(_),m&&m.l(_),o=de(),this.h()},h(){I(t,"class","hud-top-controls svelte-i47juo"),I(i,"class","hud-left-controls svelte-i47juo")},m(_,c){T(_,t,c),W(n,t,null),$(t,e),u&&u.m(t,null),T(_,s,c),T(_,i,c),f&&f.m(i,null),T(_,r,c),m&&m.m(_,c),T(_,o,c),l=!0},p(_,c){const h={};c[0]&1024&&(h.pressed=_[10]),c[2]&8&&(h.$$scope={dirty:c,ctx:_}),n.$set(h),_[1]&&!_[9]?u?(u.p(_,c),c[0]&514&&w(u,1)):(u=Jt(_),u.c(),w(u,1),u.m(t,null)):u&&(le(),z(u,1,1,()=>{u=null}),ue()),_[14]?f?(f.p(_,c),c[0]&16384&&w(f,1)):(f=Qt(_),f.c(),w(f,1),f.m(i,null)):f&&(le(),z(f,1,1,()=>{f=null}),ue()),_[9]?m&&(le(),z(m,1,1,()=>{m=null}),ue()):m?(m.p(_,c),c[0]&512&&w(m,1)):(m=Zt(_),m.c(),w(m,1),m.m(o.parentNode,o))},i(_){l||(w(n.$$.fragment,_),w(u),w(f),w(m),l=!0)},o(_){z(n.$$.fragment,_),z(u),z(f),z(m),l=!1},d(_){_&&(p(t),p(s),p(i),p(r),p(o)),q(n),u&&u.d(),f&&f.d(),m&&m.d(_)}}}function ai(a){let t;return{c(){t=ne("∙∙∙")},l(n){t=ae(n,"∙∙∙")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function Jt(a){let t,n;return t=new Xe({props:{$$slots:{default:[ii]},$$scope:{ctx:a}}}),t.$on("click",function(){ot(a[1].begin_tour)&&a[1].begin_tour.apply(this,arguments)}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){a=e;const i={};s[2]&8&&(i.$$scope={dirty:s,ctx:a}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ii(a){let t;return{c(){t=ne("tour")},l(n){t=ae(n,"tour")},m(n,e){T(n,t,e)},d(n){n&&p(t)}}}function Qt(a){let t,n;return t=new Ua({props:{tour:a[1]||null,x:a[5],y:a[20],scale:a[19],togglePixiEarthViewer:a[56],enablePixiEarthViewer:a[11],debug_start_time:oi}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,s){W(t,e,s),n=!0},p(e,s){const i={};s[0]&2&&(i.tour=e[1]||null),s[0]&32&&(i.x=e[5]),s[0]&1048576&&(i.y=e[20]),s[0]&524288&&(i.scale=e[19]),s[0]&2048&&(i.togglePixiEarthViewer=e[56]),s[0]&2048&&(i.enablePixiEarthViewer=e[11]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Zt(a){let t,n,e,s,i;return n=new Fn({props:{active_land_index:a[6],selected_land_index:a[3],select_land_index:a[36],hover_land_index:a[37]}}),s=new Gn({props:{sea_level:a[16],sea_index_max:a[34],selected_sea_level:a[2],select_sea_level:a[38],hover_sea_level:a[39]}}),{c(){t=L("div"),P(n.$$.fragment),e=H(),P(s.$$.fragment),this.h()},l(r){t=C(r,"DIV",{class:!0});var o=U(t);A(n.$$.fragment,o),o.forEach(p),e=N(r),A(s.$$.fragment,r),this.h()},h(){I(t,"class","month-wrapper svelte-i47juo")},m(r,o){T(r,t,o),W(n,t,null),T(r,e,o),W(s,r,o),i=!0},p(r,o){const l={};o[0]&64&&(l.active_land_index=r[6]),o[0]&8&&(l.selected_land_index=r[3]),n.$set(l);const u={};o[0]&65536&&(u.sea_level=r[16]),o[0]&4&&(u.selected_sea_level=r[2]),s.$set(u)},i(r){i||(w(n.$$.fragment,r),w(s.$$.fragment,r),i=!0)},o(r){z(n.$$.fragment,r),z(s.$$.fragment,r),i=!1},d(r){r&&(p(t),p(e)),q(n),q(s,r)}}}function ri(a){let t,n,e,s,i;const r=[xa,Za,Qa],o=[];function l(f,m){return f[1]&&f[9]?0:f[10]?1:2}t=l(a),n=o[t]=r[t](a);let u=a[10]&&(!a[9]||a[14])&&Xt(a);return{c(){n.c(),e=H(),u&&u.c(),s=de()},l(f){n.l(f),e=N(f),u&&u.l(f),s=de()},m(f,m){o[t].m(f,m),T(f,e,m),u&&u.m(f,m),T(f,s,m),i=!0},p(f,m){let _=t;t=l(f),t===_?o[t].p(f,m):(le(),z(o[_],1,1,()=>{o[_]=null}),ue(),n=o[t],n?n.p(f,m):(n=o[t]=r[t](f),n.c()),w(n,1),n.m(e.parentNode,e)),f[10]&&(!f[9]||f[14])?u?(u.p(f,m),m[0]&17920&&w(u,1)):(u=Xt(f),u.c(),w(u,1),u.m(s.parentNode,s)):u&&(le(),z(u,1,1,()=>{u=null}),ue())},i(f){i||(w(n),w(u),i=!0)},o(f){z(n),z(u),i=!1},d(f){f&&(p(e),p(s)),o[t].d(f),u&&u.d(f)}}}function si(a){let t,n,e,s,i,r,o={initialX:a[24],initialY:a[25],initialWidth:a[26],initialHeight:a[27]};t=new jn({props:o}),a[54](t);let l=a[0]&&a[5]&&a[20]&&a[19]&&Yt(a);return{c(){P(t.$$.fragment),n=H(),l&&l.c(),e=de()},l(u){A(t.$$.fragment,u),n=N(u),l&&l.l(u),e=de()},m(u,f){W(t,u,f),T(u,n,f),l&&l.m(u,f),T(u,e,f),s=!0,i||(r=en(window,"keydown",a[30]),i=!0)},p(u,f){const m={};t.$set(m),u[0]&&u[5]&&u[20]&&u[19]?l?(l.p(u,f),f[0]&1572897&&w(l,1)):(l=Yt(u),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(le(),z(l,1,1,()=>{l=null}),ue())},i(u){s||(w(t.$$.fragment,u),w(l),s=!0)},o(u){z(t.$$.fragment,u),z(l),s=!1},d(u){u&&(p(n),p(e)),a[54](null),q(t,u),l&&l.d(u),i=!1,r()}}}const qe=4096,hn=2048,oi=0,xt=230,gt=1e3;function li(a,t,n){let e,s,i,r,o,l,u,f,m,_,c,h,y,d=G,b=()=>(d(),d=J(u,D=>n(9,y=D)),u),g,k=G,j=()=>(k(),k=J(e,D=>n(49,g=D)),e),E,M,Q,K,Z,Y=G,R=()=>(Y(),Y=J(o,D=>n(58,Z=D)),o),ie,fe=G,x=()=>(fe(),fe=J(r,D=>n(59,ie=D)),r),se;a.$$.on_destroy.push(()=>d()),a.$$.on_destroy.push(()=>k()),a.$$.on_destroy.push(()=>Y()),a.$$.on_destroy.push(()=>fe());const O=bt();Te(a,O,D=>n(51,M=D));let S;const X=Vn();Te(a,X,D=>n(53,K=D));const ke=Tt(0,qe),re=Tt(K.height/2,hn-K.height/2),Ie=K.width,_e=K.height,ce=wt();Te(a,ce,D=>n(52,Q=D));const V=rn();Te(a,V,D=>n(21,se=D));let me,je=!0;const Re=(D=!je)=>{n(10,je=D)};let De=!0;const we=D=>{Ue||f&&(D.key==="Escape"&&!D.ctrlKey&&Dt(D.target)?(mt(D),Bt()):D.key==="1"&&Dt(D.target)&&(mt(D),Re()))},ve=D=>{mt(D),Re()},Oe=Array.from({length:12},(D,Ke)=>`/assets/earth/land_${Ke+1}.png`);let Le=0,$e=0;const Fe=Array.from({length:3},(D,Ke)=>`/assets/earth/sea_${Ke+1}.png`),Je=Fe.length-1;let Me=gt;const Ge=Bn(0,{easing:Cn,duration:gt});Te(a,Ge,D=>n(50,E=D));let He=0;const Qe=[0,1].map(D=>Math.round(D*Je)),ft=()=>{He>=Qe.length-1?He=0:He++;const D=Qe[He];ee(Ge,E=D,E)};let Ne=null,Pe=null,Ae=null,We=null;const Ze=D=>{n(44,$e=xt*D)},B=D=>{n(3,Ae=D),D!==null&&Ze(D)},xe=D=>{n(47,We=D),D!==null&&Ze(D)},zt=D=>{n(2,Ne=D)},kt=D=>{n(46,Pe=D)},dn=()=>{console.log("BEGIN TOUR"),B(null),xe(null),zt(null),kt(null)};let ct,It;Oe.forEach(D=>V.addResource("image",D)),Fe.forEach(D=>V.addResource("image",D));let Ue=!0;const gn=()=>{n(13,Ue=!1)},Bt=()=>{y&&me.cancel(),n(13,Ue=!0)};pt(()=>{l&&(n(13,Ue=!1),V.load())});function pn(D){Be[D?"unshift":"push"](()=>{S=D,n(0,S)})}function bn(D){me=D,n(1,me)}const wn=D=>n(11,De=D);return a.$$.update=()=>{if(a.$$.dirty[0]&1&&j(n(5,e=S==null?void 0:S.x)),a.$$.dirty[0]&1&&n(20,s=S==null?void 0:S.y),a.$$.dirty[0]&1&&n(19,i=S==null?void 0:S.scale),a.$$.dirty[0]&1&&x(n(8,r=S==null?void 0:S.width)),a.$$.dirty[0]&1&&R(n(7,o=S==null?void 0:S.height)),a.$$.dirty[0]&256|a.$$.dirty[1]&4194304&&r&&ee(r,ie=K.width,ie),a.$$.dirty[0]&128|a.$$.dirty[1]&4194304&&o&&ee(o,Z=K.height,Z),a.$$.dirty[1]&2097152&&n(14,l=Q.dev_mode),a.$$.dirty[0]&2&&b(n(18,u=me?me.touring:null)),a.$$.dirty[0]&512&&n(17,f=!y),a.$$.dirty[0]&8|a.$$.dirty[1]&1122304&&Ae===null&&We===null&&(n(44,$e+=M.dt),n(43,Le=$e/xt%Oe.length)),a.$$.dirty[1]&4096&&n(48,m=Math.floor(Le)),a.$$.dirty[0]&4|a.$$.dirty[1]&1097728&&Ne===null&&Pe===null&&(n(45,Me-=M.dt),Me<=0&&(n(45,Me=gt),ft())),a.$$.dirty[0]&4|a.$$.dirty[1]&557056&&n(16,_=Pe??Ne??E),a.$$.dirty[0]&8|a.$$.dirty[1]&196608&&n(6,c=We??Ae??m),a.$$.dirty[0]&64|a.$$.dirty[1]&135168&&n(15,h=c===m?Le:c),a.$$.dirty[0]&48|a.$$.dirty[1]&262144&&e){const D=Math.floor(g/qe);n(4,ct=D*qe);const Ke=g/qe-D;n(12,It=ct+qe*(Ke<.5?-1:1))}},[S,me,Ne,Ae,ct,e,c,o,r,y,je,De,It,Ue,l,h,_,f,u,i,s,se,O,X,ke,re,Ie,_e,ce,V,we,ve,Oe,Fe,Je,Ge,B,xe,zt,kt,dn,gn,Bt,Le,$e,Me,Pe,We,m,g,E,M,Q,K,pn,bn,wn]}class Hi extends pe{constructor(t){super(),be(this,t,li,si,ge,{},null,[-1,-1,-1])}}export{Hi as component};
