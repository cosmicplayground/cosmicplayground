import{n as He,s as P,e as S,b as H,d as z,m as F,f as p,o as R,i as I,p as v,y as K,t as Ze,g as X,z as J,q as je,J as Ee,F as ft,C as dt,a as Q,E as de,I as ct,G as Ie,c as Me,B as mt,a5 as be,X as Pe,H as yn,A as wn,a2 as Qt,L as $n,K as Ye,U as kn,a0 as Cn}from"../chunks/scheduler.24efe3e9.js";import{S as De,i as Ne,c as N,a as A,m as O,t as $,g as ye,b as C,e as we,d as V,h as Lt,j as Re,k as Tn,f as Fe}from"../chunks/index.d51c8976.js";import{a as It}from"../chunks/random.c2e51b4a.js";import{s as nt}from"../chunks/dom.affe8f60.js";import{g as kt}from"../chunks/clock.06e05f62.js";import{e as Mt}from"../chunks/dom.1da668fa.js";import{g as en}from"../chunks/dimensions.c3d7a04e.js";import{e as yt,u as En,d as Sn}from"../chunks/each.9800de32.js";import{P as zn}from"../chunks/PendingAnimation.dd421148.js";import{S as Ln,a as In,b as wt}from"../chunks/Soggy_Planet_Thumbnail.f62c619a.js";import{H as tn,a as Mn}from"../chunks/renderStats.0fba3598.js";import{c as Bn,R as Pn,T as Hn,a as Dn,b as nn,u as lt,f as Bt,C as Nn,E as An,M as On,S as Vn}from"../chunks/Camera.6ff827f6.js";import{P as ut}from"../chunks/Panel.9d1b8bad.js";import{C as rn}from"../chunks/ChunkyButton.13415974.js";import{C as Gn}from"../chunks/CreditsProjectSignature.b28496db.js";import{P as Rn}from"../chunks/Preview.35f56db3.js";import{P as xn}from"../chunks/PortalPreview.30601181.js";import{P as Yn}from"../chunks/PortalLink.0a87262b.js";import{b as W,q as Pt}from"../chunks/index.6cbf29f9.js";import{z as Xe}from"../chunks/index.29546589.js";import{g as rt}from"../chunks/settings.a7df8492.js";import{F as ht}from"../chunks/FloatingIconButton.04ba74ff.js";import{F as tt}from"../chunks/FloatingTextButton.a022079a.js";import{w as bt}from"../chunks/index.c42bac63.js";import{b as Te}from"../chunks/index.4636f668.js";import{b as Fn}from"../chunks/paths.196d6d6a.js";import{A as jn}from"../chunks/AppControlsTable.d4b54b17.js";import{A as Un}from"../chunks/AppDialog.b09d66ab.js";Xe.object({name:Xe.string(),url:Xe.string(),myth:Xe.boolean().optional(),x:Xe.number(),y:Xe.number()});const on=[{name:"Zealandia",url:"https://wikipedia.org/wiki/Zealandia",x:400,y:70},{name:"Sundaland",url:"https://wikipedia.org/wiki/Sundaland",x:300,y:-200},{name:"Kumari Kandam",url:"https://wikipedia.org/wiki/Kumari_Kandam",myth:!0,x:0,y:404},{name:"Lemuria",url:"https://wikipedia.org/wiki/Lemuria",myth:!0,x:200,y:230},{name:"Persian Gulf",url:"https://wikipedia.org/wiki/Persian_Gulf",x:210,y:-80},{name:"Black Sea deluge",url:"https://wikipedia.org/wiki/Black_Sea_deluge_hypothesis",myth:!0,x:0,y:50},{name:"Adriatic Sea",url:"https://wikipedia.org/wiki/Adriatic_Sea",x:130,y:-410},{name:"Doggerland",url:"https://wikipedia.org/wiki/Doggerland",x:0,y:-200},{name:"Ys",url:"https://wikipedia.org/wiki/Ys",myth:!0,x:20,y:20},{name:"Beringia",url:"https://wikipedia.org/wiki/Beringia",x:-200,y:230},{name:"Missoula floods",url:"https://wikipedia.org/wiki/Missoula_floods",x:110,y:-90},{name:"Land bridges of Japan",url:"https://wikipedia.org/wiki/Land_bridges_of_Japan",x:400,y:300},{name:"Mu",url:"https://wikipedia.org/wiki/Mu_(mythical_lost_continent)",myth:!0,x:120,y:-30}],qn=r=>{const t=on.find(e=>e.name===r);if(!t)throw Error(`unknown point of interest "${r}"`);return t},pe=r=>{const t=qn(r),e=`<a href="${t.url}">${r}</a>`;return`<span style="position: relative; left: ${t.x}px; top: ${t.y}px;">${t.myth?e+`<span title="${r} may be a myth">?</span>`:e}</span>`},Kn=(r,t=!1)=>{const e=Bn(),n=1e3,o=n*6,a=n*3,s=13900,l=2e3,c=4e3,_=24,i=1405,u=5e3,d=(h,b,g=70)=>{let T=0;if(h===b)return 0;if(h>b)for(let m=h;m>=b;m--)e.event("update_sea_level",{min:m,max:m}),e.wait(g),T+=g;else for(let m=h;m<=b;m++)e.event("update_sea_level",{min:m,max:m}),e.wait(g),T+=g;return T},f=e.event("load");return t?(e.pan(_,i,0),e.zoom(u,0)):(e.pan(_,i,2e3),e.zoom(5,2e3),e.wait(),e.zoom(50,1e3),e.wait()),f(),t||(e.zoom(u,1e3),e.wait()),e.event("update_land_images",{min:0,max:11}),e.event("update_daylight",{min:0,max:0}),e.event("update_sea_level",{min:12,max:12}),e.event("play_water_trickle"),e.event("show_text",{content:"for tens of thousands of years",count:3}),e.zoom(200,2e3),e.wait(l),e.event("show_text",{content:"we have thrived",count:3}),e.zoom(50,3e3),e.wait(l),e.event("show_text",{content:"along coastlines and waterways",count:3}),e.wait(l),e.wait(c-1e3),e.event("clear_text"),e.wait(1e3),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -170px;">around 19 or 20 thousand years ago</span>',count:3}),e.zoom(3,6e3),e.wait(l),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -195px;">at the end of <a href="https://wikipedia.org/wiki/Last_Glacial_Maximum">the Last Glacial Maximum</a></span>',count:3}),e.wait(l),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -170px;">global sea levels were about 125 meters lower</span>',count:3}),e.wait(l-d(12,0)),e.wait(c),e.event("clear_text"),e.wait(1e3),e.event("update_land_images",{min:6,max:6}),e.event("play_main_song"),e.event("show_text",{content:'<span style="position: relative; left: 200px; top: -100px;">glaciers ate mountains of moisture</span>',count:2}),e.pan(-174,1092,4e3),e.zoom(.7,4e3),e.wait(l+l/2),e.event("show_text",{content:'<span style="position: relative; left: 250px; top: -110px;">and myth flooded our imaginations</span>',count:2}),e.wait(l/2),e.wait(c),e.event("clear_text"),e.wait(),e.pan(-67,1358,a),e.zoom(2.2,a),e.wait(a-d(1,12)),e.zoomBy(1.02,o,W),e.panBy(2,2,o,W),e.wait(1e3),e.event("show_text",pe("Zealandia")),e.wait(800-d(11,0)),e.event("update_land_images",{min:0,max:11}),e.wait(),e.event("clear_text"),e.pan(-664,920,a),e.zoom(1.8,a/2),e.wait(a/2-d(1,12)),e.zoom(2.6,a/2),e.wait(),e.zoomBy(1.02,o,W),e.panBy(1,2,o,W),e.wait(1e3),e.event("show_text",pe("Sundaland")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1222,940,a),e.zoom(1.8,a/2),e.wait(a/2-d(1,12)),e.zoom(3.9,a/2),e.wait(1e3),e.event("show_text",pe("Kumari Kandam")),e.wait(e.get_time_diff()-d(11,0)),e.zoomBy(1.02,o,W),e.panBy(2,0,o,W),e.wait(),e.event("clear_text"),e.pan(-1445,1223,a),e.zoom(2.9,a/2),e.wait(a/2-d(1,12)),e.zoom(3.2,a/2),e.wait(),e.zoomBy(.98,o,W),e.panBy(1,-2,o,W),e.event("show_text",pe("Lemuria")),e.wait(1e3-d(11,0)),e.wait(1e3),e.wait(1500-d(1,12)),e.wait(1500-d(11,0)),e.wait(),e.event("clear_text"),e.pan(-1460,724,a),e.zoom(4.7,a/2),e.wait(a/2-d(1,12)),e.event("update_land_images",{min:6,max:6}),e.zoom(3.5,a/2),e.wait(),e.zoomBy(1.01,o,W),e.panBy(-1,-2,o,W),e.event("show_text",pe("Persian Gulf")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1648,527,a),e.zoom(4.6,a*(1/3)),e.wait(a*(1/3)-d(1,12)),e.zoom(3.4,a*(1/3)),e.wait(a*(1/3)),e.zoom(10,a*(1/3)),e.wait(),e.zoomBy(1.02,o,W),e.panBy(2,-1,o,W),e.event("show_text",pe("Black Sea deluge")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1847,578,a),e.zoom(6.8,a),e.wait(a-d(1,12)),e.zoomBy(1.02,o,W),e.panBy(-1,-3,o,W),e.event("show_text",pe("Adriatic Sea")),e.wait(o-d(11,0)),e.event("clear_text"),e.pan(-2022,403,a),e.zoom(5.6,a*(1/2)),e.wait(a*(1/2)),e.zoom(4.3,a*(1/2)),e.wait(),e.panBy(2,2,o,W),e.wait(2e3),e.zoom(13.3,a*(1/2)),e.wait(600),e.event("show_text",pe("Doggerland")),e.wait(e.get_time_diff()-d(1,11)),e.event("clear_text"),e.pan(-2105,490,a),e.zoom(9.6,a/2),e.wait(a/2-d(10,0)),e.zoom(16.1,a/2),e.wait(),e.zoomBy(.65,o),e.panBy(1,1,o,W),e.event("show_text",pe("Ys")),e.wait(e.get_time_diff()-d(1,9,80)),e.event("clear_text"),e.pan(-3020,548,o+a),e.zoom(1.6,o+a-2500),e.wait(o+a-d(8,0)),e.event("clear_text"),e.pan(-4036,302,a),e.zoom(2.4,a*(1/2)),e.wait(a*(1/2)-d(1,12)),e.zoom(3.4,a*(1/2)),e.wait(),e.zoomBy(.98,o,W),e.panBy(3,2,o,W),e.event("show_text",pe("Beringia")),e.wait(2e3-d(11,0)),e.wait(),e.event("clear_text"),e.pan(-3404,482,a),e.zoom(2.6,a/2),e.wait(a/2),e.zoom(11,a/2),e.wait(),e.zoomBy(.77,o-2800),e.panBy(10,-2,o-2800),e.event("show_text",pe("Missoula floods")),e.wait(),e.zoom(4,500,W),e.wait(),e.zoomBy(.83,2800-500,W),e.panBy(3,2,2800-500,W),e.wait(2800-500),e.event("clear_text"),e.pan(-2764,1267,a*2),e.zoom(1.3,a),e.wait(),e.event("clear_text"),e.pan(-4591,577,a),e.zoom(1.9,a*(1/2)),e.wait(a*(1/2)-d(1,12)),e.zoom(3.5,a*(1/2)),e.wait(),e.zoomBy(1.01,o,W),e.panBy(2,-2,o,W),e.event("show_text",pe("Land bridges of Japan")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-4059,1007,a),e.zoom(1.7,a/2),e.wait(a/2-d(1,12)),e.zoom(2.2,a/2),e.wait(),e.zoomBy(.99,o,W),e.panBy(-2,-2,o,W),e.wait(1e3-d(11,0)),e.wait(1e3-d(1,12)),e.wait(1e3-d(11,0)),e.event("show_text",pe("Mu")),e.wait(),e.event("clear_text"),e.pan(-434,635,s,Pt),e.zoom(1.1,a),e.wait(a),e.zoom(.8,a),e.wait(a),e.zoom(1.1,a),e.wait(a),e.zoom(1,s-a*3-2500),e.wait(s-a*3-2500),e.zoom(5,a/2,Pt),e.wait(a/2),e.zoomBy(.85,500),e.wait(500),e.event("debug_final_zoom_in"),e.zoom(4e3,1e3),e.wait(),e.wait(1500),e.event("show_title"),e.wait(r),e.event("show_credits"),e.wait(1e9),e.zoomBy(1,0),e.finalize()};function Jn(r,t,e){const n=r.slice();return n[8]=t[e],n}function Wn(r){let t,e;return t=new Mn({}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Ht(r){let t,e;return t=new zn({}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Xn(r){let t,e="The download is about 81MB of images. If that's ok with you, continue on:",n,o,a;return o=new rn({props:{$$slots:{default:[er]},$$scope:{ctx:r}}}),o.$on("click",r[6]),{c(){t=S("p"),t.textContent=e,n=P(),N(o.$$.fragment)},l(s){t=z(s,"P",{"data-svelte-h":!0}),X(t)!=="svelte-5n7p6g"&&(t.textContent=e),n=H(s),A(o.$$.fragment,s)},m(s,l){I(s,t,l),I(s,n,l),O(o,s,l),a=!0},p(s,l){const c={};l&2048&&(c.$$scope={dirty:l,ctx:s}),o.$set(c)},i(s){a||($(o.$$.fragment,s),a=!0)},o(s){C(o.$$.fragment,s),a=!1},d(s){s&&(p(t),p(n)),V(o,s)}}}function Zn(r){let t,e;return t=new Pn({props:{resources:r[0]}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){const a={};o&1&&(a.resources=n[0]),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Qn(r){let t,e;return t=new rn({props:{$$slots:{default:[tr]},$$scope:{ctx:r}}}),t.$on("click",function(){ft(r[1])&&r[1].apply(this,arguments)}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){r=n;const a={};o&2048&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function er(r){let t;return{c(){t=K("continue with 81MB download!")},l(e){t=J(e,"continue with 81MB download!")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function tr(r){let t;return{c(){t=K("back to the map!")},l(e){t=J(e,"back to the map!")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function nr(r){let t,e,n=`Soggy Planet is an interactive map of Earth where sea levels rise and fall and the lights
					of civilization shine through the night. It displays <a href="https://wikipedia.org/wiki/Past_sea_level">past sea levels</a>
					roughly between:`,o,a,s=`<li>the lowest point during
						<a href="https://wikipedia.org/wiki/Last_Glacial_Maximum">the Last Glacial Maximum</a>
						before
						<a href="https://wikipedia.org/wiki/Early_Holocene_sea_level_rise">the early Holocene sea level rise</a></li> <li>and one
						<a href="https://wikipedia.org/wiki/Sea_level_rise">estimated possible maximum</a></li>`,l,c,_="For a 3 minute musical tour of some of our soggy planet's sunken history and myths:",i,u,d,f,h,b,g="tour",T,m,M="the map",E,y,L=`see
						<a href="https://www.youtube.com/watch?v=akP5J3jfjt4">the video on YouTube</a>`,G,j,ee="or learn more below",te,ne,ie=`This map is resource-intensive and may be broken or slow depending on your hardware and
					browser. More optimizations like <a href="https://github.com/ryanatkn/cosmicplayground/issues/56">this one</a> would help.`,D,x,B=`The code and image data are
					<a href="https://github.com/ryanatkn/cosmicplayground">open source on GitHub</a>. Credits
					are below.`,q,Z,ce,me,Be,$e,Se,le,re,oe,ke,ve,fe,he;me=new Yn({props:{slug:"deep-breath"}});const ae=[Qn,Zn,Xn],ue=[];function ze(U,Y){return U[4].status==="success"?0:U[4].status!=="initial"?1:2}return re=ze(r),oe=ue[re]=ae[re](r),{c(){t=S("section"),e=S("p"),e.innerHTML=n,o=P(),a=S("ul"),a.innerHTML=s,l=P(),c=S("p"),c.textContent=_,i=P(),u=S("ul"),d=S("li"),f=S("p"),h=K("click the "),b=S("button"),b.textContent=g,T=K(`
							button on `),m=S("button"),m.textContent=M,E=P(),y=S("li"),y.innerHTML=L,G=P(),j=S("li"),j.textContent=ee,te=P(),ne=S("p"),ne.innerHTML=ie,D=P(),x=S("p"),x.innerHTML=B,q=P(),Z=S("p"),ce=K("For a different experience about sea level rise see "),N(me.$$.fragment),Be=K(" 🌚"),$e=P(),Se=S("hr"),le=P(),oe.c(),ke=Ze(),this.h()},l(U){t=z(U,"SECTION",{class:!0});var Y=F(t);e=z(Y,"P",{"data-svelte-h":!0}),X(e)!=="svelte-1con3e5"&&(e.innerHTML=n),o=H(Y),a=z(Y,"UL",{"data-svelte-h":!0}),X(a)!=="svelte-1u0lrbn"&&(a.innerHTML=s),l=H(Y),c=z(Y,"P",{"data-svelte-h":!0}),X(c)!=="svelte-zm50la"&&(c.textContent=_),i=H(Y),u=z(Y,"UL",{});var se=F(u);d=z(se,"LI",{});var Ue=F(d);f=z(Ue,"P",{});var Le=F(f);h=J(Le,"click the "),b=z(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),X(b)!=="svelte-l12i07"&&(b.textContent=g),T=J(Le,`
							button on `),m=z(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-oycntp"&&(m.textContent=M),Le.forEach(p),Ue.forEach(p),E=H(se),y=z(se,"LI",{"data-svelte-h":!0}),X(y)!=="svelte-1kavo3j"&&(y.innerHTML=L),G=H(se),j=z(se,"LI",{"data-svelte-h":!0}),X(j)!=="svelte-ybr8jh"&&(j.textContent=ee),se.forEach(p),te=H(Y),ne=z(Y,"P",{"data-svelte-h":!0}),X(ne)!=="svelte-1xto716"&&(ne.innerHTML=ie),D=H(Y),x=z(Y,"P",{"data-svelte-h":!0}),X(x)!=="svelte-1ttsbq6"&&(x.innerHTML=B),q=H(Y),Z=z(Y,"P",{});var Ce=F(Z);ce=J(Ce,"For a different experience about sea level rise see "),A(me.$$.fragment,Ce),Be=J(Ce," 🌚"),Ce.forEach(p),Y.forEach(p),$e=H(U),Se=z(U,"HR",{}),le=H(U),oe.l(U),ke=Ze(),this.h()},h(){R(b,"class","inline"),R(m,"class","inline"),je(f,"margin-bottom",0),R(t,"class","prose")},m(U,Y){I(U,t,Y),v(t,e),v(t,o),v(t,a),v(t,l),v(t,c),v(t,i),v(t,u),v(u,d),v(d,f),v(f,h),v(f,b),v(f,T),v(f,m),v(u,E),v(u,y),v(u,G),v(u,j),v(t,te),v(t,ne),v(t,D),v(t,x),v(t,q),v(t,Z),v(Z,ce),O(me,Z,null),v(Z,Be),I(U,$e,Y),I(U,Se,Y),I(U,le,Y),ue[re].m(U,Y),I(U,ke,Y),ve=!0,fe||(he=[Ee(b,"click",function(){ft(r[2])&&r[2].apply(this,arguments)}),Ee(m,"click",r[6])],fe=!0)},p(U,Y){r=U;let se=re;re=ze(r),re===se?ue[re].p(r,Y):(ye(),C(ue[se],1,1,()=>{ue[se]=null}),we(),oe=ue[re],oe?oe.p(r,Y):(oe=ue[re]=ae[re](r),oe.c()),$(oe,1),oe.m(ke.parentNode,ke))},i(U){ve||($(me.$$.fragment,U),$(oe),ve=!0)},o(U){C(me.$$.fragment,U),C(oe),ve=!1},d(U){U&&(p(t),p($e),p(Se),p(le),p(ke)),V(me),ue[re].d(U),fe=!1,dt(he)}}}function rr(r){let t;return{c(){t=K("(myth?)")},l(e){t=J(e,"(myth?)")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function or(r,t){let e,n,o=t[8].name+"",a,s,l,c=t[8].myth&&rr();return{key:r,first:null,c(){e=S("li"),n=S("a"),a=K(o),s=P(),c&&c.c(),l=P(),this.h()},l(_){e=z(_,"LI",{});var i=F(e);n=z(i,"A",{href:!0});var u=F(n);a=J(u,o),u.forEach(p),s=H(i),c&&c.l(i),l=H(i),i.forEach(p),this.h()},h(){R(n,"href",t[8].url),this.first=e},m(_,i){I(_,e,i),v(e,n),v(n,a),v(e,s),c&&c.m(e,null),v(e,l)},p:Q,d(_){_&&p(e),c&&c.d()}}}function ar(r){let t,e,n="Tour",o,a,s,l,c="Last Glacial Maximum",_,i,u="start tour",d,f,h="the map",b,g,T="the video on YouTube",m,M,E,y="Learn about the tour's points of interest on Wikipedia:",L,G,j=[],ee=new Map,te,ne,ie=yt(on);const D=x=>x[8];for(let x=0;x<ie.length;x+=1){let B=Jn(r,ie,x),q=D(B);ee.set(q,j[x]=or(q,B))}return{c(){t=S("section"),e=S("h2"),e.textContent=n,o=P(),a=S("p"),s=K(`Soggy Planet includes a 3 minute tour of some points of interest related to sea levels at
					the `),l=S("a"),l.textContent=c,_=K(`.
					Click the `),i=S("button"),i.textContent=u,d=K(`
					button on `),f=S("button"),f.textContent=h,b=K(` or see
					`),g=S("a"),g.textContent=T,m=K("."),M=P(),E=S("p"),E.textContent=y,L=P(),G=S("ul");for(let x=0;x<j.length;x+=1)j[x].c();this.h()},l(x){t=z(x,"SECTION",{class:!0});var B=F(t);e=z(B,"H2",{"data-svelte-h":!0}),X(e)!=="svelte-czv2r0"&&(e.textContent=n),o=H(B),a=z(B,"P",{});var q=F(a);s=J(q,`Soggy Planet includes a 3 minute tour of some points of interest related to sea levels at
					the `),l=z(q,"A",{href:!0,"data-svelte-h":!0}),X(l)!=="svelte-atqrgm"&&(l.textContent=c),_=J(q,`.
					Click the `),i=z(q,"BUTTON",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-h69vsr"&&(i.textContent=u),d=J(q,`
					button on `),f=z(q,"BUTTON",{class:!0,"data-svelte-h":!0}),X(f)!=="svelte-oycntp"&&(f.textContent=h),b=J(q,` or see
					`),g=z(q,"A",{href:!0,"data-svelte-h":!0}),X(g)!=="svelte-wp73fi"&&(g.textContent=T),m=J(q,"."),q.forEach(p),M=H(B),E=z(B,"P",{"data-svelte-h":!0}),X(E)!=="svelte-14gzp6"&&(E.textContent=y),L=H(B),G=z(B,"UL",{});var Z=F(G);for(let ce=0;ce<j.length;ce+=1)j[ce].l(Z);Z.forEach(p),B.forEach(p),this.h()},h(){R(l,"href","https://wikipedia.org/wiki/Last_Glacial_Maximum"),R(i,"class","inline"),R(f,"class","inline"),R(g,"href","https://www.youtube.com/watch?v=akP5J3jfjt4"),R(t,"class","prose")},m(x,B){I(x,t,B),v(t,e),v(t,o),v(t,a),v(a,s),v(a,l),v(a,_),v(a,i),v(a,d),v(a,f),v(a,b),v(a,g),v(a,m),v(t,M),v(t,E),v(t,L),v(t,G);for(let q=0;q<j.length;q+=1)j[q]&&j[q].m(G,null);te||(ne=[Ee(i,"click",function(){ft(r[2])&&r[2].apply(this,arguments)}),Ee(f,"click",r[6])],te=!0)},p(x,B){r=x},d(x){x&&p(t);for(let B=0;B<j.length;B+=1)j[B].d();te=!1,dt(ne)}}}function ir(r){let t,e,n="Credits",o,a,s;return a=new In({}),{c(){t=S("section"),e=S("h2"),e.textContent=n,o=P(),N(a.$$.fragment),this.h()},l(l){t=z(l,"SECTION",{class:!0});var c=F(t);e=z(c,"H2",{"data-svelte-h":!0}),X(e)!=="svelte-129hxhk"&&(e.textContent=n),o=H(c),A(a.$$.fragment,c),c.forEach(p),this.h()},h(){R(t,"class","prose")},m(l,c){I(l,t,c),v(t,e),v(t,o),O(a,t,null),s=!0},p:Q,i(l){s||($(a.$$.fragment,l),s=!0)},o(l){C(a.$$.fragment,l),s=!1},d(l){l&&p(t),V(a)}}}function sr(r){let t,e,n;return e=new Gn({}),{c(){t=S("section"),N(e.$$.fragment),this.h()},l(o){t=z(o,"SECTION",{class:!0});var a=F(t);A(e.$$.fragment,a),a.forEach(p),this.h()},h(){R(t,"class","prose")},m(o,a){I(o,t,a),O(e,t,null),n=!0},p:Q,i(o){n||($(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){o&&p(t),V(e)}}}function lr(r){let t,e;return t=new Rn({}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function ur(r){let t,e,n,o,a,s,l,c,_,i,u,d,f,h,b,g,T,m,M;t=new tn({props:{$$slots:{default:[Wn]},$$scope:{ctx:r}}}),a=new Ln({props:{onClick:r[5]?r[6]:null}});let E=r[3]&&Ht();return _=new ut({props:{$$slots:{default:[nr]},$$scope:{ctx:r}}}),u=new ut({props:{$$slots:{default:[ar]},$$scope:{ctx:r}}}),f=new ut({props:{$$slots:{default:[ir]},$$scope:{ctx:r}}}),b=new ut({props:{$$slots:{default:[sr]},$$scope:{ctx:r}}}),m=new xn({props:{href:"/about",$$slots:{default:[lr]},$$scope:{ctx:r}}}),{c(){N(t.$$.fragment),e=P(),n=S("div"),o=S("div"),N(a.$$.fragment),s=P(),l=S("div"),E&&E.c(),c=P(),N(_.$$.fragment),i=P(),N(u.$$.fragment),d=P(),N(f.$$.fragment),h=P(),N(b.$$.fragment),g=P(),T=S("section"),N(m.$$.fragment),this.h()},l(y){A(t.$$.fragment,y),e=H(y),n=z(y,"DIV",{class:!0});var L=F(n);o=z(L,"DIV",{class:!0});var G=F(o);A(a.$$.fragment,G),s=H(G),l=z(G,"DIV",{class:!0});var j=F(l);E&&E.l(j),j.forEach(p),c=H(G),A(_.$$.fragment,G),i=H(G),A(u.$$.fragment,G),d=H(G),A(f.$$.fragment,G),h=H(G),A(b.$$.fragment,G),g=H(G),T=z(G,"SECTION",{});var ee=F(T);A(m.$$.fragment,ee),ee.forEach(p),G.forEach(p),L.forEach(p),this.h()},h(){R(l,"class","loading_animation svelte-1kys0ey"),R(o,"class","box width_md"),R(n,"class","soggy_planet_title_screen box width_full svelte-1kys0ey")},m(y,L){O(t,y,L),I(y,e,L),I(y,n,L),v(n,o),O(a,o,null),v(o,s),v(o,l),E&&E.m(l,null),v(o,c),O(_,o,null),v(o,i),O(u,o,null),v(o,d),O(f,o,null),v(o,h),O(b,o,null),v(o,g),v(o,T),O(m,T,null),M=!0},p(y,[L]){const G={};L&2048&&(G.$$scope={dirty:L,ctx:y}),t.$set(G),y[3]?E?L&8&&$(E,1):(E=Ht(),E.c(),$(E,1),E.m(l,null)):E&&(ye(),C(E,1,1,()=>{E=null}),we());const j={};L&2071&&(j.$$scope={dirty:L,ctx:y}),_.$set(j);const ee={};L&2052&&(ee.$$scope={dirty:L,ctx:y}),u.$set(ee);const te={};L&2048&&(te.$$scope={dirty:L,ctx:y}),f.$set(te);const ne={};L&2048&&(ne.$$scope={dirty:L,ctx:y}),b.$set(ne);const ie={};L&2048&&(ie.$$scope={dirty:L,ctx:y}),m.$set(ie)},i(y){M||($(t.$$.fragment,y),$(a.$$.fragment,y),$(E),$(_.$$.fragment,y),$(u.$$.fragment,y),$(f.$$.fragment,y),$(b.$$.fragment,y),$(m.$$.fragment,y),M=!0)},o(y){C(t.$$.fragment,y),C(a.$$.fragment,y),C(E),C(_.$$.fragment,y),C(u.$$.fragment,y),C(f.$$.fragment,y),C(b.$$.fragment,y),C(m.$$.fragment,y),M=!1},d(y){y&&(p(e),p(n)),V(t,y),V(a),E&&E.d(),V(_),V(u),V(f),V(b),V(m)}}}const Dt="cpg__hasLoadedSoggyPlanet";function _r(r,t,e){let n,o=Q,a=()=>(o(),o=de(s,f=>e(4,n=f)),s);r.$$.on_destroy.push(()=>o());let{resources:s}=t;a();let{proceed:l}=t,{start_tour:c}=t;const _=!!localStorage.getItem(Dt),i=_;let u=!1;const d=async()=>{e(3,u=!0),await s.load(),e(3,u=!1),n.status==="success"&&(_||localStorage.setItem(Dt,"true"),l())};return r.$$set=f=>{"resources"in f&&a(e(0,s=f.resources)),"proceed"in f&&e(1,l=f.proceed),"start_tour"in f&&e(2,c=f.start_tour)},[s,l,c,u,n,i,d]}class cr extends De{constructor(t){super(),Ne(this,t,_r,ur,He,{resources:0,proceed:1,start_tour:2})}}function fr(r){let t,e,n,o;return{c(){t=S("div"),e=S("div"),this.h()},l(a){t=z(a,"DIV",{class:!0,"aria-hidden":!0});var s=F(t);e=z(s,"DIV",{class:!0,style:!0}),F(e).forEach(p),s.forEach(p),this.h()},h(){R(e,"class","daylight-fill svelte-12hldno"),je(e,"height",100*r[0]+"%"),R(t,"class","daylight svelte-12hldno"),R(t,"aria-hidden",""),ct(t,"selected",r[1]!==null)},m(a,s){I(a,t,s),v(t,e),r[6](t),n||(o=[Ee(t,"click",r[7]),Ee(t,"mouseenter",r[8]),Ee(t,"mousemove",r[9]),Ee(t,"mouseleave",r[10])],n=!0)},p(a,[s]){s&1&&je(e,"height",100*a[0]+"%"),s&2&&ct(t,"selected",a[1]!==null)},i:Q,o:Q,d(a){a&&p(t),r[6](null),n=!1,dt(o)}}}function dr(r,t,e){let{daylight:n}=t,{selected_daylight:o}=t,{select_daylight:a}=t,{hover_daylight:s}=t,l;const c=h=>{const b=l.getBoundingClientRect();return 1-(h-b.top)/(b.bottom-b.top)};function _(h){Ie[h?"unshift":"push"](()=>{l=h,e(4,l)})}const i=h=>a(o===null?c(h.clientY):null),u=h=>s(c(h.clientY)),d=h=>s(c(h.clientY)),f=()=>s(null);return r.$$set=h=>{"daylight"in h&&e(0,n=h.daylight),"selected_daylight"in h&&e(1,o=h.selected_daylight),"select_daylight"in h&&e(2,a=h.select_daylight),"hover_daylight"in h&&e(3,s=h.hover_daylight)},[n,o,a,s,l,c,_,i,u,d,f]}class mr extends De{constructor(t){super(),Ne(this,t,dr,fr,He,{daylight:0,selected_daylight:1,select_daylight:2,hover_daylight:3})}}function hr(r){let t;return{c(){t=K("muted")},l(e){t=J(e,"muted")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function gr(r){let t;return{c(){t=K("unmuted")},l(e){t=J(e,"unmuted")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function pr(r){let t;function e(a,s){return a[5]?gr:hr}let n=e(r),o=n(r);return{c(){o.c(),t=P()},l(a){o.l(a),t=H(a)},m(a,s){o.m(a,s),I(a,t,s)},p(a,s){n!==(n=e(a))&&(o.d(1),o=n(a),o&&(o.c(),o.m(t.parentNode,t)))},d(a){a&&p(t),o.d(a)}}}function br(r){let t,e=Math.round(r[7]*10)/10+"",n;return{c(){t=K("scale: "),n=K(e)},l(o){t=J(o,"scale: "),n=J(o,e)},m(o,a){I(o,t,a),I(o,n,a)},p(o,a){a&128&&e!==(e=Math.round(o[7]*10)/10+"")&&mt(n,e)},d(o){o&&(p(t),p(n))}}}function vr(r){let t,e=Math.round(r[8])+"",n;return{c(){t=K("x: "),n=K(e)},l(o){t=J(o,"x: "),n=J(o,e)},m(o,a){I(o,t,a),I(o,n,a)},p(o,a){a&256&&e!==(e=Math.round(o[8])+"")&&mt(n,e)},d(o){o&&(p(t),p(n))}}}function yr(r){let t,e=Math.round(r[9])+"",n;return{c(){t=K("y: "),n=K(e)},l(o){t=J(o,"y: "),n=J(o,e)},m(o,a){I(o,t,a),I(o,n,a)},p(o,a){a&512&&e!==(e=Math.round(o[9])+"")&&mt(n,e)},d(o){o&&(p(t),p(n))}}}function Nt(r){let t,e;return t=new Hn({props:{tour:r[0],debug_start_time:r[4]}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){const a={};o&1&&(a.tour=n[0]),o&16&&(a.debug_start_time=n[4]),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function wr(r){let t,e,n,o,a,s,l,c,_;t=new tt({props:{$$slots:{default:[pr]},$$scope:{ctx:r}}}),t.$on("click",r[14]),e=new tt({props:{$$slots:{default:[br]},$$scope:{ctx:r}}}),e.$on("click",r[15]),o=new tt({props:{$$slots:{default:[vr]},$$scope:{ctx:r}}}),o.$on("click",r[16]),s=new tt({props:{$$slots:{default:[yr]},$$scope:{ctx:r}}}),s.$on("click",r[17]);let i=r[0]&&r[10]&&Nt(r);return{c(){N(t.$$.fragment),N(e.$$.fragment),n=P(),N(o.$$.fragment),a=P(),N(s.$$.fragment),l=P(),i&&i.c(),c=Ze()},l(u){A(t.$$.fragment,u),A(e.$$.fragment,u),n=H(u),A(o.$$.fragment,u),a=H(u),A(s.$$.fragment,u),l=H(u),i&&i.l(u),c=Ze()},m(u,d){O(t,u,d),O(e,u,d),I(u,n,d),O(o,u,d),I(u,a,d),O(s,u,d),I(u,l,d),i&&i.m(u,d),I(u,c,d),_=!0},p(u,[d]){const f={};d&262176&&(f.$$scope={dirty:d,ctx:u}),t.$set(f);const h={};d&262272&&(h.$$scope={dirty:d,ctx:u}),e.$set(h);const b={};d&262400&&(b.$$scope={dirty:d,ctx:u}),o.$set(b);const g={};d&262656&&(g.$$scope={dirty:d,ctx:u}),s.$set(g),u[0]&&u[10]?i?(i.p(u,d),d&1025&&$(i,1)):(i=Nt(u),i.c(),$(i,1),i.m(c.parentNode,c)):i&&(ye(),C(i,1,1,()=>{i=null}),we())},i(u){_||($(t.$$.fragment,u),$(e.$$.fragment,u),$(o.$$.fragment,u),$(s.$$.fragment,u),$(i),_=!0)},o(u){C(t.$$.fragment,u),C(e.$$.fragment,u),C(o.$$.fragment,u),C(s.$$.fragment,u),C(i),_=!1},d(u){u&&(p(n),p(a),p(l),p(c)),V(t,u),V(e,u),V(o,u),V(s,u),i&&i.d(u)}}}function $r(r,t,e){let n,o,a,s,l=Q,c=()=>(l(),l=de(y,D=>e(7,s=D)),y),_,i=Q,u=()=>(i(),i=de(M,D=>e(8,_=D)),M),d,f=Q,h=()=>(f(),f=de(E,D=>e(9,d=D)),E),b,g=Q,T=()=>(g(),g=de(n,D=>e(10,b=D)),n);r.$$.on_destroy.push(()=>l()),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>g());let{tour:m}=t,{x:M}=t;u();let{y:E}=t;h();let{scale:y}=t;c();let{debug_start_time:L}=t;const G=rt();Me(r,G,D=>e(13,a=D));const j=(D=!o)=>G.update(x=>({...x,audio_enabled:D})),ee=()=>j(),te=()=>{be(y,s=Number(prompt("🔎",s+""))||s,s)},ne=()=>{const D=Number(prompt("x",_+""));Number.isNaN(D)||be(M,_=D,_)},ie=()=>{const D=Number(prompt("y",d+""));Number.isNaN(D)||be(E,d=D,d)};return r.$$set=D=>{"tour"in D&&e(0,m=D.tour),"x"in D&&u(e(1,M=D.x)),"y"in D&&h(e(2,E=D.y)),"scale"in D&&c(e(3,y=D.scale)),"debug_start_time"in D&&e(4,L=D.debug_start_time)},r.$$.update=()=>{r.$$.dirty&1&&T(e(6,n=m==null?void 0:m.touring)),r.$$.dirty&8192&&e(5,{audio_enabled:o}=a,o)},[m,M,E,y,L,o,n,s,_,d,b,G,j,a,ee,te,ne,ie]}class kr extends De{constructor(t){super(),Ne(this,t,$r,wr,He,{tour:0,x:1,y:2,scale:3,debug_start_time:4})}}function At(r,t,e){const n=r.slice();return n[10]=t[e],n[12]=e,n}function Ot(r,t){let e,n,o=(t[10]||"&nbsp;")+"",a,s;return{key:r,first:null,c(){e=S("div"),n=new yn(!1),a=P(),this.h()},l(l){e=z(l,"DIV",{class:!0});var c=F(e);n=wn(c,!1),a=H(c),c.forEach(p),this.h()},h(){n.a=a,R(e,"class","text svelte-16itjb2"),this.first=e},m(l,c){I(l,e,c),n.m(o,e),v(e,a)},p(l,c){t=l,c&1&&o!==(o=(t[10]||"&nbsp;")+"")&&n.p(o)},i(l){l&&(s||Pe(()=>{s=Re(e,Te,{duration:t[1],amount:$t}),s.start()}))},o:Q,d(l){l&&p(e)}}}function Cr(r){let t,e,n=[],o=new Map,a=`${r[3]}px`,s,l=`${r[4].height/2-164}px`,c,_,i,u=yt(r[0]);const d=f=>f[12]+f[10];for(let f=0;f<u.length;f+=1){let h=At(r,u,f),b=d(h);o.set(b,n[f]=Ot(b,h))}return{c(){t=S("div"),e=S("div");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){t=z(f,"DIV",{class:!0});var h=F(t);e=z(h,"DIV",{});var b=F(e);for(let g=0;g<n.length;g+=1)n[g].l(b);b.forEach(p),h.forEach(p),this.h()},h(){je(e,"height",a),R(t,"class","tour-text prose svelte-16itjb2"),je(t,"top",l)},m(f,h){I(f,t,h),v(t,e);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(e,null);c=!0,_||(i=[Ee(t,"click",r[6],!0),Ee(t,"keydown",r[7],!0)],_=!0)},p(f,[h]){r=f,h&1&&(u=yt(r[0]),n=En(n,h,d,1,r,u,o,e,Sn,Ot,null,At)),h&8&&a!==(a=`${r[3]}px`)&&je(e,"height",a),h&16&&l!==(l=`${r[4].height/2-164}px`)&&je(t,"top",l)},i(f){if(!c){for(let h=0;h<u.length;h+=1)$(n[h]);f&&Pe(()=>{c&&(s||(s=Lt(t,Te,{duration:r[2],amount:$t},!0)),s.run(1))}),c=!0}},o(f){f&&(s||(s=Lt(t,Te,{duration:r[2],amount:$t},!1)),s.run(0)),c=!1},d(f){f&&p(t);for(let h=0;h<n.length;h+=1)n[h].d();f&&s&&s.end(),_=!1,dt(i)}}}const $t=99;function Tr(r,t,e){let n,o;const a=kt(),s=en();Me(r,s,f=>e(4,o=f));let{tour_text:l}=t,{transition_in_duration:c=600}=t,{transition_out_duration:_=870}=t,{height_per_item:i=90}=t;const u=f=>{f.target instanceof HTMLAnchorElement&&(nt(f),a.pause(),window.open(f.target.href,"_blank"))},d=f=>{f.target instanceof HTMLAnchorElement&&(f.key===" "||f.key==="Enter")&&(nt(f),a.pause(),window.open(f.target.href,"_blank"))};return r.$$set=f=>{"tour_text"in f&&e(0,l=f.tour_text),"transition_in_duration"in f&&e(1,c=f.transition_in_duration),"transition_out_duration"in f&&e(2,_=f.transition_out_duration),"height_per_item"in f&&e(8,i=f.height_per_item)},r.$$.update=()=>{r.$$.dirty&257&&e(3,n=i*l.length)},[l,c,_,n,o,s,u,d,i]}class Er extends De{constructor(t){super(),Ne(this,t,Tr,Cr,He,{tour_text:0,transition_in_duration:1,transition_out_duration:2,height_per_item:8})}}function Sr(r){let t,e,n,o="soggy",a,s,l,c,_="planet",i,u,d;return{c(){t=S("div"),e=S("div"),n=S("div"),n.textContent=o,s=P(),l=S("div"),c=S("div"),c.textContent=_,this.h()},l(f){t=z(f,"DIV",{class:!0});var h=F(t);e=z(h,"DIV",{class:!0,style:!0});var b=F(e);n=z(b,"DIV",{"data-svelte-h":!0}),X(n)!=="svelte-h5gv3z"&&(n.textContent=o),b.forEach(p),s=H(h),l=z(h,"DIV",{class:!0,style:!0});var g=F(l);c=z(g,"DIV",{"data-svelte-h":!0}),X(c)!=="svelte-1q4vgp0"&&(c.textContent=_),g.forEach(p),h.forEach(p),this.h()},h(){R(e,"class","text svelte-mdif8m"),R(e,"style",r[2]),R(l,"class","text svelte-mdif8m"),R(l,"style",r[2]),R(t,"class","tour-title svelte-mdif8m")},m(f,h){I(f,t,h),v(t,e),v(e,n),v(t,s),v(t,l),v(l,c),d=!0},p(f,[h]){r=f,(!d||h&4)&&R(e,"style",r[2]),(!d||h&4)&&R(l,"style",r[2])},i(f){d||(f&&(a||Pe(()=>{a=Re(n,Te,{duration:r[0],amount:vt}),a.start()})),f&&(i||Pe(()=>{i=Re(c,Te,{duration:r[0],amount:vt,delay:r[1]}),i.start()})),u&&u.end(1),d=!0)},o(f){f&&(u=Tn(t,Te,{duration:r[0],amount:vt})),d=!1},d(f){f&&p(t),f&&u&&u.end()}}}const vt=99;function zr(r,t,e){let n,o,{hide:a}=t,{transition_duration:s}=t,{pause_duration:l}=t,{max_delay:c}=t,_;return Qt(()=>{_=setTimeout(()=>a(),s+c+l)}),$n(()=>{clearTimeout(_)}),r.$$set=i=>{"hide"in i&&e(3,a=i.hide),"transition_duration"in i&&e(0,s=i.transition_duration),"pause_duration"in i&&e(4,l=i.pause_duration),"max_delay"in i&&e(1,c=i.max_delay)},r.$$.update=()=>{r.$$.dirty&17&&e(5,n=s*2+l),r.$$.dirty&32&&e(2,o=`animation-duration: ${n}ms;`)},[s,c,o,a,l,n]}class Lr extends De{constructor(t){super(),Ne(this,t,zr,Sr,He,{hide:3,transition_duration:0,pause_duration:4,max_delay:1})}}function Ir(r){let t,e,n=`<h2 class="svelte-1acr1r">created by</h2>
		Ryan Atkinson<br/> <a href="https://www.ryanatkn.com" class="svelte-1acr1r">ryanatkn.com</a>`,o,a,s,l='<h2 class="svelte-1acr1r">interactive webpage</h2> <a href="https://www.cosmicplayground.org/soggy-planet" class="svelte-1acr1r">cosmicplayground.org/soggy-planet</a>',c,_,i,u='<h2 class="svelte-1acr1r">open source code &amp; assets</h2> <a href="https://github.com/ryanatkn/cosmicplayground" class="svelte-1acr1r">github.com/ryanatkn/cosmicplayground</a>',d,f,h,b=`<h2 class="svelte-1acr1r">music</h2> <a href="${Fn}/assets/audio/Alexander_Nakarada__Piña_Colada.mp3" class="svelte-1acr1r">&quot;Piña Colada&quot;</a> by Alexander
		Nakarada<br/> <a href="https://www.serpentsoundstudios.com" class="svelte-1acr1r">serpentsoundstudios.com</a> <br/><br/> <a href="/assets/audio/water_trickle.mp3" class="svelte-1acr1r">recording of water trickling</a> <br/> by
		<a href="https://freesound.org/people/FractalStudios/sounds/363120/" class="svelte-1acr1r">FractalStudios on freesound.org</a>,
		<a href="https://creativecommons.org/publicdomain/zero/1.0/" class="svelte-1acr1r">CC0 1.0</a>`,g,T,m,M=`<h2 class="svelte-1acr1r">imagery &amp; data</h2> <a href="https://visibleearth.nasa.gov/collection/1484/blue-marble" class="svelte-1acr1r">Blue Marble Next Generation</a>
		by Reto Stöckli <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1acr1r">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a>
		(2004) <br/> <br/> Earth <a href="https://visibleearth.nasa.gov/images/73934/topography" class="svelte-1acr1r">topography</a> and
		<a href="https://visibleearth.nasa.gov/images/73963/bathymetry" class="svelte-1acr1r">bathymetry</a>
		by Jesse Allen <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1acr1r">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a> <br/> using data from the
		<a href="https://www.gebco.net/" class="svelte-1acr1r">General Bathymetric Chart of the Oceans</a> <br/> produced by the <a href="https://www.bodc.ac.uk/" class="svelte-1acr1r">British Oceanographic Data Centre</a>
		(2005)
		<br/> <br/> <a href="https://earthobservatory.nasa.gov/features/NightLights" class="svelte-1acr1r">Earth at Night</a>
		(<a href="https://earthobservatory.nasa.gov/features/NightLights/page3.php" class="svelte-1acr1r">flat maps</a>) by
		<a href="https://earthobservatory.nasa.gov/about/michael-carlowicz" class="svelte-1acr1r">Michael Carlowicz</a><br/> <a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a>
		(2017)`,E;return{c(){t=S("div"),e=S("section"),e.innerHTML=n,a=P(),s=S("section"),s.innerHTML=l,_=P(),i=S("section"),i.innerHTML=u,f=P(),h=S("section"),h.innerHTML=b,T=P(),m=S("section"),m.innerHTML=M,this.h()},l(y){t=z(y,"DIV",{class:!0});var L=F(t);e=z(L,"SECTION",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-k229uo"&&(e.innerHTML=n),a=H(L),s=z(L,"SECTION",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-bedmy7"&&(s.innerHTML=l),_=H(L),i=z(L,"SECTION",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-m0ugxf"&&(i.innerHTML=u),f=H(L),h=z(L,"SECTION",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-r877t7"&&(h.innerHTML=b),T=H(L),m=z(L,"SECTION",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-n0r2sn"&&(m.innerHTML=M),L.forEach(p),this.h()},h(){R(e,"class","svelte-1acr1r"),R(s,"class","svelte-1acr1r"),R(i,"class","svelte-1acr1r"),R(h,"class","svelte-1acr1r"),R(m,"class","svelte-1acr1r"),R(t,"class","tour-credits prose svelte-1acr1r"),ct(t,"display_for_video",r[1])},m(y,L){I(y,t,L),v(t,e),v(t,a),v(t,s),v(t,_),v(t,i),v(t,f),v(t,h),v(t,T),v(t,m)},p(y,[L]){r=y,L&2&&ct(t,"display_for_video",r[1])},i(y){y&&(o||Pe(()=>{o=Re(e,Te,{duration:r[0],amount:et}),o.start()})),y&&(c||Pe(()=>{c=Re(s,Te,{duration:r[0],delay:_t*1,amount:et}),c.start()})),y&&(d||Pe(()=>{d=Re(i,Te,{duration:r[0],delay:_t*2,amount:et}),d.start()})),y&&(g||Pe(()=>{g=Re(h,Te,{duration:r[0],delay:_t*3,amount:et}),g.start()})),y&&(E||Pe(()=>{E=Re(m,Te,{duration:r[0],delay:_t*4,amount:et}),E.start()}))},o:Q,d(y){y&&p(t)}}}const _t=250,et=20;function Mr(r,t,e){let n,o;const a=rt();Me(r,a,l=>e(3,o=l));let{transition_duration:s}=t;return r.$$set=l=>{"transition_duration"in l&&e(0,s=l.transition_duration)},r.$$.update=()=>{r.$$.dirty&8&&e(1,n=o.recording_mode)},[s,n,a,o]}class Br extends De{constructor(t){super(),Ne(this,t,Mr,Ir,He,{transition_duration:0})}}function Vt(r){let t,e,n,o,a=r[12]&&Gt(r),s=r[15]&&Rt(r),l=r[14]&&xt();return{c(){t=S("div"),a&&a.c(),e=P(),s&&s.c(),n=P(),l&&l.c(),this.h()},l(c){t=z(c,"DIV",{class:!0});var _=F(t);a&&a.l(_),e=H(_),s&&s.l(_),n=H(_),l&&l.l(_),_.forEach(p),this.h()},h(){R(t,"class","tour svelte-1ryehd")},m(c,_){I(c,t,_),a&&a.m(t,null),v(t,e),s&&s.m(t,null),v(t,n),l&&l.m(t,null),o=!0},p(c,_){c[12]?a?(a.p(c,_),_[0]&4096&&$(a,1)):(a=Gt(c),a.c(),$(a,1),a.m(t,e)):a&&(ye(),C(a,1,1,()=>{a=null}),we()),c[15]?s?(s.p(c,_),_[0]&32768&&$(s,1)):(s=Rt(c),s.c(),$(s,1),s.m(t,n)):s&&(ye(),C(s,1,1,()=>{s=null}),we()),c[14]?l?(l.p(c,_),_[0]&16384&&$(l,1)):(l=xt(),l.c(),$(l,1),l.m(t,null)):l&&(ye(),C(l,1,1,()=>{l=null}),we())},i(c){o||($(a),$(s),$(l),o=!0)},o(c){C(a),C(s),C(l),o=!1},d(c){c&&p(t),a&&a.d(),s&&s.d(),l&&l.d()}}}function Gt(r){let t,e;return t=new Er({props:{tour_text:r[12]}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){const a={};o[0]&4096&&(a.tour_text=n[12]),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Rt(r){let t,e;return t=new Lr({props:{hide:r[30],transition_duration:Ct,pause_duration:an,max_delay:sn}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){const a={};o[0]&32768&&(a.hide=n[30]),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function xt(r){let t,e;return t=new Br({props:{transition_duration:Ct}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p:Q,i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Pr(r){let t,e,n,o,a,s,l,c,_,i=r[10]&&Vt(r);function u(m){r[33](m)}function d(m){r[34](m)}function f(m){r[35](m)}function h(m){r[36](m)}function b(m){r[37](m)}function g(m){r[38](m)}let T={camera:r[7],clock:r[16],hooks:r[20],create_tour_data:r[31]};return r[2]!==void 0&&(T.touring=r[2]),r[3]!==void 0&&(T.tourData=r[3]),r[4]!==void 0&&(T.currentTime=r[4]),r[5]!==void 0&&(T.currentStepIndex=r[5]),r[0]!==void 0&&(T.paused=r[0]),r[6]!==void 0&&(T.begin_tour=r[6]),e=new Dn({props:T}),r[32](e),Ie.push(()=>Fe(e,"touring",u)),Ie.push(()=>Fe(e,"tourData",d)),Ie.push(()=>Fe(e,"currentTime",f)),Ie.push(()=>Fe(e,"currentStepIndex",h)),Ie.push(()=>Fe(e,"paused",b)),Ie.push(()=>Fe(e,"begin_tour",g)),e.$on("begin",r[39]),{c(){i&&i.c(),t=P(),N(e.$$.fragment)},l(m){i&&i.l(m),t=H(m),A(e.$$.fragment,m)},m(m,M){i&&i.m(m,M),I(m,t,M),O(e,m,M),_=!0},p(m,M){m[10]?i?(i.p(m,M),M[0]&1024&&$(i,1)):(i=Vt(m),i.c(),$(i,1),i.m(t.parentNode,t)):i&&(ye(),C(i,1,1,()=>{i=null}),we());const E={};M[0]&128&&(E.camera=m[7]),M[0]&8192&&(E.create_tour_data=m[31]),!n&&M[0]&4&&(n=!0,E.touring=m[2],Ye(()=>n=!1)),!o&&M[0]&8&&(o=!0,E.tourData=m[3],Ye(()=>o=!1)),!a&&M[0]&16&&(a=!0,E.currentTime=m[4],Ye(()=>a=!1)),!s&&M[0]&32&&(s=!0,E.currentStepIndex=m[5],Ye(()=>s=!1)),!l&&M[0]&1&&(l=!0,E.paused=m[0],Ye(()=>l=!1)),!c&&M[0]&64&&(c=!0,E.begin_tour=m[6],Ye(()=>c=!1)),e.$set(E)},i(m){_||($(i),$(e.$$.fragment,m),_=!0)},o(m){C(i),C(e.$$.fragment,m),_=!1},d(m){m&&p(t),i&&i.d(m),r[32](null),V(e,m)}}}const Yt="/assets/audio/Alexander_Nakarada__Piña_Colada.mp3",Ft="/assets/audio/water_trickle.mp3",Ct=2e3,an=3e3,sn=250;function Hr(r,t,e){let n,o,a,s,l,c=Q,_=()=>(c(),c=de(oe,w=>e(44,l=w)),oe),i,u=Q,d=()=>(u(),u=de(re,w=>e(14,i=w)),re),f,h=Q,b=()=>(h(),h=de(le,w=>e(15,f=w)),le),g,T=Q,m=()=>(T(),T=de(B,w=>e(45,g=w)),B),M,E=Q,y=()=>(E(),E=de(D,w=>e(10,M=w)),D),L,G=Q,j=()=>(G(),G=de(x,w=>e(27,L=w)),x),ee,te;r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>G());let{camera:ne}=t,{tour:ie=void 0}=t,{touring:D=void 0}=t;y();let{tour_data:x=void 0}=t;j();let{current_time:B=void 0}=t;m();let{current_step_index:q=void 0}=t,{paused:Z=void 0}=t,{begin_tour:ce=void 0}=t,{update_land_images:me}=t,{update_daylight:Be}=t,{update_sea_level:$e}=t;const Se=bt(!1),le=bt(!1);b();const re=bt(!1);d();let{scale:oe}=ne;_();const ke=kt(),ve=rt();Me(r,ve,w=>e(29,te=w));const fe=nn();Me(r,fe,w=>e(28,ee=w)),fe.addResource("audio",Yt),fe.addResource("audio",Ft);let he,ae;const ue=Ct*2+sn+an;let ze=Z;const U=w=>{he.audio&&a&&g!=null&&w!=null&&lt(he.audio,a,g,n,w),ae.audio&&s&&g!=null&&w!=null&&lt(ae.audio,s,g,n,w)};let Y=null;const se=w=>{if(typeof w=="string")e(12,Y=[w]);else{const ge=Y?Y.filter(Boolean):[];for(ge.push(w.content);ge.length<w.count;)ge.push("");e(12,Y=ge)}},Ue={event:(w,ge)=>{switch(w){case"load":return fe.load();case"play_main_song":{he.audio.currentTime=0,n&&he.audio.play();break}case"play_water_trickle":{ae.audio.currentTime=0,n&&ae.audio.play();return}case"show_text":{se(ge);return}case"clear_text":{e(12,Y=null);return}case"show_title":{be(le,f=!0,f);return}case"show_credits":{be(re,i=!0,i),ae.audio.currentTime=0,n&&ae.audio.play();return}case"update_land_images":{const{min:Ae,max:Oe}=ge;me(Ae,Oe);return}case"update_daylight":{const{min:Ae,max:Oe}=ge;Be(Ae,Oe);return}case"update_sea_level":{const{min:Ae,max:Oe}=ge;$e(Ae,Oe);return}default:console.warn("unhandled event",w)}},seek:(w,ge)=>{if(!he.audio)throw Error("seek expects expected main_song.audio");if(!ae.audio)throw Error("seek expects expected water_trickle.audio");if(!a)throw Error("seek expects main_song_step");if(!s)throw Error("seek expects water_trickleStep");lt(he.audio,a,w,n,Z),lt(ae.audio,s,w,n,Z),e(12,Y=null),be(le,f=!1,f),be(re,i=!1,i)},done:w=>{e(12,Y=null),be(le,f=!1,f),be(re,i=!1,i),l>50&&be(oe,l=50,l),U(!0)}},Le=()=>be(le,f=!1,f),Ce=()=>Kn(ue,o);function ot(w){Ie[w?"unshift":"push"](()=>{ie=w,e(1,ie)})}function Qe(w){D=w,y(e(2,D))}function qe(w){x=w,j(e(3,x))}function Ke(w){B=w,m(e(4,B))}function Je(w){q=w,e(5,q)}function at(w){Z=w,e(0,Z)}function it(w){ce=w,e(6,ce)}function We(w){kn.call(this,r,w)}return r.$$set=w=>{"camera"in w&&e(7,ne=w.camera),"tour"in w&&e(1,ie=w.tour),"touring"in w&&y(e(2,D=w.touring)),"tour_data"in w&&j(e(3,x=w.tour_data)),"current_time"in w&&m(e(4,B=w.current_time)),"current_step_index"in w&&e(5,q=w.current_step_index),"paused"in w&&e(0,Z=w.paused),"begin_tour"in w&&e(6,ce=w.begin_tour),"update_land_images"in w&&e(21,me=w.update_land_images),"update_daylight"in w&&e(22,Be=w.update_daylight),"update_sea_level"in w&&e(23,$e=w.update_sea_level)},r.$$.update=()=>{r.$$.dirty[0]&128&&_(e(11,{scale:oe}=ne,oe)),r.$$.dirty[0]&536870912&&e(26,{audio_enabled:n,dev_mode:o}=te,n,(e(13,o),e(29,te))),r.$$.dirty[0]&268435456&&(he=ee.resources.find(w=>w.url===Yt)),r.$$.dirty[0]&268435456&&(ae=ee.resources.find(w=>w.url===Ft)),r.$$.dirty[0]&134217728&&(a=L&&Bt(L,"play_main_song")),r.$$.dirty[0]&134217728&&(s=L&&Bt(L,"play_water_trickle")),r.$$.dirty[0]&33555457&&M&&Z!==void 0&&Z!==ze&&(e(25,ze=Z),U(Z)),r.$$.dirty[0]&67108864&&U(!n)},[Z,ie,D,x,B,q,ce,ne,le,re,M,oe,Y,o,i,f,ke,ve,fe,ue,Ue,me,Be,$e,Se,ze,n,L,ee,te,Le,Ce,ot,Qe,qe,Ke,Je,at,it,We]}class Dr extends De{constructor(t){super(),Ne(this,t,Hr,Pr,He,{camera:7,tour:1,touring:2,tour_data:3,current_time:4,current_step_index:5,paused:0,begin_tour:6,update_land_images:21,update_daylight:22,update_sea_level:23,show_tour_intro:24,show_tour_title:8,show_tour_credits:9},null,[-1,-1])}get show_tour_intro(){return this.$$.ctx[24]}get show_tour_title(){return this.$$.ctx[8]}get show_tour_credits(){return this.$$.ctx[9]}}function Nr(r){let t,e,n="<code>[shift+Backtick `]</code>",o,a,s,l,c;return{c(){t=S("tr"),e=S("td"),e.innerHTML=n,o=S("td"),a=K("toggle dev mode (currently "),s=S("code"),l=K(r[1]),c=K(")")},l(_){t=z(_,"TR",{});var i=F(t);e=z(i,"TD",{"data-svelte-h":!0}),X(e)!=="svelte-ib4ad0"&&(e.innerHTML=n),o=z(i,"TD",{});var u=F(o);a=J(u,"toggle dev mode (currently "),s=z(u,"CODE",{});var d=F(s);l=J(d,r[1]),d.forEach(p),c=J(u,")"),u.forEach(p),i.forEach(p)},m(_,i){I(_,t,i),v(t,e),v(t,o),v(o,a),v(o,s),v(s,l),v(o,c)},p(_,i){i&2&&mt(l,_[1])},d(_){_&&p(t)}}}function Ar(r){let t,e,n;return e=new jn({props:{clock:r[0],$$slots:{end:[Nr]},$$scope:{ctx:r}}}),{c(){t=S("div"),N(e.$$.fragment),this.h()},l(o){t=z(o,"DIV",{class:!0});var a=F(t);A(e.$$.fragment,a),a.forEach(p),this.h()},h(){R(t,"class","wrapper svelte-1agb8te")},m(o,a){I(o,t,a),O(e,t,null),n=!0},p(o,[a]){const s={};a&1&&(s.clock=o[0]),a&18&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){o&&p(t),V(e)}}}function Or(r,t,e){let n,o,{clock:a}=t;const s=rt();return Me(r,s,l=>e(3,o=l)),r.$$set=l=>{"clock"in l&&e(0,a=l.clock)},r.$$.update=()=>{r.$$.dirty&8&&e(1,n=o.dev_mode)},[a,n,s,o]}class Vr extends De{constructor(t){super(),Ne(this,t,Or,Ar,He,{clock:0})}}function jt(r){let t,e,n,o;const a=[Rr,Gr],s=[];function l(c,_){return!c[12]&&c[21].status==="success"?0:1}return e=l(r),n=s[e]=a[e](r),{c(){t=S("div"),n.c(),this.h()},l(c){t=z(c,"DIV",{class:!0});var _=F(t);n.l(_),_.forEach(p),this.h()},h(){R(t,"class","soggy-planet svelte-iba55k")},m(c,_){I(c,t,_),s[e].m(t,null),o=!0},p(c,_){let i=e;e=l(c),e===i?s[e].p(c,_):(ye(),C(s[i],1,1,()=>{s[i]=null}),we(),n=s[e],n?n.p(c,_):(n=s[e]=a[e](c),n.c()),$(n,1),n.m(t,null))},i(c){o||($(n),o=!0)},o(c){C(n),o=!1},d(c){c&&p(t),s[e].d()}}}function Gr(r){let t,e;return t=new cr({props:{resources:r[42],proceed:r[43],start_tour:r[45]}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p:Q,i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Rr(r){let t,e,n,o,a,s,l;t=new An({props:{camera:r[0],landImages:r[1],seaImages:r[33],shoreImage:_n,shoreImageCount:wt,seashoreFloorIndex:r[34],lightsImage:r[32],lightsOpacity:r[6],nightfallOpacity:r[17],showLights:!0,activeLandValue:r[15],activeSeaLevel:r[16],imageWidth:ln,imageHeight:un}});function c(i){r[66](i)}let _={camera:r[0],update_land_images:r[47],update_daylight:r[48],update_sea_level:r[49]};return r[5]!==void 0&&(_.tour=r[5]),n=new Dr({props:_}),Ie.push(()=>Fe(n,"tour",c)),n.$on("begin",r[46]),s=new tn({props:{$$slots:{default:[Wr]},$$scope:{ctx:r}}}),{c(){N(t.$$.fragment),e=P(),N(n.$$.fragment),a=P(),N(s.$$.fragment)},l(i){A(t.$$.fragment,i),e=H(i),A(n.$$.fragment,i),a=H(i),A(s.$$.fragment,i)},m(i,u){O(t,i,u),I(i,e,u),O(n,i,u),I(i,a,u),O(s,i,u),l=!0},p(i,u){const d={};u[0]&1&&(d.camera=i[0]),u[0]&2&&(d.landImages=i[1]),u[0]&64&&(d.lightsOpacity=i[6]),u[0]&131072&&(d.nightfallOpacity=i[17]),u[0]&32768&&(d.activeLandValue=i[15]),u[0]&65536&&(d.activeSeaLevel=i[16]),t.$set(d);const f={};u[0]&1&&(f.camera=i[0]),!o&&u[0]&32&&(o=!0,f.tour=i[5],Ye(()=>o=!1)),n.$set(f);const h={};u[0]&1920252|u[2]&16384&&(h.$$scope={dirty:u,ctx:i}),s.$set(h)},i(i){l||($(t.$$.fragment,i),$(n.$$.fragment,i),$(s.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),C(n.$$.fragment,i),C(s.$$.fragment,i),l=!1},d(i){i&&(p(e),p(a)),V(t,i),V(n,i),V(s,i)}}}function xr(r){let t,e,n;return e=new ht({props:{pressed:r[11],label:"toggle hud controls",$$slots:{default:[jr]},$$scope:{ctx:r}}}),e.$on("click",r[31]),{c(){t=S("div"),N(e.$$.fragment),this.h()},l(o){t=z(o,"DIV",{class:!0});var a=F(t);A(e.$$.fragment,a),a.forEach(p),this.h()},h(){R(t,"class","hud-top-controls svelte-iba55k")},m(o,a){I(o,t,a),O(e,t,null),n=!0},p(o,a){const s={};a[0]&2048&&(s.pressed=o[11]),a[2]&16384&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){o&&p(t),V(e)}}}function Yr(r){let t,e;return t=new ht({props:{label:"go back to title screen",$$slots:{default:[Ur]},$$scope:{ctx:r}}}),t.$on("click",r[44]),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){const a={};o[2]&16384&&(a.$$scope={dirty:o,ctx:n}),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Fr(r){let t,e;return t=new ht({props:{label:"cancel tour",$$slots:{default:[qr]},$$scope:{ctx:r}}}),t.$on("click",function(){ft(r[5].cancel)&&r[5].cancel.apply(this,arguments)}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){r=n;const a={};o[2]&16384&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function jr(r){let t;return{c(){t=K("∙∙∙")},l(e){t=J(e,"∙∙∙")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function Ur(r){let t;return{c(){t=K("⇦")},l(e){t=J(e,"⇦")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function qr(r){let t;return{c(){t=K("✕")},l(e){t=J(e,"✕")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function Ut(r){let t,e,n,o,a,s,l,c,_,i,u,d,f,h;e=new ht({props:{pressed:r[11],label:"toggle hud controls",$$slots:{default:[Kr]},$$scope:{ctx:r}}}),e.$on("click",r[31]),o=new tt({props:{label:"start the tour of our soggy planet with history and myth",$$slots:{default:[Jr]},$$scope:{ctx:r}}}),o.$on("click",r[45]),l=new mr({props:{daylight:r[6],selected_daylight:r[4],select_daylight:r[40],hover_daylight:r[41]}});let b=r[14]&&qt(r);return u=new On({props:{active_land_index:r[7],selected_land_index:r[3],select_land_index:r[38],hover_land_index:r[39]}}),f=new Vn({props:{sea_level:r[16],sea_index_max:r[35],selected_sea_level:r[2],select_sea_level:r[36],hover_sea_level:r[37]}}),{c(){t=S("div"),N(e.$$.fragment),n=P(),N(o.$$.fragment),a=P(),s=S("div"),N(l.$$.fragment),c=P(),b&&b.c(),_=P(),i=S("div"),N(u.$$.fragment),d=P(),N(f.$$.fragment),this.h()},l(g){t=z(g,"DIV",{class:!0});var T=F(t);A(e.$$.fragment,T),n=H(T),A(o.$$.fragment,T),T.forEach(p),a=H(g),s=z(g,"DIV",{class:!0});var m=F(s);A(l.$$.fragment,m),c=H(m),b&&b.l(m),m.forEach(p),_=H(g),i=z(g,"DIV",{class:!0});var M=F(i);A(u.$$.fragment,M),M.forEach(p),d=H(g),A(f.$$.fragment,g),this.h()},h(){R(t,"class","hud-top-controls svelte-iba55k"),R(s,"class","hud-left-controls svelte-iba55k"),R(i,"class","month-wrapper svelte-iba55k")},m(g,T){I(g,t,T),O(e,t,null),v(t,n),O(o,t,null),I(g,a,T),I(g,s,T),O(l,s,null),v(s,c),b&&b.m(s,null),I(g,_,T),I(g,i,T),O(u,i,null),I(g,d,T),O(f,g,T),h=!0},p(g,T){const m={};T[0]&2048&&(m.pressed=g[11]),T[2]&16384&&(m.$$scope={dirty:T,ctx:g}),e.$set(m);const M={};T[2]&16384&&(M.$$scope={dirty:T,ctx:g}),o.$set(M);const E={};T[0]&64&&(E.daylight=g[6]),T[0]&16&&(E.selected_daylight=g[4]),l.$set(E),g[14]?b?(b.p(g,T),T[0]&16384&&$(b,1)):(b=qt(g),b.c(),$(b,1),b.m(s,null)):b&&(ye(),C(b,1,1,()=>{b=null}),we());const y={};T[0]&128&&(y.active_land_index=g[7]),T[0]&8&&(y.selected_land_index=g[3]),u.$set(y);const L={};T[0]&65536&&(L.sea_level=g[16]),T[0]&4&&(L.selected_sea_level=g[2]),f.$set(L)},i(g){h||($(e.$$.fragment,g),$(o.$$.fragment,g),$(l.$$.fragment,g),$(b),$(u.$$.fragment,g),$(f.$$.fragment,g),h=!0)},o(g){C(e.$$.fragment,g),C(o.$$.fragment,g),C(l.$$.fragment,g),C(b),C(u.$$.fragment,g),C(f.$$.fragment,g),h=!1},d(g){g&&(p(t),p(a),p(s),p(_),p(i),p(d)),V(e),V(o),V(l),b&&b.d(),V(u),V(f,g)}}}function Kr(r){let t;return{c(){t=K("∙∙∙")},l(e){t=J(e,"∙∙∙")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function Jr(r){let t;return{c(){t=K("tour")},l(e){t=J(e,"tour")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function qt(r){let t,e;return t=new kr({props:{tour:r[5]||null,x:r[20],y:r[19],scale:r[18],debug_start_time:r[22]}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p(n,o){const a={};o[0]&32&&(a.tour=n[5]||null),o[0]&1048576&&(a.x=n[20]),o[0]&524288&&(a.y=n[19]),o[0]&262144&&(a.scale=n[18]),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Wr(r){let t,e,n,o,a;const s=[Fr,Yr,xr],l=[];function c(i,u){return i[5]&&i[10]?0:i[11]?1:2}t=c(r),e=l[t]=s[t](r);let _=r[11]&&(!r[10]||r[14])&&Ut(r);return{c(){e.c(),n=P(),_&&_.c(),o=Ze()},l(i){e.l(i),n=H(i),_&&_.l(i),o=Ze()},m(i,u){l[t].m(i,u),I(i,n,u),_&&_.m(i,u),I(i,o,u),a=!0},p(i,u){let d=t;t=c(i),t===d?l[t].p(i,u):(ye(),C(l[d],1,1,()=>{l[d]=null}),we(),e=l[t],e?e.p(i,u):(e=l[t]=s[t](i),e.c()),$(e,1),e.m(n.parentNode,n)),i[11]&&(!i[10]||i[14])?_?(_.p(i,u),u[0]&19456&&$(_,1)):(_=Ut(i),_.c(),$(_,1),_.m(o.parentNode,o)):_&&(ye(),C(_,1,1,()=>{_=null}),we())},i(i){a||($(e),$(_),a=!0)},o(i){C(e),C(_),a=!1},d(i){i&&(p(n),p(o)),l[t].d(i),_&&_.d(i)}}}function Xr(r){let t,e;return t=new Vr({props:{clock:r[23]}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,o){O(t,n,o),e=!0},p:Q,i(n){e||($(t.$$.fragment,n),e=!0)},o(n){C(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function Zr(r){let t,e,n,o,a,s,l,c={initialX:r[25],initialY:r[26],initialWidth:r[27],initialHeight:r[28]};t=new Nn({props:c}),r[65](t);let _=r[0]&&r[20]&&r[19]&&r[18]&&jt(r);return o=new Un({props:{$$slots:{default:[Xr]},$$scope:{ctx:r}}}),{c(){N(t.$$.fragment),e=P(),_&&_.c(),n=P(),N(o.$$.fragment)},l(i){A(t.$$.fragment,i),e=H(i),_&&_.l(i),n=H(i),A(o.$$.fragment,i)},m(i,u){O(t,i,u),I(i,e,u),_&&_.m(i,u),I(i,n,u),O(o,i,u),a=!0,s||(l=Ee(window,"keydown",r[30]),s=!0)},p(i,u){const d={};t.$set(d),i[0]&&i[20]&&i[19]&&i[18]?_?(_.p(i,u),u[0]&1835009&&$(_,1)):(_=jt(i),_.c(),$(_,1),_.m(n.parentNode,n)):_&&(ye(),C(_,1,1,()=>{_=null}),we());const f={};u[2]&16384&&(f.$$scope={dirty:u,ctx:i}),o.$set(f)},i(i){a||($(t.$$.fragment,i),$(_),$(o.$$.fragment,i),a=!0)},o(i){C(t.$$.fragment,i),C(_),C(o.$$.fragment,i),a=!1},d(i){i&&(p(e),p(n)),r[65](null),V(t,i),_&&_.d(i),V(o,i),s=!1,l()}}}const ln=4096,un=2048,Kt=0,Jt=.91,Wt=3e3,_n="/assets/earth/shore.png",Xt=1e3,Zt=230;function Qr(r,t,e){let n,o,a,s,l,c,_,i,u,d,f,h,b,g,T=Q,m=()=>(T(),T=de(b,k=>e(10,g=k)),b),M,E,y,L,G=Q,j=()=>(G(),G=de(l,k=>e(68,L=k)),l),ee,te=Q,ne=()=>(te(),te=de(s,k=>e(69,ee=k)),s),ie;r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>te());const D=0,x=kt();Me(r,x,k=>e(62,M=k));let B;const q=en();Me(r,q,k=>e(64,y=k));const Z=It(0,ln),ce=It(y.height/2,un-y.height/2),me=y.width,Be=y.height,$e=rt();Me(r,$e,k=>e(63,E=k));let Se=!0;const le=(k=!Se)=>{e(11,Se=k)},re=k=>{xe||(k.key==="Escape"&&!k.ctrlKey&&Mt(k.target)?(nt(k),St()):k.key==="1"&&Mt(k.target)&&(nt(k),le()))},oe=k=>{nt(k),le()},ke=(k,_e)=>Array.from({length:1+_e-k},(eo,vn)=>`/assets/earth/land_${vn+1+k}.png`);let ve=ke(0,11),fe=0;const he="/assets/earth/lights.png";let ae=Kt,ue=Jt,ze=ae,U=Wt*1.7;const Y=k=>ae+(ue-ae)*(Math.sin(k/Wt)+1)/2,se=Array.from({length:3},(k,_e)=>`/assets/earth/sea_${_e+1}.png`),Ue=wt,Le=se.length+wt-1;let Ce=Xt*2.5;const ot=k=>Le*(Math.sin(k/Xt)+1)/2;let Qe=ot(Ce),qe=0,Ke=null,Je=null;const at=k=>{e(2,Ke=k)},it=k=>{e(57,Je=k)};let We=null,w=null;const ge=k=>{e(56,qe=Zt*k)},Ae=k=>{e(3,We=k),k!==null&&ge(k)},Oe=k=>{e(58,w=k),k!==null&&ge(k)};let st=null,gt=null;const Tt=k=>{e(4,st=k)},Et=k=>{e(59,gt=k)},Ve=nn();Me(r,Ve,k=>e(21,ie=k)),ve.forEach(k=>Ve.addResource("image",k)),se.forEach(k=>Ve.addResource("image",k)),Ve.addResource("image",_n),Ve.addResource("image",he);let xe=!0;const cn=()=>{e(12,xe=!xe)},St=()=>{e(12,xe=!0)},zt=()=>{e(12,xe=!1)};Qt(()=>{c&&(zt(),Ve.load())});let Ge;const fn=async()=>{xe&&(zt(),await Ve.load()),Ge||await Cn(),Ge&&Ge.begin_tour()},dn=()=>{console.log("on_begin_tour args")};let pt=!1;const mn=(k,_e)=>{console.log("update_land_images",k,_e),e(1,ve=ke(k,_e)),Ae(k===_e?_e:null),Oe(null)},hn=(k,_e)=>{e(51,ae=k),ue=_e,Tt(_e),Et(_e)},gn=(k,_e)=>{at(_e),it(_e)};function pn(k){Ie[k?"unshift":"push"](()=>{B=k,e(0,B)})}function bn(k){Ge=k,e(5,Ge)}return r.$$.update=()=>{r.$$.dirty[0]&1&&e(20,n=B==null?void 0:B.x),r.$$.dirty[0]&1&&e(19,o=B==null?void 0:B.y),r.$$.dirty[0]&1&&e(18,a=B==null?void 0:B.scale),r.$$.dirty[0]&1&&ne(e(9,s=B==null?void 0:B.width)),r.$$.dirty[0]&1&&j(e(8,l=B==null?void 0:B.height)),r.$$.dirty[0]&512|r.$$.dirty[2]&4&&s&&be(s,ee=y.width,ee),r.$$.dirty[0]&256|r.$$.dirty[2]&4&&l&&be(l,L=y.height,L),r.$$.dirty[2]&2&&e(14,c=E.dev_mode),r.$$.dirty[0]&10|r.$$.dirty[1]&167772160|r.$$.dirty[2]&1&&We===null&&w===null&&(e(56,qe+=M.dt),e(50,fe=qe/Zt%ve.length)),r.$$.dirty[1]&524288&&e(61,_=Math.floor(fe)),r.$$.dirty[0]&16|r.$$.dirty[1]&4194304|r.$$.dirty[2]&1&&st===null&&e(53,U+=M.dt),r.$$.dirty[1]&4194304&&e(52,ze=Y(U)),r.$$.dirty[0]&16|r.$$.dirty[1]&270532608&&e(6,h=gt??st??ze),r.$$.dirty[0]&1024|r.$$.dirty[1]&536870912&&(pt&&!g&&(e(51,ae=Kt),ue=Jt),e(60,pt=!!g)),r.$$.dirty[0]&64|r.$$.dirty[1]&1048576&&e(17,i=(h-ae)*.48),r.$$.dirty[0]&4|r.$$.dirty[1]&75497472|r.$$.dirty[2]&1&&Ke===null&&Je===null&&e(54,Ce+=M.dt),r.$$.dirty[1]&8388608&&e(55,Qe=ot(Ce)),r.$$.dirty[0]&4|r.$$.dirty[1]&83886080&&e(16,u=Je??Ke??Qe),r.$$.dirty[0]&8|r.$$.dirty[1]&1207959552&&e(7,d=w??We??_),r.$$.dirty[0]&128|r.$$.dirty[1]&1074266112&&e(15,f=d===_?fe:d),r.$$.dirty[0]&32&&m(e(13,b=Ge?Ge.touring:null)),r.$$.dirty[0]&1024&&console.log("$touring",g)},[B,ve,Ke,We,st,Ge,h,d,l,s,g,Se,xe,b,c,f,u,i,a,o,n,ie,D,x,q,Z,ce,me,Be,$e,re,oe,he,se,Ue,Le,at,it,Ae,Oe,Tt,Et,Ve,cn,St,fn,dn,mn,hn,gn,fe,ae,ze,U,Ce,Qe,qe,Je,w,gt,pt,_,M,E,y,pn,bn]}class Io extends De{constructor(t){super(),Ne(this,t,Qr,Zr,He,{},null,[-1,-1,-1])}}export{Io as component};
