import{n as He,s as B,e as z,c as P,b as L,l as j,d as p,p as Re,m as G,i as I,o as b,x as K,r as Xe,g as W,y as J,J as Ee,F as ft,C as dt,a as te,E as de,I as ct,G as Se,L as Me,A as mt,P as be,a0 as Pe,H as yn,z as $n,a4 as Qt,M as kn,K as Fe,Z as Cn,B as Tn}from"../chunks/scheduler.EKw-xcnK.js";import{S as De,i as Ne,c as A,a as O,m as V,t as y,g as ve,b as T,e as ye,d as x,h as It,j as Ge,k as En,f as je}from"../chunks/index.nrQb7by4.js";import{a as St}from"../chunks/random.oPe0JuqT.js";import{s as nt}from"../chunks/dom.z-RU6ZBL.js";import{g as kt}from"../chunks/clock.njU5BnUT.js";import{e as Mt}from"../chunks/dom.hOmha4Dm.js";import{g as en}from"../chunks/dimensions.tILrlVrF.js";import{e as vt,u as zn,d as Ln}from"../chunks/each.JsaE_8Dp.js";import{P as In}from"../chunks/Pending_Animation.iF66PB_S.js";import{b as tn}from"../chunks/paths.EjK53meC.js";import{S as Sn,a as Mn,b as yt}from"../chunks/Soggy_Planet_Thumbnail.gv4WxEIV.js";import{H as nn,a as Bn}from"../chunks/renderStats.t9WZYwwF.js";import{c as Pn,R as Hn,T as Dn,a as Nn,b as rn,u as lt,f as Bt,C as An,E as On,M as Vn,S as xn}from"../chunks/Camera.45Kd4Bj_.js";import{P as ut}from"../chunks/Panel.pFDv8uGm.js";import{C as an}from"../chunks/ChunkyButton.2oUmNg6Q.js";import{C as Gn}from"../chunks/CreditsProjectSignature.Fljb8YaN.js";import{P as Rn}from"../chunks/Preview.rU_lPq_E.js";import{P as Yn}from"../chunks/PortalPreview.aJsSzUYI.js";import{P as Fn}from"../chunks/PortalLink.tbBT2Wz9.js";import{b as Z,q as Pt}from"../chunks/index.QBIbXOVU.js";import{z as We}from"../chunks/index.PQpQWhey.js";import{g as rt}from"../chunks/settings.wJ8IbT5P.js";import{F as ht}from"../chunks/FloatingIconButton.QQQ7T88v.js";import{F as tt}from"../chunks/FloatingTextButton.NvWIcJ-1.js";import{w as bt}from"../chunks/index.mvauKzP3.js";import{b as Te}from"../chunks/index.ANt1qW_Q.js";import{A as jn}from"../chunks/AppControlsTable.xhLXUNGT.js";import{A as Un}from"../chunks/AppDialog.aSbl6Y9m.js";We.object({name:We.string(),url:We.string(),myth:We.boolean().optional(),x:We.number(),y:We.number()});const on=[{name:"Zealandia",url:"https://wikipedia.org/wiki/Zealandia",x:400,y:70},{name:"Sundaland",url:"https://wikipedia.org/wiki/Sundaland",x:300,y:-200},{name:"Kumari Kandam",url:"https://wikipedia.org/wiki/Kumari_Kandam",myth:!0,x:0,y:404},{name:"Lemuria",url:"https://wikipedia.org/wiki/Lemuria",myth:!0,x:200,y:230},{name:"Persian Gulf",url:"https://wikipedia.org/wiki/Persian_Gulf",x:210,y:-80},{name:"Black Sea deluge",url:"https://wikipedia.org/wiki/Black_Sea_deluge_hypothesis",myth:!0,x:0,y:50},{name:"Adriatic Sea",url:"https://wikipedia.org/wiki/Adriatic_Sea",x:130,y:-410},{name:"Doggerland",url:"https://wikipedia.org/wiki/Doggerland",x:0,y:-200},{name:"Ys",url:"https://wikipedia.org/wiki/Ys",myth:!0,x:20,y:20},{name:"Beringia",url:"https://wikipedia.org/wiki/Beringia",x:-200,y:230},{name:"Missoula floods",url:"https://wikipedia.org/wiki/Missoula_floods",x:110,y:-90},{name:"Land bridges of Japan",url:"https://wikipedia.org/wiki/Land_bridges_of_Japan",x:400,y:300},{name:"Mu",url:"https://wikipedia.org/wiki/Mu_(mythical_lost_continent)",myth:!0,x:120,y:-30}],qn=r=>{const t=on.find(e=>e.name===r);if(!t)throw Error(`unknown point of interest "${r}"`);return t},pe=r=>{const t=qn(r),e=`<a href="${t.url}">${r}</a>`;return`<span style="position: relative; left: ${t.x}px; top: ${t.y}px;">${t.myth?e+`<span title="${r} may be a myth">?</span>`:e}</span>`},Kn=(r,t=!1)=>{const e=Pn(),n=1e3,a=n*6,o=n*3,s=13900,l=2e3,_=4e3,c=24,i=1405,u=5e3,d=(m,v,h=70)=>{let E=0;if(m===v)return 0;if(m>v)for(let g=m;g>=v;g--)e.event("update_sea_level",{min:g,max:g}),e.wait(h),E+=h;else for(let g=m;g<=v;g++)e.event("update_sea_level",{min:g,max:g}),e.wait(h),E+=h;return E},f=e.event("load");return t?(e.pan(c,i,0),e.zoom(u,0)):(e.pan(c,i,2e3),e.zoom(5,2e3),e.wait(),e.zoom(50,1e3),e.wait()),f(),t||(e.zoom(u,1e3),e.wait()),e.event("update_land_images",{min:0,max:11}),e.event("update_daylight",{min:0,max:0}),e.event("update_sea_level",{min:12,max:12}),e.event("play_water_trickle"),e.event("show_text",{content:"for tens of thousands of years",count:3}),e.zoom(200,2e3),e.wait(l),e.event("show_text",{content:"we have thrived",count:3}),e.zoom(50,3e3),e.wait(l),e.event("show_text",{content:"along coastlines and waterways",count:3}),e.wait(l),e.wait(_-1e3),e.event("clear_text"),e.wait(1e3),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -170px;">around 19 or 20 thousand years ago</span>',count:3}),e.zoom(3,6e3),e.wait(l),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -195px;">at the end of <a href="https://wikipedia.org/wiki/Last_Glacial_Maximum">the Last Glacial Maximum</a></span>',count:3}),e.wait(l),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -170px;">global sea levels were about 125 meters lower</span>',count:3}),e.wait(l-d(12,0)),e.wait(_),e.event("clear_text"),e.wait(1e3),e.event("update_land_images",{min:6,max:6}),e.event("play_main_song"),e.event("show_text",{content:'<span style="position: relative; left: 200px; top: -100px;">glaciers ate mountains of moisture</span>',count:2}),e.pan(-174,1092,4e3),e.zoom(.7,4e3),e.wait(l+l/2),e.event("show_text",{content:'<span style="position: relative; left: 250px; top: -110px;">and myth flooded our imaginations</span>',count:2}),e.wait(l/2),e.wait(_),e.event("clear_text"),e.wait(),e.pan(-67,1358,o),e.zoom(2.2,o),e.wait(o-d(1,12)),e.zoomBy(1.02,a,Z),e.panBy(2,2,a,Z),e.wait(1e3),e.event("show_text",pe("Zealandia")),e.wait(800-d(11,0)),e.event("update_land_images",{min:0,max:11}),e.wait(),e.event("clear_text"),e.pan(-664,920,o),e.zoom(1.8,o/2),e.wait(o/2-d(1,12)),e.zoom(2.6,o/2),e.wait(),e.zoomBy(1.02,a,Z),e.panBy(1,2,a,Z),e.wait(1e3),e.event("show_text",pe("Sundaland")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1222,940,o),e.zoom(1.8,o/2),e.wait(o/2-d(1,12)),e.zoom(3.9,o/2),e.wait(1e3),e.event("show_text",pe("Kumari Kandam")),e.wait(e.get_time_diff()-d(11,0)),e.zoomBy(1.02,a,Z),e.panBy(2,0,a,Z),e.wait(),e.event("clear_text"),e.pan(-1445,1223,o),e.zoom(2.9,o/2),e.wait(o/2-d(1,12)),e.zoom(3.2,o/2),e.wait(),e.zoomBy(.98,a,Z),e.panBy(1,-2,a,Z),e.event("show_text",pe("Lemuria")),e.wait(1e3-d(11,0)),e.wait(1e3),e.wait(1500-d(1,12)),e.wait(1500-d(11,0)),e.wait(),e.event("clear_text"),e.pan(-1460,724,o),e.zoom(4.7,o/2),e.wait(o/2-d(1,12)),e.event("update_land_images",{min:6,max:6}),e.zoom(3.5,o/2),e.wait(),e.zoomBy(1.01,a,Z),e.panBy(-1,-2,a,Z),e.event("show_text",pe("Persian Gulf")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1648,527,o),e.zoom(4.6,o*(1/3)),e.wait(o*(1/3)-d(1,12)),e.zoom(3.4,o*(1/3)),e.wait(o*(1/3)),e.zoom(10,o*(1/3)),e.wait(),e.zoomBy(1.02,a,Z),e.panBy(2,-1,a,Z),e.event("show_text",pe("Black Sea deluge")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1847,578,o),e.zoom(6.8,o),e.wait(o-d(1,12)),e.zoomBy(1.02,a,Z),e.panBy(-1,-3,a,Z),e.event("show_text",pe("Adriatic Sea")),e.wait(a-d(11,0)),e.event("clear_text"),e.pan(-2022,403,o),e.zoom(5.6,o*(1/2)),e.wait(o*(1/2)),e.zoom(4.3,o*(1/2)),e.wait(),e.panBy(2,2,a,Z),e.wait(2e3),e.zoom(13.3,o*(1/2)),e.wait(600),e.event("show_text",pe("Doggerland")),e.wait(e.get_time_diff()-d(1,11)),e.event("clear_text"),e.pan(-2105,490,o),e.zoom(9.6,o/2),e.wait(o/2-d(10,0)),e.zoom(16.1,o/2),e.wait(),e.zoomBy(.65,a),e.panBy(1,1,a,Z),e.event("show_text",pe("Ys")),e.wait(e.get_time_diff()-d(1,9,80)),e.event("clear_text"),e.pan(-3020,548,a+o),e.zoom(1.6,a+o-2500),e.wait(a+o-d(8,0)),e.event("clear_text"),e.pan(-4036,302,o),e.zoom(2.4,o*(1/2)),e.wait(o*(1/2)-d(1,12)),e.zoom(3.4,o*(1/2)),e.wait(),e.zoomBy(.98,a,Z),e.panBy(3,2,a,Z),e.event("show_text",pe("Beringia")),e.wait(2e3-d(11,0)),e.wait(),e.event("clear_text"),e.pan(-3404,482,o),e.zoom(2.6,o/2),e.wait(o/2),e.zoom(11,o/2),e.wait(),e.zoomBy(.77,a-2800),e.panBy(10,-2,a-2800),e.event("show_text",pe("Missoula floods")),e.wait(),e.zoom(4,500,Z),e.wait(),e.zoomBy(.83,2300,Z),e.panBy(3,2,2300,Z),e.wait(2300),e.event("clear_text"),e.pan(-2764,1267,o*2),e.zoom(1.3,o),e.wait(),e.event("clear_text"),e.pan(-4591,577,o),e.zoom(1.9,o*(1/2)),e.wait(o*(1/2)-d(1,12)),e.zoom(3.5,o*(1/2)),e.wait(),e.zoomBy(1.01,a,Z),e.panBy(2,-2,a,Z),e.event("show_text",pe("Land bridges of Japan")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-4059,1007,o),e.zoom(1.7,o/2),e.wait(o/2-d(1,12)),e.zoom(2.2,o/2),e.wait(),e.zoomBy(.99,a,Z),e.panBy(-2,-2,a,Z),e.wait(1e3-d(11,0)),e.wait(1e3-d(1,12)),e.wait(1e3-d(11,0)),e.event("show_text",pe("Mu")),e.wait(),e.event("clear_text"),e.pan(-434,635,s,Pt),e.zoom(1.1,o),e.wait(o),e.zoom(.8,o),e.wait(o),e.zoom(1.1,o),e.wait(o),e.zoom(1,s-o*3-2500),e.wait(s-o*3-2500),e.zoom(5,o/2,Pt),e.wait(o/2),e.zoomBy(.85,500),e.wait(500),e.event("debug_final_zoom_in"),e.zoom(4e3,1e3),e.wait(),e.wait(1500),e.event("show_title"),e.wait(r),e.event("show_credits"),e.wait(1e9),e.zoomBy(1,0),e.finalize()};function Jn(r,t,e){const n=r.slice();return n[8]=t[e],n}function Zn(r){let t,e;return t=new Bn({}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Ht(r){let t,e;return t=new In({}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Wn(r){let t,e="The download is about 81MB of images. If that's ok with you, continue on:",n,a,o;return a=new an({props:{$$slots:{default:[er]},$$scope:{ctx:r}}}),a.$on("click",r[6]),{c(){t=z("p"),t.textContent=e,n=B(),A(a.$$.fragment)},l(s){t=L(s,"P",{"data-svelte-h":!0}),W(t)!=="svelte-5n7p6g"&&(t.textContent=e),n=P(s),O(a.$$.fragment,s)},m(s,l){I(s,t,l),I(s,n,l),V(a,s,l),o=!0},p(s,l){const _={};l&2048&&(_.$$scope={dirty:l,ctx:s}),a.$set(_)},i(s){o||(y(a.$$.fragment,s),o=!0)},o(s){T(a.$$.fragment,s),o=!1},d(s){s&&(p(t),p(n)),x(a,s)}}}function Xn(r){let t,e;return t=new Hn({props:{resources:r[0]}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){const o={};a&1&&(o.resources=n[0]),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Qn(r){let t,e;return t=new an({props:{$$slots:{default:[tr]},$$scope:{ctx:r}}}),t.$on("click",function(){ft(r[1])&&r[1].apply(this,arguments)}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){r=n;const o={};a&2048&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function er(r){let t;return{c(){t=K("continue with 81MB download!")},l(e){t=J(e,"continue with 81MB download!")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function tr(r){let t;return{c(){t=K("back to the map!")},l(e){t=J(e,"back to the map!")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function nr(r){let t,e,n=`Soggy Planet is an interactive map of Earth where sea levels rise and fall and the lights
					of civilization shine through the night. It displays <a href="https://wikipedia.org/wiki/Past_sea_level">past sea levels</a>
					roughly between:`,a,o,s=`<li>the lowest point during
						<a href="https://wikipedia.org/wiki/Last_Glacial_Maximum">the Last Glacial Maximum</a>
						before
						<a href="https://wikipedia.org/wiki/Early_Holocene_sea_level_rise">the early Holocene sea level rise</a></li> <li>and one
						<a href="https://wikipedia.org/wiki/Sea_level_rise">estimated possible maximum</a></li>`,l,_,c="For a 3 minute musical tour of some of our soggy planet's sunken history and myths:",i,u,d,f,m,v,h="tour",E,g,S="the map",M,C,$=`see
						<a href="https://www.youtube.com/watch?v=akP5J3jfjt4">the video on YouTube</a>`,N,D,ne="or learn more below",X,Q,ie=`This map is resource-intensive and may be broken or slow depending on your hardware and
					browser. More optimizations like <a href="https://github.com/ryanatkn/cosmicplayground/issues/56">this one</a> would help.`,H,R,Y=`The code and image data are
					<a href="https://github.com/ryanatkn/cosmicplayground">open source on GitHub</a>. Credits
					are below.`,q,ee,ce,me,Be,$e,ze,le,re,ae,ke,we,fe,he;me=new Fn({props:{slug:"deep-breath"}});const oe=[Qn,Xn,Wn],ue=[];function Le(U,F){return U[4].status==="success"?0:U[4].status!=="initial"?1:2}return re=Le(r),ae=ue[re]=oe[re](r),{c(){t=z("section"),e=z("p"),e.innerHTML=n,a=B(),o=z("ul"),o.innerHTML=s,l=B(),_=z("p"),_.textContent=c,i=B(),u=z("ul"),d=z("li"),f=z("p"),m=K("click the "),v=z("button"),v.textContent=h,E=K(`
							button on `),g=z("button"),g.textContent=S,M=B(),C=z("li"),C.innerHTML=$,N=B(),D=z("li"),D.textContent=ne,X=B(),Q=z("p"),Q.innerHTML=ie,H=B(),R=z("p"),R.innerHTML=Y,q=B(),ee=z("p"),ce=K("For a different experience about sea level rise see "),A(me.$$.fragment),Be=K(" 🌚"),$e=B(),ze=z("hr"),le=B(),ae.c(),ke=Xe(),this.h()},l(U){t=L(U,"SECTION",{class:!0});var F=j(t);e=L(F,"P",{"data-svelte-h":!0}),W(e)!=="svelte-1con3e5"&&(e.innerHTML=n),a=P(F),o=L(F,"UL",{"data-svelte-h":!0}),W(o)!=="svelte-1u0lrbn"&&(o.innerHTML=s),l=P(F),_=L(F,"P",{"data-svelte-h":!0}),W(_)!=="svelte-zm50la"&&(_.textContent=c),i=P(F),u=L(F,"UL",{});var se=j(u);d=L(se,"LI",{});var Ue=j(d);f=L(Ue,"P",{});var Ie=j(f);m=J(Ie,"click the "),v=L(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),W(v)!=="svelte-l12i07"&&(v.textContent=h),E=J(Ie,`
							button on `),g=L(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-oycntp"&&(g.textContent=S),Ie.forEach(p),Ue.forEach(p),M=P(se),C=L(se,"LI",{"data-svelte-h":!0}),W(C)!=="svelte-1kavo3j"&&(C.innerHTML=$),N=P(se),D=L(se,"LI",{"data-svelte-h":!0}),W(D)!=="svelte-ybr8jh"&&(D.textContent=ne),se.forEach(p),X=P(F),Q=L(F,"P",{"data-svelte-h":!0}),W(Q)!=="svelte-1xto716"&&(Q.innerHTML=ie),H=P(F),R=L(F,"P",{"data-svelte-h":!0}),W(R)!=="svelte-1ttsbq6"&&(R.innerHTML=Y),q=P(F),ee=L(F,"P",{});var Ce=j(ee);ce=J(Ce,"For a different experience about sea level rise see "),O(me.$$.fragment,Ce),Be=J(Ce," 🌚"),Ce.forEach(p),F.forEach(p),$e=P(U),ze=L(U,"HR",{}),le=P(U),ae.l(U),ke=Xe(),this.h()},h(){G(v,"class","inline"),G(g,"class","inline"),Re(f,"margin-bottom",0),G(t,"class","prose")},m(U,F){I(U,t,F),b(t,e),b(t,a),b(t,o),b(t,l),b(t,_),b(t,i),b(t,u),b(u,d),b(d,f),b(f,m),b(f,v),b(f,E),b(f,g),b(u,M),b(u,C),b(u,N),b(u,D),b(t,X),b(t,Q),b(t,H),b(t,R),b(t,q),b(t,ee),b(ee,ce),V(me,ee,null),b(ee,Be),I(U,$e,F),I(U,ze,F),I(U,le,F),ue[re].m(U,F),I(U,ke,F),we=!0,fe||(he=[Ee(v,"click",function(){ft(r[2])&&r[2].apply(this,arguments)}),Ee(g,"click",r[6])],fe=!0)},p(U,F){r=U;let se=re;re=Le(r),re===se?ue[re].p(r,F):(ve(),T(ue[se],1,1,()=>{ue[se]=null}),ye(),ae=ue[re],ae?ae.p(r,F):(ae=ue[re]=oe[re](r),ae.c()),y(ae,1),ae.m(ke.parentNode,ke))},i(U){we||(y(me.$$.fragment,U),y(ae),we=!0)},o(U){T(me.$$.fragment,U),T(ae),we=!1},d(U){U&&(p(t),p($e),p(ze),p(le),p(ke)),x(me),ue[re].d(U),fe=!1,dt(he)}}}function rr(r){let t;return{c(){t=K("(myth?)")},l(e){t=J(e,"(myth?)")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function ar(r,t){let e,n,a=t[8].name+"",o,s,l,_=t[8].myth&&rr();return{key:r,first:null,c(){e=z("li"),n=z("a"),o=K(a),s=B(),_&&_.c(),l=B(),this.h()},l(c){e=L(c,"LI",{});var i=j(e);n=L(i,"A",{href:!0});var u=j(n);o=J(u,a),u.forEach(p),s=P(i),_&&_.l(i),l=P(i),i.forEach(p),this.h()},h(){G(n,"href",t[8].url),this.first=e},m(c,i){I(c,e,i),b(e,n),b(n,o),b(e,s),_&&_.m(e,null),b(e,l)},p:te,d(c){c&&p(e),_&&_.d()}}}function or(r){let t,e,n="Tour",a,o,s,l,_="Last Glacial Maximum",c,i,u="start tour",d,f,m="the map",v,h,E="the video on YouTube",g,S,M,C="Learn about the tour's points of interest on Wikipedia:",$,N,D=[],ne=new Map,X,Q,ie=vt(on);const H=R=>R[8];for(let R=0;R<ie.length;R+=1){let Y=Jn(r,ie,R),q=H(Y);ne.set(q,D[R]=ar(q,Y))}return{c(){t=z("section"),e=z("h2"),e.textContent=n,a=B(),o=z("p"),s=K(`Soggy Planet includes a 3 minute tour of some points of interest related to sea levels at
					the `),l=z("a"),l.textContent=_,c=K(`.
					Click the `),i=z("button"),i.textContent=u,d=K(`
					button on `),f=z("button"),f.textContent=m,v=K(` or see
					`),h=z("a"),h.textContent=E,g=K("."),S=B(),M=z("p"),M.textContent=C,$=B(),N=z("ul");for(let R=0;R<D.length;R+=1)D[R].c();this.h()},l(R){t=L(R,"SECTION",{class:!0});var Y=j(t);e=L(Y,"H2",{"data-svelte-h":!0}),W(e)!=="svelte-czv2r0"&&(e.textContent=n),a=P(Y),o=L(Y,"P",{});var q=j(o);s=J(q,`Soggy Planet includes a 3 minute tour of some points of interest related to sea levels at
					the `),l=L(q,"A",{href:!0,"data-svelte-h":!0}),W(l)!=="svelte-atqrgm"&&(l.textContent=_),c=J(q,`.
					Click the `),i=L(q,"BUTTON",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-h69vsr"&&(i.textContent=u),d=J(q,`
					button on `),f=L(q,"BUTTON",{class:!0,"data-svelte-h":!0}),W(f)!=="svelte-oycntp"&&(f.textContent=m),v=J(q,` or see
					`),h=L(q,"A",{href:!0,"data-svelte-h":!0}),W(h)!=="svelte-wp73fi"&&(h.textContent=E),g=J(q,"."),q.forEach(p),S=P(Y),M=L(Y,"P",{"data-svelte-h":!0}),W(M)!=="svelte-14gzp6"&&(M.textContent=C),$=P(Y),N=L(Y,"UL",{});var ee=j(N);for(let ce=0;ce<D.length;ce+=1)D[ce].l(ee);ee.forEach(p),Y.forEach(p),this.h()},h(){G(l,"href","https://wikipedia.org/wiki/Last_Glacial_Maximum"),G(i,"class","inline"),G(f,"class","inline"),G(h,"href","https://www.youtube.com/watch?v=akP5J3jfjt4"),G(t,"class","prose")},m(R,Y){I(R,t,Y),b(t,e),b(t,a),b(t,o),b(o,s),b(o,l),b(o,c),b(o,i),b(o,d),b(o,f),b(o,v),b(o,h),b(o,g),b(t,S),b(t,M),b(t,$),b(t,N);for(let q=0;q<D.length;q+=1)D[q]&&D[q].m(N,null);X||(Q=[Ee(i,"click",function(){ft(r[2])&&r[2].apply(this,arguments)}),Ee(f,"click",r[6])],X=!0)},p(R,Y){r=R},d(R){R&&p(t);for(let Y=0;Y<D.length;Y+=1)D[Y].d();X=!1,dt(Q)}}}function ir(r){let t,e,n="Credits",a,o,s;return o=new Mn({}),{c(){t=z("section"),e=z("h2"),e.textContent=n,a=B(),A(o.$$.fragment),this.h()},l(l){t=L(l,"SECTION",{class:!0});var _=j(t);e=L(_,"H2",{"data-svelte-h":!0}),W(e)!=="svelte-129hxhk"&&(e.textContent=n),a=P(_),O(o.$$.fragment,_),_.forEach(p),this.h()},h(){G(t,"class","prose")},m(l,_){I(l,t,_),b(t,e),b(t,a),V(o,t,null),s=!0},p:te,i(l){s||(y(o.$$.fragment,l),s=!0)},o(l){T(o.$$.fragment,l),s=!1},d(l){l&&p(t),x(o)}}}function sr(r){let t,e,n;return e=new Gn({}),{c(){t=z("section"),A(e.$$.fragment),this.h()},l(a){t=L(a,"SECTION",{class:!0});var o=j(t);O(e.$$.fragment,o),o.forEach(p),this.h()},h(){G(t,"class","prose")},m(a,o){I(a,t,o),V(e,t,null),n=!0},p:te,i(a){n||(y(e.$$.fragment,a),n=!0)},o(a){T(e.$$.fragment,a),n=!1},d(a){a&&p(t),x(e)}}}function lr(r){let t,e;return t=new Rn({}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function ur(r){let t,e,n,a,o,s,l,_,c,i,u,d,f,m,v,h,E,g,S,M;t=new nn({props:{$$slots:{default:[Zn]},$$scope:{ctx:r}}}),s=new Sn({props:{on_click:r[5]?r[6]:null}});let C=r[3]&&Ht();return i=new ut({props:{$$slots:{default:[nr]},$$scope:{ctx:r}}}),d=new ut({props:{$$slots:{default:[or]},$$scope:{ctx:r}}}),m=new ut({props:{$$slots:{default:[ir]},$$scope:{ctx:r}}}),h=new ut({props:{$$slots:{default:[sr]},$$scope:{ctx:r}}}),S=new Yn({props:{href:tn+"/about",$$slots:{default:[lr]},$$scope:{ctx:r}}}),{c(){A(t.$$.fragment),e=B(),n=z("div"),a=z("div"),o=z("div"),A(s.$$.fragment),l=B(),_=z("div"),C&&C.c(),c=B(),A(i.$$.fragment),u=B(),A(d.$$.fragment),f=B(),A(m.$$.fragment),v=B(),A(h.$$.fragment),E=B(),g=z("section"),A(S.$$.fragment),this.h()},l($){O(t.$$.fragment,$),e=P($),n=L($,"DIV",{class:!0});var N=j(n);a=L(N,"DIV",{class:!0});var D=j(a);o=L(D,"DIV",{});var ne=j(o);O(s.$$.fragment,ne),ne.forEach(p),l=P(D),_=L(D,"DIV",{class:!0});var X=j(_);C&&C.l(X),X.forEach(p),c=P(D),O(i.$$.fragment,D),u=P(D),O(d.$$.fragment,D),f=P(D),O(m.$$.fragment,D),v=P(D),O(h.$$.fragment,D),E=P(D),g=L(D,"SECTION",{});var Q=j(g);O(S.$$.fragment,Q),Q.forEach(p),D.forEach(p),N.forEach(p),this.h()},h(){Re(o,"margin-bottom","55px"),G(_,"class","loading_animation svelte-3mhbr8"),G(a,"class","box width_md"),G(n,"class","soggy_planet_title_screen box width_full svelte-3mhbr8")},m($,N){V(t,$,N),I($,e,N),I($,n,N),b(n,a),b(a,o),V(s,o,null),b(a,l),b(a,_),C&&C.m(_,null),b(a,c),V(i,a,null),b(a,u),V(d,a,null),b(a,f),V(m,a,null),b(a,v),V(h,a,null),b(a,E),b(a,g),V(S,g,null),M=!0},p($,[N]){const D={};N&2048&&(D.$$scope={dirty:N,ctx:$}),t.$set(D),$[3]?C?N&8&&y(C,1):(C=Ht(),C.c(),y(C,1),C.m(_,null)):C&&(ve(),T(C,1,1,()=>{C=null}),ye());const ne={};N&2071&&(ne.$$scope={dirty:N,ctx:$}),i.$set(ne);const X={};N&2052&&(X.$$scope={dirty:N,ctx:$}),d.$set(X);const Q={};N&2048&&(Q.$$scope={dirty:N,ctx:$}),m.$set(Q);const ie={};N&2048&&(ie.$$scope={dirty:N,ctx:$}),h.$set(ie);const H={};N&2048&&(H.$$scope={dirty:N,ctx:$}),S.$set(H)},i($){M||(y(t.$$.fragment,$),y(s.$$.fragment,$),y(C),y(i.$$.fragment,$),y(d.$$.fragment,$),y(m.$$.fragment,$),y(h.$$.fragment,$),y(S.$$.fragment,$),M=!0)},o($){T(t.$$.fragment,$),T(s.$$.fragment,$),T(C),T(i.$$.fragment,$),T(d.$$.fragment,$),T(m.$$.fragment,$),T(h.$$.fragment,$),T(S.$$.fragment,$),M=!1},d($){$&&(p(e),p(n)),x(t,$),x(s),C&&C.d(),x(i),x(d),x(m),x(h),x(S)}}}const Dt="cpg__hasLoadedSoggyPlanet";function _r(r,t,e){let n,a=te,o=()=>(a(),a=de(s,f=>e(4,n=f)),s);r.$$.on_destroy.push(()=>a());let{resources:s}=t;o();let{proceed:l}=t,{start_tour:_}=t;const c=!!localStorage.getItem(Dt),i=c;let u=!1;const d=async()=>{e(3,u=!0),await s.load(),e(3,u=!1),n.status==="success"&&(c||localStorage.setItem(Dt,"true"),l())};return r.$$set=f=>{"resources"in f&&o(e(0,s=f.resources)),"proceed"in f&&e(1,l=f.proceed),"start_tour"in f&&e(2,_=f.start_tour)},[s,l,_,u,n,i,d]}class cr extends De{constructor(t){super(),Ne(this,t,_r,ur,He,{resources:0,proceed:1,start_tour:2})}}function fr(r){let t,e,n,a;return{c(){t=z("div"),e=z("div"),this.h()},l(o){t=L(o,"DIV",{class:!0,"aria-hidden":!0});var s=j(t);e=L(s,"DIV",{class:!0,style:!0}),j(e).forEach(p),s.forEach(p),this.h()},h(){G(e,"class","daylight-fill svelte-12hldno"),Re(e,"height",100*r[0]+"%"),G(t,"class","daylight svelte-12hldno"),G(t,"aria-hidden",""),ct(t,"selected",r[1]!==null)},m(o,s){I(o,t,s),b(t,e),r[6](t),n||(a=[Ee(t,"click",r[7]),Ee(t,"mouseenter",r[8]),Ee(t,"mousemove",r[9]),Ee(t,"mouseleave",r[10])],n=!0)},p(o,[s]){s&1&&Re(e,"height",100*o[0]+"%"),s&2&&ct(t,"selected",o[1]!==null)},i:te,o:te,d(o){o&&p(t),r[6](null),n=!1,dt(a)}}}function dr(r,t,e){let{daylight:n}=t,{selected_daylight:a}=t,{select_daylight:o}=t,{hover_daylight:s}=t,l;const _=m=>{const v=l.getBoundingClientRect();return 1-(m-v.top)/(v.bottom-v.top)};function c(m){Se[m?"unshift":"push"](()=>{l=m,e(4,l)})}const i=m=>o(a===null?_(m.clientY):null),u=m=>s(_(m.clientY)),d=m=>s(_(m.clientY)),f=()=>s(null);return r.$$set=m=>{"daylight"in m&&e(0,n=m.daylight),"selected_daylight"in m&&e(1,a=m.selected_daylight),"select_daylight"in m&&e(2,o=m.select_daylight),"hover_daylight"in m&&e(3,s=m.hover_daylight)},[n,a,o,s,l,_,c,i,u,d,f]}class mr extends De{constructor(t){super(),Ne(this,t,dr,fr,He,{daylight:0,selected_daylight:1,select_daylight:2,hover_daylight:3})}}function hr(r){let t;return{c(){t=K("muted")},l(e){t=J(e,"muted")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function gr(r){let t;return{c(){t=K("unmuted")},l(e){t=J(e,"unmuted")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function pr(r){let t;function e(o,s){return o[5]?gr:hr}let n=e(r),a=n(r);return{c(){a.c(),t=B()},l(o){a.l(o),t=P(o)},m(o,s){a.m(o,s),I(o,t,s)},p(o,s){n!==(n=e(o))&&(a.d(1),a=n(o),a&&(a.c(),a.m(t.parentNode,t)))},d(o){o&&p(t),a.d(o)}}}function br(r){let t,e=Math.round(r[7]*10)/10+"",n;return{c(){t=K("scale: "),n=K(e)},l(a){t=J(a,"scale: "),n=J(a,e)},m(a,o){I(a,t,o),I(a,n,o)},p(a,o){o&128&&e!==(e=Math.round(a[7]*10)/10+"")&&mt(n,e)},d(a){a&&(p(t),p(n))}}}function wr(r){let t,e=Math.round(r[8])+"",n;return{c(){t=K("x: "),n=K(e)},l(a){t=J(a,"x: "),n=J(a,e)},m(a,o){I(a,t,o),I(a,n,o)},p(a,o){o&256&&e!==(e=Math.round(a[8])+"")&&mt(n,e)},d(a){a&&(p(t),p(n))}}}function vr(r){let t,e=Math.round(r[9])+"",n;return{c(){t=K("y: "),n=K(e)},l(a){t=J(a,"y: "),n=J(a,e)},m(a,o){I(a,t,o),I(a,n,o)},p(a,o){o&512&&e!==(e=Math.round(a[9])+"")&&mt(n,e)},d(a){a&&(p(t),p(n))}}}function Nt(r){let t,e;return t=new Dn({props:{tour:r[0],debug_start_time:r[4]}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){const o={};a&1&&(o.tour=n[0]),a&16&&(o.debug_start_time=n[4]),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function yr(r){let t,e,n,a,o,s,l,_,c;t=new tt({props:{$$slots:{default:[pr]},$$scope:{ctx:r}}}),t.$on("click",r[14]),e=new tt({props:{$$slots:{default:[br]},$$scope:{ctx:r}}}),e.$on("click",r[15]),a=new tt({props:{$$slots:{default:[wr]},$$scope:{ctx:r}}}),a.$on("click",r[16]),s=new tt({props:{$$slots:{default:[vr]},$$scope:{ctx:r}}}),s.$on("click",r[17]);let i=r[0]&&r[10]&&Nt(r);return{c(){A(t.$$.fragment),A(e.$$.fragment),n=B(),A(a.$$.fragment),o=B(),A(s.$$.fragment),l=B(),i&&i.c(),_=Xe()},l(u){O(t.$$.fragment,u),O(e.$$.fragment,u),n=P(u),O(a.$$.fragment,u),o=P(u),O(s.$$.fragment,u),l=P(u),i&&i.l(u),_=Xe()},m(u,d){V(t,u,d),V(e,u,d),I(u,n,d),V(a,u,d),I(u,o,d),V(s,u,d),I(u,l,d),i&&i.m(u,d),I(u,_,d),c=!0},p(u,[d]){const f={};d&262176&&(f.$$scope={dirty:d,ctx:u}),t.$set(f);const m={};d&262272&&(m.$$scope={dirty:d,ctx:u}),e.$set(m);const v={};d&262400&&(v.$$scope={dirty:d,ctx:u}),a.$set(v);const h={};d&262656&&(h.$$scope={dirty:d,ctx:u}),s.$set(h),u[0]&&u[10]?i?(i.p(u,d),d&1025&&y(i,1)):(i=Nt(u),i.c(),y(i,1),i.m(_.parentNode,_)):i&&(ve(),T(i,1,1,()=>{i=null}),ye())},i(u){c||(y(t.$$.fragment,u),y(e.$$.fragment,u),y(a.$$.fragment,u),y(s.$$.fragment,u),y(i),c=!0)},o(u){T(t.$$.fragment,u),T(e.$$.fragment,u),T(a.$$.fragment,u),T(s.$$.fragment,u),T(i),c=!1},d(u){u&&(p(n),p(o),p(l),p(_)),x(t,u),x(e,u),x(a,u),x(s,u),i&&i.d(u)}}}function $r(r,t,e){let n,a,o,s,l=te,_=()=>(l(),l=de(C,H=>e(7,s=H)),C),c,i=te,u=()=>(i(),i=de(S,H=>e(8,c=H)),S),d,f=te,m=()=>(f(),f=de(M,H=>e(9,d=H)),M),v,h=te,E=()=>(h(),h=de(n,H=>e(10,v=H)),n);r.$$.on_destroy.push(()=>l()),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>h());let{tour:g}=t,{x:S}=t;u();let{y:M}=t;m();let{scale:C}=t;_();let{debug_start_time:$}=t;const N=rt();Me(r,N,H=>e(13,o=H));const D=(H=!a)=>N.update(R=>({...R,audio_enabled:H})),ne=()=>D(),X=()=>{be(C,s=Number(prompt("🔎",s+""))||s,s)},Q=()=>{const H=Number(prompt("x",c+""));Number.isNaN(H)||be(S,c=H,c)},ie=()=>{const H=Number(prompt("y",d+""));Number.isNaN(H)||be(M,d=H,d)};return r.$$set=H=>{"tour"in H&&e(0,g=H.tour),"x"in H&&u(e(1,S=H.x)),"y"in H&&m(e(2,M=H.y)),"scale"in H&&_(e(3,C=H.scale)),"debug_start_time"in H&&e(4,$=H.debug_start_time)},r.$$.update=()=>{r.$$.dirty&1&&E(e(6,n=g?.touring)),r.$$.dirty&8192&&e(5,{audio_enabled:a}=o,a)},[g,S,M,C,$,a,n,s,c,d,v,N,D,o,ne,X,Q,ie]}class kr extends De{constructor(t){super(),Ne(this,t,$r,yr,He,{tour:0,x:1,y:2,scale:3,debug_start_time:4})}}function At(r,t,e){const n=r.slice();return n[10]=t[e],n[12]=e,n}function Ot(r,t){let e,n,a=(t[10]||"&nbsp;")+"",o,s;return{key:r,first:null,c(){e=z("div"),n=new yn(!1),o=B(),this.h()},l(l){e=L(l,"DIV",{class:!0});var _=j(e);n=$n(_,!1),o=P(_),_.forEach(p),this.h()},h(){n.a=o,G(e,"class","text svelte-16itjb2"),this.first=e},m(l,_){I(l,e,_),n.m(a,e),b(e,o)},p(l,_){t=l,_&1&&a!==(a=(t[10]||"&nbsp;")+"")&&n.p(a)},i(l){l&&(s||Pe(()=>{s=Ge(e,Te,{duration:t[1],amount:$t}),s.start()}))},o:te,d(l){l&&p(e)}}}function Cr(r){let t,e,n=[],a=new Map,o=`${r[3]}px`,s,l=`${r[4].height/2-164}px`,_,c,i,u=vt(r[0]);const d=f=>f[12]+f[10];for(let f=0;f<u.length;f+=1){let m=At(r,u,f),v=d(m);a.set(v,n[f]=Ot(v,m))}return{c(){t=z("div"),e=z("div");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){t=L(f,"DIV",{class:!0});var m=j(t);e=L(m,"DIV",{});var v=j(e);for(let h=0;h<n.length;h+=1)n[h].l(v);v.forEach(p),m.forEach(p),this.h()},h(){Re(e,"height",o),G(t,"class","tour-text prose svelte-16itjb2"),Re(t,"top",l)},m(f,m){I(f,t,m),b(t,e);for(let v=0;v<n.length;v+=1)n[v]&&n[v].m(e,null);_=!0,c||(i=[Ee(t,"click",r[6],!0),Ee(t,"keydown",r[7],!0)],c=!0)},p(f,[m]){r=f,m&1&&(u=vt(r[0]),n=zn(n,m,d,1,r,u,a,e,Ln,Ot,null,At)),m&8&&o!==(o=`${r[3]}px`)&&Re(e,"height",o),m&16&&l!==(l=`${r[4].height/2-164}px`)&&Re(t,"top",l)},i(f){if(!_){for(let m=0;m<u.length;m+=1)y(n[m]);f&&Pe(()=>{_&&(s||(s=It(t,Te,{duration:r[2],amount:$t},!0)),s.run(1))}),_=!0}},o(f){f&&(s||(s=It(t,Te,{duration:r[2],amount:$t},!1)),s.run(0)),_=!1},d(f){f&&p(t);for(let m=0;m<n.length;m+=1)n[m].d();f&&s&&s.end(),c=!1,dt(i)}}}const $t=99;function Tr(r,t,e){let n,a;const o=kt(),s=en();Me(r,s,f=>e(4,a=f));let{tour_text:l}=t,{transition_in_duration:_=600}=t,{transition_out_duration:c=870}=t,{height_per_item:i=90}=t;const u=f=>{f.target instanceof HTMLAnchorElement&&(nt(f),o.pause(),window.open(f.target.href,"_blank"))},d=f=>{f.target instanceof HTMLAnchorElement&&(f.key===" "||f.key==="Enter")&&(nt(f),o.pause(),window.open(f.target.href,"_blank"))};return r.$$set=f=>{"tour_text"in f&&e(0,l=f.tour_text),"transition_in_duration"in f&&e(1,_=f.transition_in_duration),"transition_out_duration"in f&&e(2,c=f.transition_out_duration),"height_per_item"in f&&e(8,i=f.height_per_item)},r.$$.update=()=>{r.$$.dirty&257&&e(3,n=i*l.length)},[l,_,c,n,a,s,u,d,i]}class Er extends De{constructor(t){super(),Ne(this,t,Tr,Cr,He,{tour_text:0,transition_in_duration:1,transition_out_duration:2,height_per_item:8})}}function zr(r){let t,e,n,a="soggy",o,s,l,_,c="planet",i,u,d;return{c(){t=z("div"),e=z("div"),n=z("div"),n.textContent=a,s=B(),l=z("div"),_=z("div"),_.textContent=c,this.h()},l(f){t=L(f,"DIV",{class:!0});var m=j(t);e=L(m,"DIV",{class:!0,style:!0});var v=j(e);n=L(v,"DIV",{"data-svelte-h":!0}),W(n)!=="svelte-h5gv3z"&&(n.textContent=a),v.forEach(p),s=P(m),l=L(m,"DIV",{class:!0,style:!0});var h=j(l);_=L(h,"DIV",{"data-svelte-h":!0}),W(_)!=="svelte-1q4vgp0"&&(_.textContent=c),h.forEach(p),m.forEach(p),this.h()},h(){G(e,"class","text svelte-mdif8m"),G(e,"style",r[2]),G(l,"class","text svelte-mdif8m"),G(l,"style",r[2]),G(t,"class","tour-title svelte-mdif8m")},m(f,m){I(f,t,m),b(t,e),b(e,n),b(t,s),b(t,l),b(l,_),d=!0},p(f,[m]){r=f,(!d||m&4)&&G(e,"style",r[2]),(!d||m&4)&&G(l,"style",r[2])},i(f){d||(f&&(o||Pe(()=>{o=Ge(n,Te,{duration:r[0],amount:wt}),o.start()})),f&&(i||Pe(()=>{i=Ge(_,Te,{duration:r[0],amount:wt,delay:r[1]}),i.start()})),u&&u.end(1),d=!0)},o(f){f&&(u=En(t,Te,{duration:r[0],amount:wt})),d=!1},d(f){f&&p(t),f&&u&&u.end()}}}const wt=99;function Lr(r,t,e){let n,a,{hide:o}=t,{transition_duration:s}=t,{pause_duration:l}=t,{max_delay:_}=t,c;return Qt(()=>{c=setTimeout(()=>o(),s+_+l)}),kn(()=>{clearTimeout(c)}),r.$$set=i=>{"hide"in i&&e(3,o=i.hide),"transition_duration"in i&&e(0,s=i.transition_duration),"pause_duration"in i&&e(4,l=i.pause_duration),"max_delay"in i&&e(1,_=i.max_delay)},r.$$.update=()=>{r.$$.dirty&17&&e(5,n=s*2+l),r.$$.dirty&32&&e(2,a=`animation-duration: ${n}ms;`)},[s,_,a,o,l,n]}class Ir extends De{constructor(t){super(),Ne(this,t,Lr,zr,He,{hide:3,transition_duration:0,pause_duration:4,max_delay:1})}}function Sr(r){let t,e,n=`<h2 class="svelte-1acr1r">created by</h2>
		Ryan Atkinson<br/> <a href="https://www.ryanatkn.com" class="svelte-1acr1r">ryanatkn.com</a>`,a,o,s,l='<h2 class="svelte-1acr1r">interactive webpage</h2> <a href="https://www.cosmicplayground.org/soggy-planet" class="svelte-1acr1r">cosmicplayground.org/soggy-planet</a>',_,c,i,u='<h2 class="svelte-1acr1r">open source code &amp; assets</h2> <a href="https://github.com/ryanatkn/cosmicplayground" class="svelte-1acr1r">github.com/ryanatkn/cosmicplayground</a>',d,f,m,v=`<h2 class="svelte-1acr1r">music</h2> <a href="${tn}/assets/audio/Alexander_Nakarada__Piña_Colada.mp3" class="svelte-1acr1r">&quot;Piña Colada&quot;</a> by Alexander
		Nakarada<br/> <a href="https://www.serpentsoundstudios.com" class="svelte-1acr1r">serpentsoundstudios.com</a> <br/><br/> <a href="/assets/audio/water_trickle.mp3" class="svelte-1acr1r">recording of water trickling</a> <br/> by
		<a href="https://freesound.org/people/FractalStudios/sounds/363120/" class="svelte-1acr1r">FractalStudios on freesound.org</a>,
		<a href="https://creativecommons.org/publicdomain/zero/1.0/" class="svelte-1acr1r">CC0 1.0</a>`,h,E,g,S=`<h2 class="svelte-1acr1r">imagery &amp; data</h2> <a href="https://visibleearth.nasa.gov/collection/1484/blue-marble" class="svelte-1acr1r">Blue Marble Next Generation</a>
		by Reto Stöckli <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1acr1r">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a>
		(2004) <br/> <br/> Earth <a href="https://visibleearth.nasa.gov/images/73934/topography" class="svelte-1acr1r">topography</a> and
		<a href="https://visibleearth.nasa.gov/images/73963/bathymetry" class="svelte-1acr1r">bathymetry</a>
		by Jesse Allen <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1acr1r">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a> <br/> using data from the
		<a href="https://www.gebco.net/" class="svelte-1acr1r">General Bathymetric Chart of the Oceans</a> <br/> produced by the <a href="https://www.bodc.ac.uk/" class="svelte-1acr1r">British Oceanographic Data Centre</a>
		(2005)
		<br/> <br/> <a href="https://earthobservatory.nasa.gov/features/NightLights" class="svelte-1acr1r">Earth at Night</a>
		(<a href="https://earthobservatory.nasa.gov/features/NightLights/page3.php" class="svelte-1acr1r">flat maps</a>) by
		<a href="https://earthobservatory.nasa.gov/about/michael-carlowicz" class="svelte-1acr1r">Michael Carlowicz</a><br/> <a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a>
		(2017)`,M;return{c(){t=z("div"),e=z("section"),e.innerHTML=n,o=B(),s=z("section"),s.innerHTML=l,c=B(),i=z("section"),i.innerHTML=u,f=B(),m=z("section"),m.innerHTML=v,E=B(),g=z("section"),g.innerHTML=S,this.h()},l(C){t=L(C,"DIV",{class:!0});var $=j(t);e=L($,"SECTION",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-k229uo"&&(e.innerHTML=n),o=P($),s=L($,"SECTION",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-bedmy7"&&(s.innerHTML=l),c=P($),i=L($,"SECTION",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-m0ugxf"&&(i.innerHTML=u),f=P($),m=L($,"SECTION",{class:!0,"data-svelte-h":!0}),W(m)!=="svelte-r877t7"&&(m.innerHTML=v),E=P($),g=L($,"SECTION",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-n0r2sn"&&(g.innerHTML=S),$.forEach(p),this.h()},h(){G(e,"class","svelte-1acr1r"),G(s,"class","svelte-1acr1r"),G(i,"class","svelte-1acr1r"),G(m,"class","svelte-1acr1r"),G(g,"class","svelte-1acr1r"),G(t,"class","tour-credits prose svelte-1acr1r"),ct(t,"display_for_video",r[1])},m(C,$){I(C,t,$),b(t,e),b(t,o),b(t,s),b(t,c),b(t,i),b(t,f),b(t,m),b(t,E),b(t,g)},p(C,[$]){r=C,$&2&&ct(t,"display_for_video",r[1])},i(C){C&&(a||Pe(()=>{a=Ge(e,Te,{duration:r[0],amount:et}),a.start()})),C&&(_||Pe(()=>{_=Ge(s,Te,{duration:r[0],delay:_t*1,amount:et}),_.start()})),C&&(d||Pe(()=>{d=Ge(i,Te,{duration:r[0],delay:_t*2,amount:et}),d.start()})),C&&(h||Pe(()=>{h=Ge(m,Te,{duration:r[0],delay:_t*3,amount:et}),h.start()})),C&&(M||Pe(()=>{M=Ge(g,Te,{duration:r[0],delay:_t*4,amount:et}),M.start()}))},o:te,d(C){C&&p(t)}}}const _t=250,et=20;function Mr(r,t,e){let n,a;const o=rt();Me(r,o,l=>e(3,a=l));let{transition_duration:s}=t;return r.$$set=l=>{"transition_duration"in l&&e(0,s=l.transition_duration)},r.$$.update=()=>{r.$$.dirty&8&&e(1,n=a.recording_mode)},[s,n,o,a]}class Br extends De{constructor(t){super(),Ne(this,t,Mr,Sr,He,{transition_duration:0})}}function Vt(r){let t,e,n,a,o=r[12]&&xt(r),s=r[15]&&Gt(r),l=r[14]&&Rt();return{c(){t=z("div"),o&&o.c(),e=B(),s&&s.c(),n=B(),l&&l.c(),this.h()},l(_){t=L(_,"DIV",{class:!0});var c=j(t);o&&o.l(c),e=P(c),s&&s.l(c),n=P(c),l&&l.l(c),c.forEach(p),this.h()},h(){G(t,"class","tour svelte-1ryehd")},m(_,c){I(_,t,c),o&&o.m(t,null),b(t,e),s&&s.m(t,null),b(t,n),l&&l.m(t,null),a=!0},p(_,c){_[12]?o?(o.p(_,c),c[0]&4096&&y(o,1)):(o=xt(_),o.c(),y(o,1),o.m(t,e)):o&&(ve(),T(o,1,1,()=>{o=null}),ye()),_[15]?s?(s.p(_,c),c[0]&32768&&y(s,1)):(s=Gt(_),s.c(),y(s,1),s.m(t,n)):s&&(ve(),T(s,1,1,()=>{s=null}),ye()),_[14]?l?(l.p(_,c),c[0]&16384&&y(l,1)):(l=Rt(),l.c(),y(l,1),l.m(t,null)):l&&(ve(),T(l,1,1,()=>{l=null}),ye())},i(_){a||(y(o),y(s),y(l),a=!0)},o(_){T(o),T(s),T(l),a=!1},d(_){_&&p(t),o&&o.d(),s&&s.d(),l&&l.d()}}}function xt(r){let t,e;return t=new Er({props:{tour_text:r[12]}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){const o={};a[0]&4096&&(o.tour_text=n[12]),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Gt(r){let t,e;return t=new Ir({props:{hide:r[30],transition_duration:Ct,pause_duration:sn,max_delay:ln}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){const o={};a[0]&32768&&(o.hide=n[30]),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Rt(r){let t,e;return t=new Br({props:{transition_duration:Ct}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p:te,i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Pr(r){let t,e,n,a,o,s,l,_,c,i=r[10]&&Vt(r);function u(g){r[33](g)}function d(g){r[34](g)}function f(g){r[35](g)}function m(g){r[36](g)}function v(g){r[37](g)}function h(g){r[38](g)}let E={camera:r[7],clock:r[16],hooks:r[20],create_tour_data:r[31]};return r[2]!==void 0&&(E.touring=r[2]),r[3]!==void 0&&(E.tourData=r[3]),r[4]!==void 0&&(E.currentTime=r[4]),r[5]!==void 0&&(E.currentStepIndex=r[5]),r[0]!==void 0&&(E.paused=r[0]),r[6]!==void 0&&(E.begin_tour=r[6]),e=new Nn({props:E}),r[32](e),Se.push(()=>je(e,"touring",u)),Se.push(()=>je(e,"tourData",d)),Se.push(()=>je(e,"currentTime",f)),Se.push(()=>je(e,"currentStepIndex",m)),Se.push(()=>je(e,"paused",v)),Se.push(()=>je(e,"begin_tour",h)),e.$on("begin",r[39]),{c(){i&&i.c(),t=B(),A(e.$$.fragment)},l(g){i&&i.l(g),t=P(g),O(e.$$.fragment,g)},m(g,S){i&&i.m(g,S),I(g,t,S),V(e,g,S),c=!0},p(g,S){g[10]?i?(i.p(g,S),S[0]&1024&&y(i,1)):(i=Vt(g),i.c(),y(i,1),i.m(t.parentNode,t)):i&&(ve(),T(i,1,1,()=>{i=null}),ye());const M={};S[0]&128&&(M.camera=g[7]),S[0]&8192&&(M.create_tour_data=g[31]),!n&&S[0]&4&&(n=!0,M.touring=g[2],Fe(()=>n=!1)),!a&&S[0]&8&&(a=!0,M.tourData=g[3],Fe(()=>a=!1)),!o&&S[0]&16&&(o=!0,M.currentTime=g[4],Fe(()=>o=!1)),!s&&S[0]&32&&(s=!0,M.currentStepIndex=g[5],Fe(()=>s=!1)),!l&&S[0]&1&&(l=!0,M.paused=g[0],Fe(()=>l=!1)),!_&&S[0]&64&&(_=!0,M.begin_tour=g[6],Fe(()=>_=!1)),e.$set(M)},i(g){c||(y(i),y(e.$$.fragment,g),c=!0)},o(g){T(i),T(e.$$.fragment,g),c=!1},d(g){g&&p(t),i&&i.d(g),r[32](null),x(e,g)}}}const Yt="/assets/audio/Alexander_Nakarada__Piña_Colada.mp3",Ft="/assets/audio/water_trickle.mp3",Ct=2e3,sn=3e3,ln=250;function Hr(r,t,e){let n,a,o,s,l,_=te,c=()=>(_(),_=de(ae,w=>e(44,l=w)),ae),i,u=te,d=()=>(u(),u=de(re,w=>e(14,i=w)),re),f,m=te,v=()=>(m(),m=de(le,w=>e(15,f=w)),le),h,E=te,g=()=>(E(),E=de(Y,w=>e(45,h=w)),Y),S,M=te,C=()=>(M(),M=de(H,w=>e(10,S=w)),H),$,N=te,D=()=>(N(),N=de(R,w=>e(27,$=w)),R),ne,X;r.$$.on_destroy.push(()=>_()),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>M()),r.$$.on_destroy.push(()=>N());let{camera:Q}=t,{tour:ie=void 0}=t,{touring:H=void 0}=t;C();let{tour_data:R=void 0}=t;D();let{current_time:Y=void 0}=t;g();let{current_step_index:q=void 0}=t,{paused:ee=void 0}=t,{begin_tour:ce=void 0}=t,{update_land_images:me}=t,{update_daylight:Be}=t,{update_sea_level:$e}=t;const ze=bt(!1),le=bt(!1);v();const re=bt(!1);d();let{scale:ae}=Q;c();const ke=kt(),we=rt();Me(r,we,w=>e(29,X=w));const fe=rn();Me(r,fe,w=>e(28,ne=w)),fe.addResource("audio",Yt),fe.addResource("audio",Ft);let he,oe;const ue=Ct*2+ln+sn;let Le=ee;const U=w=>{he.audio&&o&&h!=null&&w!=null&&lt(he.audio,o,h,n,w),oe.audio&&s&&h!=null&&w!=null&&lt(oe.audio,s,h,n,w)};let F=null;const se=w=>{if(typeof w=="string")e(12,F=[w]);else{const ge=F?F.filter(Boolean):[];for(ge.push(w.content);ge.length<w.count;)ge.push("");e(12,F=ge)}},Ue={event:(w,ge)=>{switch(w){case"load":return fe.load();case"play_main_song":{he.audio.currentTime=0,n&&he.audio.play();break}case"play_water_trickle":{oe.audio.currentTime=0,n&&oe.audio.play();return}case"show_text":{se(ge);return}case"clear_text":{e(12,F=null);return}case"show_title":{be(le,f=!0,f);return}case"show_credits":{be(re,i=!0,i),oe.audio.currentTime=0,n&&oe.audio.play();return}case"update_land_images":{const{min:Ae,max:Oe}=ge;me(Ae,Oe);return}case"update_daylight":{const{min:Ae,max:Oe}=ge;Be(Ae,Oe);return}case"update_sea_level":{const{min:Ae,max:Oe}=ge;$e(Ae,Oe);return}default:console.warn("unhandled event",w)}},seek:(w,ge)=>{if(!he.audio)throw Error("seek expects expected main_song.audio");if(!oe.audio)throw Error("seek expects expected water_trickle.audio");if(!o)throw Error("seek expects main_song_step");if(!s)throw Error("seek expects water_trickleStep");lt(he.audio,o,w,n,ee),lt(oe.audio,s,w,n,ee),e(12,F=null),be(le,f=!1,f),be(re,i=!1,i)},done:w=>{e(12,F=null),be(le,f=!1,f),be(re,i=!1,i),l>50&&be(ae,l=50,l),U(!0)}},Ie=()=>be(le,f=!1,f),Ce=()=>Kn(ue,a);function at(w){Se[w?"unshift":"push"](()=>{ie=w,e(1,ie)})}function Qe(w){H=w,C(e(2,H))}function qe(w){R=w,D(e(3,R))}function Ke(w){Y=w,g(e(4,Y))}function Je(w){q=w,e(5,q)}function ot(w){ee=w,e(0,ee)}function it(w){ce=w,e(6,ce)}function Ze(w){Cn.call(this,r,w)}return r.$$set=w=>{"camera"in w&&e(7,Q=w.camera),"tour"in w&&e(1,ie=w.tour),"touring"in w&&C(e(2,H=w.touring)),"tour_data"in w&&D(e(3,R=w.tour_data)),"current_time"in w&&g(e(4,Y=w.current_time)),"current_step_index"in w&&e(5,q=w.current_step_index),"paused"in w&&e(0,ee=w.paused),"begin_tour"in w&&e(6,ce=w.begin_tour),"update_land_images"in w&&e(21,me=w.update_land_images),"update_daylight"in w&&e(22,Be=w.update_daylight),"update_sea_level"in w&&e(23,$e=w.update_sea_level)},r.$$.update=()=>{r.$$.dirty[0]&128&&c(e(11,{scale:ae}=Q,ae)),r.$$.dirty[0]&536870912&&e(26,{audio_enabled:n,dev_mode:a}=X,n,(e(13,a),e(29,X))),r.$$.dirty[0]&268435456&&(he=ne.resources.find(w=>w.url===Yt)),r.$$.dirty[0]&268435456&&(oe=ne.resources.find(w=>w.url===Ft)),r.$$.dirty[0]&134217728&&(o=$&&Bt($,"play_main_song")),r.$$.dirty[0]&134217728&&(s=$&&Bt($,"play_water_trickle")),r.$$.dirty[0]&33555457&&S&&ee!==void 0&&ee!==Le&&(e(25,Le=ee),U(ee)),r.$$.dirty[0]&67108864&&U(!n)},[ee,ie,H,R,Y,q,ce,Q,le,re,S,ae,F,a,i,f,ke,we,fe,ue,Ue,me,Be,$e,ze,Le,n,$,ne,X,Ie,Ce,at,Qe,qe,Ke,Je,ot,it,Ze]}class Dr extends De{constructor(t){super(),Ne(this,t,Hr,Pr,He,{camera:7,tour:1,touring:2,tour_data:3,current_time:4,current_step_index:5,paused:0,begin_tour:6,update_land_images:21,update_daylight:22,update_sea_level:23,show_tour_intro:24,show_tour_title:8,show_tour_credits:9},null,[-1,-1])}get show_tour_intro(){return this.$$.ctx[24]}get show_tour_title(){return this.$$.ctx[8]}get show_tour_credits(){return this.$$.ctx[9]}}function Nr(r){let t,e,n="<code>[shift+Backtick `]</code>",a,o,s,l,_;return{c(){t=z("tr"),e=z("td"),e.innerHTML=n,a=z("td"),o=K("toggle dev mode (currently "),s=z("code"),l=K(r[1]),_=K(")")},l(c){t=L(c,"TR",{});var i=j(t);e=L(i,"TD",{"data-svelte-h":!0}),W(e)!=="svelte-ib4ad0"&&(e.innerHTML=n),a=L(i,"TD",{});var u=j(a);o=J(u,"toggle dev mode (currently "),s=L(u,"CODE",{});var d=j(s);l=J(d,r[1]),d.forEach(p),_=J(u,")"),u.forEach(p),i.forEach(p)},m(c,i){I(c,t,i),b(t,e),b(t,a),b(a,o),b(a,s),b(s,l),b(a,_)},p(c,i){i&2&&mt(l,c[1])},d(c){c&&p(t)}}}function Ar(r){let t,e,n;return e=new jn({props:{clock:r[0],$$slots:{end:[Nr]},$$scope:{ctx:r}}}),{c(){t=z("div"),A(e.$$.fragment),this.h()},l(a){t=L(a,"DIV",{class:!0});var o=j(t);O(e.$$.fragment,o),o.forEach(p),this.h()},h(){G(t,"class","wrapper svelte-1agb8te")},m(a,o){I(a,t,o),V(e,t,null),n=!0},p(a,[o]){const s={};o&1&&(s.clock=a[0]),o&18&&(s.$$scope={dirty:o,ctx:a}),e.$set(s)},i(a){n||(y(e.$$.fragment,a),n=!0)},o(a){T(e.$$.fragment,a),n=!1},d(a){a&&p(t),x(e)}}}function Or(r,t,e){let n,a,{clock:o}=t;const s=rt();return Me(r,s,l=>e(3,a=l)),r.$$set=l=>{"clock"in l&&e(0,o=l.clock)},r.$$.update=()=>{r.$$.dirty&8&&e(1,n=a.dev_mode)},[o,n,s,a]}class Vr extends De{constructor(t){super(),Ne(this,t,Or,Ar,He,{clock:0})}}function jt(r){let t,e,n,a;const o=[Gr,xr],s=[];function l(_,c){return!_[12]&&_[21].status==="success"?0:1}return e=l(r),n=s[e]=o[e](r),{c(){t=z("div"),n.c(),this.h()},l(_){t=L(_,"DIV",{class:!0});var c=j(t);n.l(c),c.forEach(p),this.h()},h(){G(t,"class","soggy-planet svelte-iba55k")},m(_,c){I(_,t,c),s[e].m(t,null),a=!0},p(_,c){let i=e;e=l(_),e===i?s[e].p(_,c):(ve(),T(s[i],1,1,()=>{s[i]=null}),ye(),n=s[e],n?n.p(_,c):(n=s[e]=o[e](_),n.c()),y(n,1),n.m(t,null))},i(_){a||(y(n),a=!0)},o(_){T(n),a=!1},d(_){_&&p(t),s[e].d()}}}function xr(r){let t,e;return t=new cr({props:{resources:r[42],proceed:r[43],start_tour:r[45]}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p:te,i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Gr(r){let t,e,n,a,o,s,l;t=new On({props:{camera:r[0],landImages:r[1],seaImages:r[33],shoreImage:cn,shoreImageCount:yt,seashoreFloorIndex:r[34],lightsImage:r[32],lightsOpacity:r[6],nightfallOpacity:r[17],showLights:!0,activeLandValue:r[15],activeSeaLevel:r[16],imageWidth:un,imageHeight:_n}});function _(i){r[66](i)}let c={camera:r[0],update_land_images:r[47],update_daylight:r[48],update_sea_level:r[49]};return r[5]!==void 0&&(c.tour=r[5]),n=new Dr({props:c}),Se.push(()=>je(n,"tour",_)),n.$on("begin",r[46]),s=new nn({props:{$$slots:{default:[Zr]},$$scope:{ctx:r}}}),{c(){A(t.$$.fragment),e=B(),A(n.$$.fragment),o=B(),A(s.$$.fragment)},l(i){O(t.$$.fragment,i),e=P(i),O(n.$$.fragment,i),o=P(i),O(s.$$.fragment,i)},m(i,u){V(t,i,u),I(i,e,u),V(n,i,u),I(i,o,u),V(s,i,u),l=!0},p(i,u){const d={};u[0]&1&&(d.camera=i[0]),u[0]&2&&(d.landImages=i[1]),u[0]&64&&(d.lightsOpacity=i[6]),u[0]&131072&&(d.nightfallOpacity=i[17]),u[0]&32768&&(d.activeLandValue=i[15]),u[0]&65536&&(d.activeSeaLevel=i[16]),t.$set(d);const f={};u[0]&1&&(f.camera=i[0]),!a&&u[0]&32&&(a=!0,f.tour=i[5],Fe(()=>a=!1)),n.$set(f);const m={};u[0]&1920252|u[2]&16384&&(m.$$scope={dirty:u,ctx:i}),s.$set(m)},i(i){l||(y(t.$$.fragment,i),y(n.$$.fragment,i),y(s.$$.fragment,i),l=!0)},o(i){T(t.$$.fragment,i),T(n.$$.fragment,i),T(s.$$.fragment,i),l=!1},d(i){i&&(p(e),p(o)),x(t,i),x(n,i),x(s,i)}}}function Rr(r){let t,e,n;return e=new ht({props:{pressed:r[11],label:"toggle hud controls",$$slots:{default:[jr]},$$scope:{ctx:r}}}),e.$on("click",r[31]),{c(){t=z("div"),A(e.$$.fragment),this.h()},l(a){t=L(a,"DIV",{class:!0});var o=j(t);O(e.$$.fragment,o),o.forEach(p),this.h()},h(){G(t,"class","hud-top-controls svelte-iba55k")},m(a,o){I(a,t,o),V(e,t,null),n=!0},p(a,o){const s={};o[0]&2048&&(s.pressed=a[11]),o[2]&16384&&(s.$$scope={dirty:o,ctx:a}),e.$set(s)},i(a){n||(y(e.$$.fragment,a),n=!0)},o(a){T(e.$$.fragment,a),n=!1},d(a){a&&p(t),x(e)}}}function Yr(r){let t,e;return t=new ht({props:{label:"go back to title screen",$$slots:{default:[Ur]},$$scope:{ctx:r}}}),t.$on("click",r[44]),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){const o={};a[2]&16384&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Fr(r){let t,e;return t=new ht({props:{label:"cancel tour",$$slots:{default:[qr]},$$scope:{ctx:r}}}),t.$on("click",function(){ft(r[5].cancel)&&r[5].cancel.apply(this,arguments)}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){r=n;const o={};a[2]&16384&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function jr(r){let t;return{c(){t=K("∙∙∙")},l(e){t=J(e,"∙∙∙")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function Ur(r){let t;return{c(){t=K("⇦")},l(e){t=J(e,"⇦")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function qr(r){let t;return{c(){t=K("✕")},l(e){t=J(e,"✕")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function Ut(r){let t,e,n,a,o,s,l,_,c,i,u,d,f,m;e=new ht({props:{pressed:r[11],label:"toggle hud controls",$$slots:{default:[Kr]},$$scope:{ctx:r}}}),e.$on("click",r[31]),a=new tt({props:{label:"start the tour of our soggy planet with history and myth",$$slots:{default:[Jr]},$$scope:{ctx:r}}}),a.$on("click",r[45]),l=new mr({props:{daylight:r[6],selected_daylight:r[4],select_daylight:r[40],hover_daylight:r[41]}});let v=r[14]&&qt(r);return u=new Vn({props:{active_land_index:r[7],selected_land_index:r[3],select_land_index:r[38],hover_land_index:r[39]}}),f=new xn({props:{sea_level:r[16],sea_index_max:r[35],selected_sea_level:r[2],select_sea_level:r[36],hover_sea_level:r[37]}}),{c(){t=z("div"),A(e.$$.fragment),n=B(),A(a.$$.fragment),o=B(),s=z("div"),A(l.$$.fragment),_=B(),v&&v.c(),c=B(),i=z("div"),A(u.$$.fragment),d=B(),A(f.$$.fragment),this.h()},l(h){t=L(h,"DIV",{class:!0});var E=j(t);O(e.$$.fragment,E),n=P(E),O(a.$$.fragment,E),E.forEach(p),o=P(h),s=L(h,"DIV",{class:!0});var g=j(s);O(l.$$.fragment,g),_=P(g),v&&v.l(g),g.forEach(p),c=P(h),i=L(h,"DIV",{class:!0});var S=j(i);O(u.$$.fragment,S),S.forEach(p),d=P(h),O(f.$$.fragment,h),this.h()},h(){G(t,"class","hud-top-controls svelte-iba55k"),G(s,"class","hud-left-controls svelte-iba55k"),G(i,"class","month-wrapper svelte-iba55k")},m(h,E){I(h,t,E),V(e,t,null),b(t,n),V(a,t,null),I(h,o,E),I(h,s,E),V(l,s,null),b(s,_),v&&v.m(s,null),I(h,c,E),I(h,i,E),V(u,i,null),I(h,d,E),V(f,h,E),m=!0},p(h,E){const g={};E[0]&2048&&(g.pressed=h[11]),E[2]&16384&&(g.$$scope={dirty:E,ctx:h}),e.$set(g);const S={};E[2]&16384&&(S.$$scope={dirty:E,ctx:h}),a.$set(S);const M={};E[0]&64&&(M.daylight=h[6]),E[0]&16&&(M.selected_daylight=h[4]),l.$set(M),h[14]?v?(v.p(h,E),E[0]&16384&&y(v,1)):(v=qt(h),v.c(),y(v,1),v.m(s,null)):v&&(ve(),T(v,1,1,()=>{v=null}),ye());const C={};E[0]&128&&(C.active_land_index=h[7]),E[0]&8&&(C.selected_land_index=h[3]),u.$set(C);const $={};E[0]&65536&&($.sea_level=h[16]),E[0]&4&&($.selected_sea_level=h[2]),f.$set($)},i(h){m||(y(e.$$.fragment,h),y(a.$$.fragment,h),y(l.$$.fragment,h),y(v),y(u.$$.fragment,h),y(f.$$.fragment,h),m=!0)},o(h){T(e.$$.fragment,h),T(a.$$.fragment,h),T(l.$$.fragment,h),T(v),T(u.$$.fragment,h),T(f.$$.fragment,h),m=!1},d(h){h&&(p(t),p(o),p(s),p(c),p(i),p(d)),x(e),x(a),x(l),v&&v.d(),x(u),x(f,h)}}}function Kr(r){let t;return{c(){t=K("∙∙∙")},l(e){t=J(e,"∙∙∙")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function Jr(r){let t;return{c(){t=K("tour")},l(e){t=J(e,"tour")},m(e,n){I(e,t,n)},d(e){e&&p(t)}}}function qt(r){let t,e;return t=new kr({props:{tour:r[5]||null,x:r[20],y:r[19],scale:r[18],debug_start_time:r[22]}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p(n,a){const o={};a[0]&32&&(o.tour=n[5]||null),a[0]&1048576&&(o.x=n[20]),a[0]&524288&&(o.y=n[19]),a[0]&262144&&(o.scale=n[18]),t.$set(o)},i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Zr(r){let t,e,n,a,o;const s=[Fr,Yr,Rr],l=[];function _(i,u){return i[5]&&i[10]?0:i[11]?1:2}t=_(r),e=l[t]=s[t](r);let c=r[11]&&(!r[10]||r[14])&&Ut(r);return{c(){e.c(),n=B(),c&&c.c(),a=Xe()},l(i){e.l(i),n=P(i),c&&c.l(i),a=Xe()},m(i,u){l[t].m(i,u),I(i,n,u),c&&c.m(i,u),I(i,a,u),o=!0},p(i,u){let d=t;t=_(i),t===d?l[t].p(i,u):(ve(),T(l[d],1,1,()=>{l[d]=null}),ye(),e=l[t],e?e.p(i,u):(e=l[t]=s[t](i),e.c()),y(e,1),e.m(n.parentNode,n)),i[11]&&(!i[10]||i[14])?c?(c.p(i,u),u[0]&19456&&y(c,1)):(c=Ut(i),c.c(),y(c,1),c.m(a.parentNode,a)):c&&(ve(),T(c,1,1,()=>{c=null}),ye())},i(i){o||(y(e),y(c),o=!0)},o(i){T(e),T(c),o=!1},d(i){i&&(p(n),p(a)),l[t].d(i),c&&c.d(i)}}}function Wr(r){let t,e;return t=new Vr({props:{clock:r[23]}}),{c(){A(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,a){V(t,n,a),e=!0},p:te,i(n){e||(y(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){x(t,n)}}}function Xr(r){let t,e,n,a,o,s,l,_={initialX:r[25],initialY:r[26],initialWidth:r[27],initialHeight:r[28]};t=new An({props:_}),r[65](t);let c=r[0]&&r[20]&&r[19]&&r[18]&&jt(r);return a=new Un({props:{$$slots:{default:[Wr]},$$scope:{ctx:r}}}),{c(){A(t.$$.fragment),e=B(),c&&c.c(),n=B(),A(a.$$.fragment)},l(i){O(t.$$.fragment,i),e=P(i),c&&c.l(i),n=P(i),O(a.$$.fragment,i)},m(i,u){V(t,i,u),I(i,e,u),c&&c.m(i,u),I(i,n,u),V(a,i,u),o=!0,s||(l=Ee(window,"keydown",r[30]),s=!0)},p(i,u){const d={};t.$set(d),i[0]&&i[20]&&i[19]&&i[18]?c?(c.p(i,u),u[0]&1835009&&y(c,1)):(c=jt(i),c.c(),y(c,1),c.m(n.parentNode,n)):c&&(ve(),T(c,1,1,()=>{c=null}),ye());const f={};u[2]&16384&&(f.$$scope={dirty:u,ctx:i}),a.$set(f)},i(i){o||(y(t.$$.fragment,i),y(c),y(a.$$.fragment,i),o=!0)},o(i){T(t.$$.fragment,i),T(c),T(a.$$.fragment,i),o=!1},d(i){i&&(p(e),p(n)),r[65](null),x(t,i),c&&c.d(i),x(a,i),s=!1,l()}}}const un=4096,_n=2048,Kt=0,Jt=.91,Zt=3e3,cn="/assets/earth/shore.png",Wt=1e3,Xt=230;function Qr(r,t,e){let n,a,o,s,l,_,c,i,u,d,f,m,v,h,E=te,g=()=>(E(),E=de(v,k=>e(10,h=k)),v),S,M,C,$,N=te,D=()=>(N(),N=de(l,k=>e(68,$=k)),l),ne,X=te,Q=()=>(X(),X=de(s,k=>e(69,ne=k)),s),ie;r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>N()),r.$$.on_destroy.push(()=>X());const H=0,R=kt();Me(r,R,k=>e(62,S=k));let Y;const q=en();Me(r,q,k=>e(64,C=k));const ee=St(0,un),ce=St(C.height/2,_n-C.height/2),me=C.width,Be=C.height,$e=rt();Me(r,$e,k=>e(63,M=k));let ze=!0;const le=(k=!ze)=>{e(11,ze=k)},re=k=>{Ye||(k.key==="Escape"&&!k.ctrlKey&&Mt(k.target)?(nt(k),zt()):k.key==="1"&&Mt(k.target)&&(nt(k),le()))},ae=k=>{nt(k),le()},ke=(k,_e)=>Array.from({length:1+_e-k},(ea,vn)=>`/assets/earth/land_${vn+1+k}.png`);let we=ke(0,11),fe=0;const he="/assets/earth/lights.png";let oe=Kt,ue=Jt,Le=oe,U=Zt*1.7;const F=k=>oe+(ue-oe)*(Math.sin(k/Zt)+1)/2,se=Array.from({length:3},(k,_e)=>`/assets/earth/sea_${_e+1}.png`),Ue=yt,Ie=se.length+yt-1;let Ce=Wt*2.5;const at=k=>Ie*(Math.sin(k/Wt)+1)/2;let Qe=at(Ce),qe=0,Ke=null,Je=null;const ot=k=>{e(2,Ke=k)},it=k=>{e(57,Je=k)};let Ze=null,w=null;const ge=k=>{e(56,qe=Xt*k)},Ae=k=>{e(3,Ze=k),k!==null&&ge(k)},Oe=k=>{e(58,w=k),k!==null&&ge(k)};let st=null,gt=null;const Tt=k=>{e(4,st=k)},Et=k=>{e(59,gt=k)},Ve=rn();Me(r,Ve,k=>e(21,ie=k)),we.forEach(k=>Ve.addResource("image",k)),se.forEach(k=>Ve.addResource("image",k)),Ve.addResource("image",cn),Ve.addResource("image",he);let Ye=!0;const fn=()=>{e(12,Ye=!Ye)},zt=()=>{e(12,Ye=!0)},Lt=()=>{e(12,Ye=!1)};Qt(()=>{_&&(Lt(),Ve.load())});let xe;const dn=async()=>{Ye&&(Lt(),await Ve.load()),xe||await Tn(),xe&&xe.begin_tour()},mn=()=>{console.log("on_begin_tour args")};let pt=!1;const hn=(k,_e)=>{console.log("update_land_images",k,_e),e(1,we=ke(k,_e)),Ae(k===_e?_e:null),Oe(null)},gn=(k,_e)=>{e(51,oe=k),ue=_e,Tt(_e),Et(_e)},pn=(k,_e)=>{ot(_e),it(_e)};function bn(k){Se[k?"unshift":"push"](()=>{Y=k,e(0,Y)})}function wn(k){xe=k,e(5,xe)}return r.$$.update=()=>{r.$$.dirty[0]&1&&e(20,n=Y?.x),r.$$.dirty[0]&1&&e(19,a=Y?.y),r.$$.dirty[0]&1&&e(18,o=Y?.scale),r.$$.dirty[0]&1&&Q(e(9,s=Y?.width)),r.$$.dirty[0]&1&&D(e(8,l=Y?.height)),r.$$.dirty[0]&512|r.$$.dirty[2]&4&&s&&be(s,ne=C.width,ne),r.$$.dirty[0]&256|r.$$.dirty[2]&4&&l&&be(l,$=C.height,$),r.$$.dirty[2]&2&&e(14,_=M.dev_mode),r.$$.dirty[0]&10|r.$$.dirty[1]&167772160|r.$$.dirty[2]&1&&Ze===null&&w===null&&(e(56,qe+=S.dt),e(50,fe=qe/Xt%we.length)),r.$$.dirty[1]&524288&&e(61,c=Math.floor(fe)),r.$$.dirty[0]&16|r.$$.dirty[1]&4194304|r.$$.dirty[2]&1&&st===null&&e(53,U+=S.dt),r.$$.dirty[1]&4194304&&e(52,Le=F(U)),r.$$.dirty[0]&16|r.$$.dirty[1]&270532608&&e(6,m=gt??st??Le),r.$$.dirty[0]&1024|r.$$.dirty[1]&536870912&&(pt&&!h&&(e(51,oe=Kt),ue=Jt),e(60,pt=!!h)),r.$$.dirty[0]&64|r.$$.dirty[1]&1048576&&e(17,i=(m-oe)*.48),r.$$.dirty[0]&4|r.$$.dirty[1]&75497472|r.$$.dirty[2]&1&&Ke===null&&Je===null&&e(54,Ce+=S.dt),r.$$.dirty[1]&8388608&&e(55,Qe=at(Ce)),r.$$.dirty[0]&4|r.$$.dirty[1]&83886080&&e(16,u=Je??Ke??Qe),r.$$.dirty[0]&8|r.$$.dirty[1]&1207959552&&e(7,d=w??Ze??c),r.$$.dirty[0]&128|r.$$.dirty[1]&1074266112&&e(15,f=d===c?fe:d),r.$$.dirty[0]&32&&g(e(13,v=xe?xe.touring:null)),r.$$.dirty[0]&1024&&console.log("$touring",h)},[Y,we,Ke,Ze,st,xe,m,d,l,s,h,ze,Ye,v,_,f,u,i,o,a,n,ie,H,R,q,ee,ce,me,Be,$e,re,ae,he,se,Ue,Ie,ot,it,Ae,Oe,Tt,Et,Ve,fn,zt,dn,mn,hn,gn,pn,fe,oe,Le,U,Ce,Qe,qe,Je,w,gt,pt,c,S,M,C,bn,wn]}class Ia extends De{constructor(t){super(),Ne(this,t,Qr,Xr,He,{},null,[-1,-1,-1])}}export{Ia as component};
