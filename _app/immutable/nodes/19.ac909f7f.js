import{n as me,e as E,s as D,d as k,m as T,b as F,f as p,o as $,V as Oe,q as ye,i as L,p as b,O as Je,t as de,P as Ge,Q as ze,R as Xe,y as We,z as Ze,I as x,J as Ne,B as Ye,a as ue,g as xe,F as ea}from"../chunks/scheduler.24efe3e9.js";import{S as ge,i as _e,g as Ee,e as ke,t as v,b as w,c as N,a as S,m as q,d as O}from"../chunks/index.d51c8976.js";import{r as m}from"../chunks/random.c2e51b4a.js";import{t as aa}from"../chunks/images.6fb087a5.js";import{l as sa}from"../chunks/songs.25d08a73.js";import{e as ee,u as Se,o as je,d as ta}from"../chunks/each.9800de32.js";import{p as Me,a as na}from"../chunks/play_song.85ae12ce.js";const la=s=>{const a=Ie.get(s);if(!a)throw Error("Unknown stage: "+s);return a},V=s=>{const a=ia.get(s);if(!a)throw Error("Unknown stage: "+s);return a},Qe=s=>V(s.slice(0,-1)),ia=new Map([{name:"0",image:"heic0506a"},{name:"1",image:"opo0501a"},{name:"2",image:"opo0415a"},{name:"3",image:"heic1913c"},{name:"4",image:"heic0910i"},{name:"5",image:"heic2002a"},{name:"6",image:"heic1712a"},{name:"7",image:"heic1712a"},{name:"8",image:"heic0817a"},{name:"9",image:"heic1302a"},{name:"10",image:"heic1107a"}].map(s=>(s.image_meta=aa(s.image),[s.name,s]))),Ke=new Map([{name:"0a",phase:0,title:"Adventure",song:"Adventure",image:"heic0506a"},{name:"0b",phase:0,title:"Adventure (Metal Version)",song:"Adventure (Metal Version)",image:"heic0506a"},{name:"0c",phase:1,title:"Traveler",song:"Traveler",image:"heic0506a"},{name:"0d",phase:1,title:"Adventures of Flying Jack",song:"Adventures of Flying Jack",image:"heic0506a"},{name:"1a",phase:0,title:"Piña Colada",song:"Piña Colada",image:"opo0501a"},{name:"1b",phase:0,title:"Chronos",song:"Chronos",image:"opo0501a"},{name:"1c",phase:1,title:"Mint Condition",song:"Mint Condition",image:"opo0501a"},{name:"1d",phase:1,title:"Hit n Smash",song:"Hit n Smash",image:"opo0501a"},{name:"2a",phase:0,title:"Flutter",song:"Flutter",image:"opo0415a"},{name:"2b",phase:0,title:"Chemical X",song:"Chemical X",image:"opo0415a"},{name:"2c",phase:1,title:"Frost",song:"Frost",image:"opo0415a"},{name:"2d",phase:1,title:"Dominant",song:"Dominant",image:"opo0415a"},{name:"3a",phase:0,title:"Blacksmith",song:"Blacksmith",image:"heic1913c"},{name:"3b",phase:0,title:"The Crown",song:"The Crown",image:"heic1913c"},{name:"3c",phase:1,title:"Bhangra Bass",song:"Bhangra Bass",image:"heic1913c"},{name:"3d",phase:1,title:"Spacebuckler",song:"Spacebuckler",image:"heic1913c"},{name:"4a",phase:0,title:"Brewing Potions",song:"Brewing Potions",image:"heic0910i"},{name:"4b",phase:0,title:"He's a Parrot",song:"He's a Parrot",image:"heic0910i"},{name:"4c",phase:1,title:"Celebration",song:"Celebration",image:"heic0910i"},{name:"4d",phase:1,title:"Forest Night",song:"Forest Night",image:"heic0910i"},{name:"4e",phase:1,title:"Land Ho",song:"Land Ho",image:"heic0910i"},{name:"5a",phase:0,title:"Be Chillin",song:"Be Chillin",image:"heic2002a"},{name:"5b",phase:0,title:"Painting Room",song:"Painting Room",image:"heic2002a"},{name:"5c",phase:1,title:"VHS Heroes",song:"VHS Heroes",image:"heic2002a"},{name:"5d",phase:1,title:"Journey of Hope",song:"Journey of Hope",image:"heic2002a"},{name:"6a",phase:0,title:"Grid",song:"Grid",image:"heic1712a"},{name:"6b",phase:0,title:"La Citadelle",song:"La Citadelle",image:"heic1712a"},{name:"6c",phase:1,title:"Rush",song:"Rush",image:"heic1712a"},{name:"6d",phase:1,title:"Inteficial Artelligence",song:"Inteficial Artelligence",image:"heic1712a"},{name:"7a",phase:0,title:"Jotunheim",song:"Jotunheim",image:"heic1712a"},{name:"7b",phase:0,title:"Bleu",song:"Bleu",image:"heic1712a"},{name:"7d",phase:1,title:"Flynyrd Mynyrd",song:"Flynyrd Mynyrd",image:"heic1712a"},{name:"7c",phase:1,title:"Desert Fox",song:"Desert Fox",image:"heic1712a"},{name:"8a",phase:0,title:"The Expanse",song:"The Expanse",image:"heic0817a"},{name:"8b",phase:0,title:"Facing Storm",song:"Facing Storm",image:"heic0817a"},{name:"8d",phase:1,title:"Catharsis",song:"Catharsis",image:"heic0817a"},{name:"8c",phase:1,title:"Lonely Mountain",song:"Lonely Mountain",image:"heic0817a"},{name:"9a",phase:0,title:"Fireworks",song:"Fireworks",image:"heic1302a"},{name:"9b",phase:0,title:"The Desert",song:"The Desert",image:"heic1302a"},{name:"9d",phase:1,title:"Alive",song:"Alive (Instrumental)",image:"heic1302a"},{name:"9c",phase:1,title:"Assassin",song:"Assassin",image:"heic1302a"},{name:"10a",phase:0,title:"Shining Stars",song:"Shining Stars",image:"heic1107a"},{name:"10c",phase:0,title:"Life",song:"Life",image:"heic1107a"},{name:"10b",phase:0,title:"Nomadic Sunset",song:"Nomadic Sunset",image:"heic1107a"},{name:"10d",phase:1,title:"Chemical Z",song:"Chemical Z",image:"heic1107a"},{name:"10e",phase:1,title:"Dream",song:"Dream",image:"heic1107a"},{name:"10f",phase:1,title:"Terra Mystica",song:"Terra Mystica",image:"heic1107a"}].map(s=>(s.song=sa(s.song),s.stage=Qe(s.name),[s.name,s]))),Ie=new Map;for(const s of Ke.values()){const a=Qe(s.name);let t=Ie.get(a.name);t||Ie.set(a.name,t=[]),t.push(s)}const oa=s=>typeof s.data=="function"?{...s,data:s.data()}:s,Te=[{name:"sugar_pure",data:{sequence:["0a","1a","2a","3a","4a","4c","5a","6a","7a","8a","9a","9c","10a","10d"]}},{name:"sugar_balanced",data:{sequence:["0a","0c","1a","1c","2a","2c","3a","3c","4a","4d","5a","5c","6a","6c","7a","7d","8a","8d","9a","9d","10c","10e"]}},{name:"salt_pure",data:{sequence:["0b","1b","2b","3b","4b","4e","5b","6b","7b","8b","9b","9c","10b","10f"]}},{name:"salt_balanced",data:{sequence:["0b","0d","1b","1d","2b","2d","3b","3d","4b",m(["4d","4e"]),"5b","5d","6b","6d","7b","7c","8b","8c","9b","9c","10b",m(["10e","10f"])]}},{name:"random_pure",data:()=>({sequence:[m(["0a","0b"]),m(["1a","1b"]),m(["2a","2b"]),m(["3a","3b"]),m([["4a","4d"],["4b","4e"]]),m(["5a","5b"]),m(["6a","6b"]),m(["7a","7b"]),m(["8a","8b"]),m([["9a","9c","10a","10d"],["9b","9c","10b","10f"]])].flat()})},{name:"random_balanced",data:()=>({sequence:[m(["0a","0b"]),m(["0c","0d"]),m(["1a","1b"]),m(["1c","1d"]),m(["2a","2b"]),m(["2c","2d"]),m(["3a","3b"]),m(["3c","3d"]),m([["4a","4d"],["4b","4c","4e"]]),m(["5a","5b"]),m(["5c","5d"]),m(["6a","6b"]),m(["6c","6d"]),m(["7a","7b"]),m(["7c","7d"]),m([["8a","8d"],["8b","8c"]]),m([["9a","9c","10a","10d"],["9a","9d","10c","10e"],["9b","9c","10b","10f"]])].flat()})},{name:"random_random",data:()=>{const s=[];let a=0,t=0;const e=l=>{l&&(l.endsWith("b")?a++:l.endsWith("c")&&t++,s.push(l))},n=l=>{Array.isArray(l)?l.forEach(e):e(l)};return n(m(["0a","0b"])),n(m(["0c","0d"])),n(m(["1a","1b"])),n(m(["1c","1d"])),n(m(["2a","2b"])),n(m(["2c","2d"])),n(m(["3a","3b"])),n(m([t>ra?m(["3c","3d"]):null,null])),n(m([["4a","4d"],["4b",t>ca?m(["4c",null]):null,"4e"]])),n(m(["5a","5b"])),n(m(["5c","5d"])),n(m(["6a","6b"])),n(m(["6c","6d"])),n(m(["7a","7b"])),n(m(["7c","7d",null])),n(m(["8a","8b"])),n(m(["8c","8d",null])),n(m([["9a","9c","10a","10d"],t>=fa&&a<=ha?["9a","9d","10c","10e"]:null,["9b","9c","10b","10f"]].filter(Boolean))),{sequence:s}}}];new Map(Te.map(s=>[s.name,s]));const y=(s,a)=>s.data.sequence.includes(a.name),ra=1,ca=1,fa=4,ha=7;function Be(s,a,t){const e=s.slice();return e[6]=a[t],e}const ua=s=>({phase:s&2,phases:s&8}),Ae=s=>({phase:s[6],phases:s[3]});function De(s,a,t){const e=s.slice();return e[6]=a[t],e}const ma=s=>({phase:s&4,phases:s&8}),Fe=s=>({phase:s[6],phases:s[3]});function Le(s,a){let t,e;const n=a[5].default,l=Je(n,a,a[4],Fe);return{key:s,first:null,c(){t=de(),l&&l.c(),this.h()},l(c){t=de(),l&&l.l(c),this.h()},h(){this.first=t},m(c,r){L(c,t,r),l&&l.m(c,r),e=!0},p(c,r){a=c,l&&l.p&&(!e||r&28)&&Ge(l,n,a,a[4],e?Xe(n,a[4],r,ma):ze(a[4]),Fe)},i(c){e||(v(l,c),e=!0)},o(c){w(l,c),e=!1},d(c){c&&p(t),l&&l.d(c)}}}function Pe(s){let a,t=[],e=new Map,n,l=ee(s[1]);const c=r=>r[6];for(let r=0;r<l.length;r+=1){let o=Be(s,l,r),f=c(o);e.set(f,t[r]=Ve(f,o))}return{c(){a=E("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){a=k(r,"DIV",{class:!0});var o=T(a);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(p),this.h()},h(){$(a,"class","secondary-phases svelte-1wvhct5")},m(r,o){L(r,a,o);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(a,null);n=!0},p(r,o){o&26&&(l=ee(r[1]),Ee(),t=Se(t,o,c,1,r,l,e,a,je,Ve,null,Be),ke())},i(r){if(!n){for(let o=0;o<l.length;o+=1)v(t[o]);n=!0}},o(r){for(let o=0;o<t.length;o+=1)w(t[o]);n=!1},d(r){r&&p(a);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ve(s,a){let t,e;const n=a[5].default,l=Je(n,a,a[4],Ae);return{key:s,first:null,c(){t=de(),l&&l.c(),this.h()},l(c){t=de(),l&&l.l(c),this.h()},h(){this.first=t},m(c,r){L(c,t,r),l&&l.m(c,r),e=!0},p(c,r){a=c,l&&l.p&&(!e||r&26)&&Ge(l,n,a,a[4],e?Xe(n,a[4],r,ua):ze(a[4]),Ae)},i(c){e||(v(l,c),e=!0)},o(c){w(l,c),e=!1},d(c){c&&p(t),l&&l.d(c)}}}function ga(s){let a,t,e,n,l,c,r,o=[],f=new Map,h,g=`${s[0].image_meta.thumbnail.height*2}px`,I,A=ee(s[2]);const M=d=>d[6];for(let d=0;d<A.length;d+=1){let _=De(s,A,d),B=M(_);f.set(B,o[d]=Le(B,_))}let C=s[1].length&&Pe(s);return{c(){a=E("div"),t=E("img"),l=D(),c=E("div"),r=E("div");for(let d=0;d<o.length;d+=1)o[d].c();h=D(),C&&C.c(),this.h()},l(d){a=k(d,"DIV",{class:!0});var _=T(a);t=k(_,"IMG",{class:!0,src:!0,alt:!0}),l=F(_),c=k(_,"DIV",{class:!0});var B=T(c);r=k(B,"DIV",{class:!0});var U=T(r);for(let P=0;P<o.length;P+=1)o[P].l(U);U.forEach(p),h=F(B),C&&C.l(B),B.forEach(p),_.forEach(p),this.h()},h(){$(t,"class","pixelated svelte-1wvhct5"),Oe(t.src,e=s[0].image_meta.thumbnail.url)||$(t,"src",e),$(t,"alt",n=s[0].image_meta.title),$(r,"class","main-phases svelte-1wvhct5"),$(c,"class","phases svelte-1wvhct5"),$(a,"class","level svelte-1wvhct5"),ye(a,"height",g)},m(d,_){L(d,a,_),b(a,t),b(a,l),b(a,c),b(c,r);for(let B=0;B<o.length;B+=1)o[B]&&o[B].m(r,null);b(c,h),C&&C.m(c,null),I=!0},p(d,[_]){(!I||_&1&&!Oe(t.src,e=d[0].image_meta.thumbnail.url))&&$(t,"src",e),(!I||_&1&&n!==(n=d[0].image_meta.title))&&$(t,"alt",n),_&28&&(A=ee(d[2]),Ee(),o=Se(o,_,M,1,d,A,f,r,je,Le,null,De),ke()),d[1].length?C?(C.p(d,_),_&2&&v(C,1)):(C=Pe(d),C.c(),v(C,1),C.m(c,null)):C&&(Ee(),w(C,1,1,()=>{C=null}),ke()),_&1&&g!==(g=`${d[0].image_meta.thumbnail.height*2}px`)&&ye(a,"height",g)},i(d){if(!I){for(let _=0;_<A.length;_+=1)v(o[_]);v(C),I=!0}},o(d){for(let _=0;_<o.length;_+=1)w(o[_]);w(C),I=!1},d(d){d&&p(a);for(let _=0;_<o.length;_+=1)o[_].d();C&&C.d()}}}function _a(s,a,t){let e,n,l,{$$slots:c={},$$scope:r}=a,{level:o}=a;return s.$$set=f=>{"level"in f&&t(0,o=f.level),"$$scope"in f&&t(4,r=f.$$scope)},s.$$.update=()=>{if(s.$$.dirty&1&&t(3,e=la(o.name)),s.$$.dirty&8&&t(2,n=e.filter(f=>f.phase===0)),s.$$.dirty&8&&t(1,l=e.filter(f=>f.phase===1)),s.$$.dirty&14&&e.length!==n.length+l.length)throw Error("There are some unused phases in Level.svelte")},[o,l,n,e,r,c]}class H extends ge{constructor(a){super(),_e(this,a,_a,ga,me,{level:0})}}function pa(s){let a,t,e,n=s[0].title+"",l,c,r,o;return{c(){a=E("div"),t=E("button"),e=E("div"),l=We(n),this.h()},l(f){a=k(f,"DIV",{class:!0,title:!0});var h=T(a);t=k(h,"BUTTON",{class:!0});var g=T(t);e=k(g,"DIV",{class:!0});var I=T(e);l=Ze(I,n),I.forEach(p),g.forEach(p),h.forEach(p),this.h()},h(){$(e,"class","title svelte-19vxn7z"),t.disabled=s[2],$(t,"class","svelte-19vxn7z"),x(t,"selected",s[1]),x(t,"buttonish",!s[2]),$(a,"class","phase svelte-19vxn7z"),$(a,"title",c="phase "+s[0].name)},m(f,h){L(f,a,h),b(a,t),b(t,e),b(e,l),r||(o=Ne(t,"click",s[4]),r=!0)},p(f,[h]){h&1&&n!==(n=f[0].title+"")&&Ye(l,n),h&4&&(t.disabled=f[2]),h&2&&x(t,"selected",f[1]),h&4&&x(t,"buttonish",!f[2]),h&1&&c!==(c="phase "+f[0].name)&&$(a,"title",c)},i:ue,o:ue,d(f){f&&p(a),r=!1,o()}}}function da(s,a,t){let{phase:e}=a,{selected:n}=a,{disabled:l}=a,{select_phase:c}=a;const r=()=>{c(e)};return s.$$set=o=>{"phase"in o&&t(0,e=o.phase),"selected"in o&&t(1,n=o.selected),"disabled"in o&&t(2,l=o.disabled),"select_phase"in o&&t(3,c=o.select_phase)},[e,n,l,c,r]}class R extends ge{constructor(a){super(),_e(this,a,da,pa,me,{phase:0,selected:1,disabled:2,select_phase:3})}}function He(s,a,t){const e=s.slice();return e[4]=a[t],e}function Re(s,a){let t,e,n=a[4].name+"",l,c,r,o;function f(){return a[3](a[4])}return{key:s,first:null,c(){t=E("li"),e=E("button"),l=We(n),c=D(),this.h()},l(h){t=k(h,"LI",{role:!0});var g=T(t);e=k(g,"BUTTON",{type:!0,class:!0});var I=T(e);l=Ze(I,n),I.forEach(p),c=F(g),g.forEach(p),this.h()},h(){$(e,"type","button"),$(e,"class","svelte-1jwbuib"),x(e,"selected",a[4]===a[0]),$(t,"role","none"),this.first=t},m(h,g){L(h,t,g),b(t,e),b(e,l),b(t,c),r||(o=Ne(e,"click",f),r=!0)},p(h,g){a=h,g&1&&x(e,"selected",a[4]===a[0])},d(h){h&&p(t),r=!1,o()}}}function Ue(s){let a,t="cancel",e,n;return{c(){a=E("button"),a.textContent=t,this.h()},l(l){a=k(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-1iqgf8t"&&(a.textContent=t),this.h()},h(){$(a,"type","button"),$(a,"class","svelte-1jwbuib")},m(l,c){L(l,a,c),e||(n=Ne(a,"click",function(){ea(s[2])&&s[2].apply(this,arguments)}),e=!0)},p(l,c){s=l},d(l){l&&p(a),e=!1,n()}}}function $a(s){let a,t=[],e=new Map,n,l,c=ee(Te);const r=f=>f[4];for(let f=0;f<c.length;f+=1){let h=He(s,c,f),g=r(h);e.set(g,t[f]=Re(g,h))}let o=s[0]&&Ue(s);return{c(){a=E("ul");for(let f=0;f<t.length;f+=1)t[f].c();n=D(),l=E("div"),o&&o.c(),this.h()},l(f){a=k(f,"UL",{class:!0});var h=T(a);for(let I=0;I<t.length;I+=1)t[I].l(h);h.forEach(p),n=F(f),l=k(f,"DIV",{});var g=T(l);o&&o.l(g),g.forEach(p),this.h()},h(){$(a,"class","svelte-1jwbuib")},m(f,h){L(f,a,h);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(a,null);L(f,n,h),L(f,l,h),o&&o.m(l,null)},p(f,[h]){h&3&&(c=ee(Te),t=Se(t,h,r,1,f,c,e,a,ta,Re,null,He)),f[0]?o?o.p(f,h):(o=Ue(f),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},i:ue,o:ue,d(f){f&&(p(a),p(n),p(l));for(let h=0;h<t.length;h+=1)t[h].d();o&&o.d()}}}function ba(s,a,t){let{selected_phase_sequence_or_creator:e=null}=a,{play_phase_sequence:n}=a,{cancel:l}=a;const c=r=>n(r);return s.$$set=r=>{"selected_phase_sequence_or_creator"in r&&t(0,e=r.selected_phase_sequence_or_creator),"play_phase_sequence"in r&&t(1,n=r.play_phase_sequence),"cancel"in r&&t(2,l=r.cancel)},[e,n,l,c]}class va extends ge{constructor(a){super(),_e(this,a,ba,$a,me,{selected_phase_sequence_or_creator:0,play_phase_sequence:1,cancel:2})}}function wa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Ca(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Ea(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function ka(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Ia(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Ta(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Na(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Sa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function qa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Oa(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function ya(s){let a,t;return a=new R({props:{phase:s[7],select_phase:s[5],selected:s[7]===s[0],disabled:!!s[2]&&!y(s[2],s[7])}}),{c(){N(a.$$.fragment)},l(e){S(a.$$.fragment,e)},m(e,n){q(a,e,n),t=!0},p(e,n){const l={};n&128&&(l.phase=e[7]),n&129&&(l.selected=e[7]===e[0]),n&132&&(l.disabled=!!e[2]&&!y(e[2],e[7])),a.$set(l)},i(e){t||(v(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){O(a,e)}}}function Ma(s){let a,t,e,n,l,c,r,o,f,h,g,I,A,M,C,d,_,B,U,P,$e,Z,J,be,j,G,ve,Q,z,we,K,X,Ce,Y,W,pe;return a=new va({props:{selected_phase_sequence_or_creator:s[1],play_phase_sequence:s[3],cancel:s[4]}}),l=new H({props:{level:V("0"),$$slots:{default:[wa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),o=new H({props:{level:V("1"),$$slots:{default:[Ca,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),g=new H({props:{level:V("2"),$$slots:{default:[Ea,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),M=new H({props:{level:V("3"),$$slots:{default:[ka,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),_=new H({props:{level:V("4"),$$slots:{default:[Ia,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),P=new H({props:{level:V("5"),$$slots:{default:[Ta,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),J=new H({props:{level:V("6"),$$slots:{default:[Na,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),G=new H({props:{level:V("7"),$$slots:{default:[Sa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),z=new H({props:{level:V("8"),$$slots:{default:[qa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),X=new H({props:{level:V("9"),$$slots:{default:[Oa,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),W=new H({props:{level:V("10"),$$slots:{default:[ya,({phase:i})=>({7:i}),({phase:i})=>i?128:0]},$$scope:{ctx:s}}}),{c(){N(a.$$.fragment),t=D(),e=E("div"),n=E("section"),N(l.$$.fragment),c=D(),r=E("section"),N(o.$$.fragment),f=D(),h=E("section"),N(g.$$.fragment),I=D(),A=E("section"),N(M.$$.fragment),C=D(),d=E("section"),N(_.$$.fragment),B=D(),U=E("section"),N(P.$$.fragment),$e=D(),Z=E("section"),N(J.$$.fragment),be=D(),j=E("section"),N(G.$$.fragment),ve=D(),Q=E("section"),N(z.$$.fragment),we=D(),K=E("section"),N(X.$$.fragment),Ce=D(),Y=E("section"),N(W.$$.fragment),this.h()},l(i){S(a.$$.fragment,i),t=F(i),e=k(i,"DIV",{class:!0});var u=T(e);n=k(u,"SECTION",{class:!0});var ae=T(n);S(l.$$.fragment,ae),ae.forEach(p),c=F(u),r=k(u,"SECTION",{class:!0});var se=T(r);S(o.$$.fragment,se),se.forEach(p),f=F(u),h=k(u,"SECTION",{class:!0});var te=T(h);S(g.$$.fragment,te),te.forEach(p),I=F(u),A=k(u,"SECTION",{class:!0});var ne=T(A);S(M.$$.fragment,ne),ne.forEach(p),C=F(u),d=k(u,"SECTION",{class:!0});var le=T(d);S(_.$$.fragment,le),le.forEach(p),B=F(u),U=k(u,"SECTION",{class:!0});var ie=T(U);S(P.$$.fragment,ie),ie.forEach(p),$e=F(u),Z=k(u,"SECTION",{class:!0});var oe=T(Z);S(J.$$.fragment,oe),oe.forEach(p),be=F(u),j=k(u,"SECTION",{class:!0});var re=T(j);S(G.$$.fragment,re),re.forEach(p),ve=F(u),Q=k(u,"SECTION",{class:!0});var ce=T(Q);S(z.$$.fragment,ce),ce.forEach(p),we=F(u),K=k(u,"SECTION",{class:!0});var fe=T(K);S(X.$$.fragment,fe),fe.forEach(p),Ce=F(u),Y=k(u,"SECTION",{class:!0});var he=T(Y);S(W.$$.fragment,he),he.forEach(p),u.forEach(p),this.h()},h(){$(n,"class","svelte-dwxxx"),$(r,"class","svelte-dwxxx"),$(h,"class","svelte-dwxxx"),$(A,"class","svelte-dwxxx"),$(d,"class","svelte-dwxxx"),$(U,"class","svelte-dwxxx"),$(Z,"class","svelte-dwxxx"),$(j,"class","svelte-dwxxx"),$(Q,"class","svelte-dwxxx"),$(K,"class","svelte-dwxxx"),$(Y,"class","svelte-dwxxx"),$(e,"class","atlas svelte-dwxxx")},m(i,u){q(a,i,u),L(i,t,u),L(i,e,u),b(e,n),q(l,n,null),b(e,c),b(e,r),q(o,r,null),b(e,f),b(e,h),q(g,h,null),b(e,I),b(e,A),q(M,A,null),b(e,C),b(e,d),q(_,d,null),b(e,B),b(e,U),q(P,U,null),b(e,$e),b(e,Z),q(J,Z,null),b(e,be),b(e,j),q(G,j,null),b(e,ve),b(e,Q),q(z,Q,null),b(e,we),b(e,K),q(X,K,null),b(e,Ce),b(e,Y),q(W,Y,null),pe=!0},p(i,[u]){const ae={};u&2&&(ae.selected_phase_sequence_or_creator=i[1]),a.$set(ae);const se={};u&389&&(se.$$scope={dirty:u,ctx:i}),l.$set(se);const te={};u&389&&(te.$$scope={dirty:u,ctx:i}),o.$set(te);const ne={};u&389&&(ne.$$scope={dirty:u,ctx:i}),g.$set(ne);const le={};u&389&&(le.$$scope={dirty:u,ctx:i}),M.$set(le);const ie={};u&389&&(ie.$$scope={dirty:u,ctx:i}),_.$set(ie);const oe={};u&389&&(oe.$$scope={dirty:u,ctx:i}),P.$set(oe);const re={};u&389&&(re.$$scope={dirty:u,ctx:i}),J.$set(re);const ce={};u&389&&(ce.$$scope={dirty:u,ctx:i}),G.$set(ce);const fe={};u&389&&(fe.$$scope={dirty:u,ctx:i}),z.$set(fe);const he={};u&389&&(he.$$scope={dirty:u,ctx:i}),X.$set(he);const qe={};u&389&&(qe.$$scope={dirty:u,ctx:i}),W.$set(qe)},i(i){pe||(v(a.$$.fragment,i),v(l.$$.fragment,i),v(o.$$.fragment,i),v(g.$$.fragment,i),v(M.$$.fragment,i),v(_.$$.fragment,i),v(P.$$.fragment,i),v(J.$$.fragment,i),v(G.$$.fragment,i),v(z.$$.fragment,i),v(X.$$.fragment,i),v(W.$$.fragment,i),pe=!0)},o(i){w(a.$$.fragment,i),w(l.$$.fragment,i),w(o.$$.fragment,i),w(g.$$.fragment,i),w(M.$$.fragment,i),w(_.$$.fragment,i),w(P.$$.fragment,i),w(J.$$.fragment,i),w(G.$$.fragment,i),w(z.$$.fragment,i),w(X.$$.fragment,i),w(W.$$.fragment,i),pe=!1},d(i){i&&(p(t),p(e)),O(a,i),O(l),O(o),O(g),O(M),O(_),O(P),O(J),O(G),O(z),O(X),O(W)}}}function Ba(s,a,t){let e=null,n=null,l=null;const c=async h=>{console.log("playPhaseSong",h);const g=await na(h.song);g&&(await g.play,console.log("playing",h.name,h.song.name),await g.ended,console.log("finished playing",h.name,h.song.name))},r=async(h,g=null)=>{g&&h===n?Me():(o(),t(1,n=h),t(2,l=oa(h)),console.log("playing phase_sequence",h,l));const{sequence:I}=l.data;let A=I;if(g){const M=I.indexOf(g.name);if(M===-1)return o(),c(g);A=I.slice(M)}for(const M of A){const C=Ke.get(M);if(t(0,e=C),await c(C),n!==h||e!==C)return}t(0,e=null),t(1,n=null)},o=()=>{Me(),t(1,n=null),t(2,l=null),t(0,e=null)};return[e,n,l,r,o,h=>(console.log("select_phase",h),n?r(n,h):c(h))]}class Aa extends ge{constructor(a){super(),_e(this,a,Ba,Ma,me,{})}}function Da(s){let a,t,e;return t=new Aa({}),{c(){a=E("div"),N(t.$$.fragment),this.h()},l(n){a=k(n,"DIV",{class:!0});var l=T(a);S(t.$$.fragment,l),l.forEach(p),this.h()},h(){$(a,"class","unlock-atlas svelte-1q8l5nv")},m(n,l){L(n,a,l),q(t,a,null),e=!0},p:ue,i(n){e||(v(t.$$.fragment,n),e=!0)},o(n){w(t.$$.fragment,n),e=!1},d(n){n&&p(a),O(t)}}}class Ja extends ge{constructor(a){super(),_e(this,a,null,Da,me,{})}}export{Ja as component};
