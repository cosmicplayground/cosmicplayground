import{n as k,O as A,e as B,d as F,m as G,f as R,o as J,q as Y,i as Q,J as r,F as h,P as j,Q as H,R as K,C as L,G as U}from"./scheduler.24efe3e9.js";import{S as W,i as x,t as $,b as ee}from"./index.d51c8976.js";import{s as _}from"./dom.affe8f60.js";function ne(e){let t,l=`${e[0]}px`,m=`${e[1]}px`,u,p,w;const c=e[12].default,i=A(c,e,e[11],null);return{c(){t=B("div"),i&&i.c(),this.h()},l(s){t=F(s,"DIV",{class:!0});var a=G(t);i&&i.l(a),a.forEach(R),this.h()},h(){J(t,"class","surface svelte-1a6p81"),Y(t,"width",l),Y(t,"height",m)},m(s,a){Q(s,t,a),i&&i.m(t,null),e[13](t),u=!0,p||(w=[r(t,"wheel",function(){h(e[2]?void 0:e[4])&&(e[2]?void 0:e[4]).apply(this,arguments)},{passive:!0}),r(t,"pointerdown",function(){h(e[2]?void 0:e[5])&&(e[2]?void 0:e[5]).apply(this,arguments)}),r(t,"pointermove",function(){h(e[2]?void 0:e[7])&&(e[2]?void 0:e[7]).apply(this,arguments)}),r(t,"pointerup",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"pointerleave",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"pointercancel",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"pointerout",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"touchstart",function(){h(e[2]?void 0:_)&&(e[2]?void 0:_).apply(this,arguments)},{passive:!1}),r(t,"touchmove",function(){h(e[2]?void 0:_)&&(e[2]?void 0:_).apply(this,arguments)},{passive:!1})],p=!0)},p(s,[a]){e=s,i&&i.p&&(!u||a&2048)&&j(i,c,e,e[11],u?K(c,e[11],a,null):H(e[11]),null),a&1&&l!==(l=`${e[0]}px`)&&Y(t,"width",l),a&2&&m!==(m=`${e[1]}px`)&&Y(t,"height",m)},i(s){u||($(i,s),u=!0)},o(s){ee(i,s),u=!1},d(s){s&&R(t),i&&i.d(s),e[13](null),p=!1,L(w)}}}const te=1.002;function ie(e,t,l){let{$$slots:m={},$$scope:u}=t,{width:p}=t,{height:w}=t,{scale:c}=t,{zoom:i}=t,{pan:s}=t,{disabled:a=!1}=t,X=!1,v=null,b=null,I;const g=new Map;let S=null;const M=(n,f,o)=>{const d=o.getBoundingClientRect(),y=n-d.left,z=f-d.top;return{x:y,y:z}},O=(n,f)=>{if(v!==null&&b!==null){const d=v-n,y=b-f;s(d/c,y/c)}const o=M(n,f,I);v=o.x,b=o.y},T=n=>{const{x:f,y:o}=M(n.clientX,n.clientY,I),d=n.deltaX+n.deltaY+n.deltaZ;i(d,f,o)},q=n=>{_(n),g.set(n.pointerId,n),v=null,b=null,S=null,n.isPrimary&&g.size===1&&(X=!0,O(n.clientX,n.clientY))},D=n=>{_(n),g.delete(n.pointerId),v=null,b=null,S=null,n.isPrimary&&(X=!1)},N=n=>{_(n),g.set(n.pointerId,n);const f=g.size;if(f===1)X&&O(n.clientX,n.clientY);else if(f===2){const o=Array.from(g.values()),d=o[0].clientX,y=o[0].clientY,z=o[1].clientX,P=o[1].clientY,C=Math.hypot(z-d,P-y);if(S!==null){const E=S-C,Z=Math.abs(E/.33)*(te-1)+1;i(E,(d+z)/2,(y+P)/2,Z)}S=C}};function V(n){U[n?"unshift":"push"](()=>{I=n,l(3,I)})}return e.$$set=n=>{"width"in n&&l(0,p=n.width),"height"in n&&l(1,w=n.height),"scale"in n&&l(8,c=n.scale),"zoom"in n&&l(9,i=n.zoom),"pan"in n&&l(10,s=n.pan),"disabled"in n&&l(2,a=n.disabled),"$$scope"in n&&l(11,u=n.$$scope)},[p,w,a,I,T,q,D,N,c,i,s,u,m,V]}class ue extends W{constructor(t){super(),x(this,t,ie,ne,k,{width:0,height:1,scale:8,zoom:9,pan:10,disabled:2})}}export{ue as S};
