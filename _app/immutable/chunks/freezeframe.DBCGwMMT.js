import{t as d}from"./dom.L2-d_yrl.js";const f=(t,e,a)=>{if(t.has(e))return t.get(e);const r=a();return t.set(e,r),r},u=new Map;let l;const v=()=>l||(l=document.createElement("canvas")),i=(t,e)=>{let a=e;const r=t.src;let s=!1;const n=()=>{s=!0,a&&(t.src=o())};t.addEventListener("load",n);const o=()=>f(u,r,()=>d(v(),t));return{update:c=>{a=c,c?s&&(t.src=o()):t.src=r},destroy:()=>{t.removeEventListener("load",n)}}};export{i as f};
