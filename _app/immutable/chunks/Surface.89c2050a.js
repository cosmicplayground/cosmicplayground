import{n as q,T as A,e as B,b as F,l as G,d as P,m as J,p as Y,i as U,J as r,F as h,U as W,V as j,W as H,C as K,G as L}from"./scheduler.317e39f5.js";import{S as Q,i as x,t as $,b as ee}from"./index.3972ef43.js";import{s as _}from"./dom.affe8f60.js";function ne(e){let t,l=`${e[0]}px`,m=`${e[1]}px`,u,p,w;const c=e[12].default,i=A(c,e,e[11],null);return{c(){t=B("div"),i&&i.c(),this.h()},l(s){t=F(s,"DIV",{class:!0});var a=G(t);i&&i.l(a),a.forEach(P),this.h()},h(){J(t,"class","surface svelte-1a6p81"),Y(t,"width",l),Y(t,"height",m)},m(s,a){U(s,t,a),i&&i.m(t,null),e[13](t),u=!0,p||(w=[r(t,"wheel",function(){h(e[2]?void 0:e[4])&&(e[2]?void 0:e[4]).apply(this,arguments)},{passive:!0}),r(t,"pointerdown",function(){h(e[2]?void 0:e[5])&&(e[2]?void 0:e[5]).apply(this,arguments)}),r(t,"pointermove",function(){h(e[2]?void 0:e[7])&&(e[2]?void 0:e[7]).apply(this,arguments)}),r(t,"pointerup",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"pointerleave",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"pointercancel",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"pointerout",function(){h(e[2]?void 0:e[6])&&(e[2]?void 0:e[6]).apply(this,arguments)}),r(t,"touchstart",function(){h(e[2]?void 0:_)&&(e[2]?void 0:_).apply(this,arguments)},{passive:!1}),r(t,"touchmove",function(){h(e[2]?void 0:_)&&(e[2]?void 0:_).apply(this,arguments)},{passive:!1})],p=!0)},p(s,[a]){e=s,i&&i.p&&(!u||a&2048)&&W(i,c,e,e[11],u?H(c,e[11],a,null):j(e[11]),null),a&1&&l!==(l=`${e[0]}px`)&&Y(t,"width",l),a&2&&m!==(m=`${e[1]}px`)&&Y(t,"height",m)},i(s){u||($(i,s),u=!0)},o(s){ee(i,s),u=!1},d(s){s&&P(t),i&&i.d(s),e[13](null),p=!1,K(w)}}}const te=1.002;function ie(e,t,l){let{$$slots:m={},$$scope:u}=t,{width:p}=t,{height:w}=t,{scale:c}=t,{zoom:i}=t,{pan:s}=t,{disabled:a=!1}=t,X=!1,v=null,b=null,I;const g=new Map;let S=null;const M=(n,f,o)=>{const d=o.getBoundingClientRect(),y=n-d.left,z=f-d.top;return{x:y,y:z}},T=(n,f)=>{if(v!==null&&b!==null){const d=v-n,y=b-f;s(d/c,y/c)}const o=M(n,f,I);v=o.x,b=o.y},V=n=>{const{x:f,y:o}=M(n.clientX,n.clientY,I),d=n.deltaX+n.deltaY+n.deltaZ;i(d,f,o)},D=n=>{_(n),g.set(n.pointerId,n),v=null,b=null,S=null,n.isPrimary&&g.size===1&&(X=!0,T(n.clientX,n.clientY))},N=n=>{_(n),g.delete(n.pointerId),v=null,b=null,S=null,n.isPrimary&&(X=!1)},R=n=>{_(n),g.set(n.pointerId,n);const f=g.size;if(f===1)X&&T(n.clientX,n.clientY);else if(f===2){const o=Array.from(g.values()),d=o[0].clientX,y=o[0].clientY,z=o[1].clientX,C=o[1].clientY,E=Math.hypot(z-d,C-y);if(S!==null){const O=S-E,k=Math.abs(O/.33)*(te-1)+1;i(O,(d+z)/2,(y+C)/2,k)}S=E}};function Z(n){L[n?"unshift":"push"](()=>{I=n,l(3,I)})}return e.$$set=n=>{"width"in n&&l(0,p=n.width),"height"in n&&l(1,w=n.height),"scale"in n&&l(8,c=n.scale),"zoom"in n&&l(9,i=n.zoom),"pan"in n&&l(10,s=n.pan),"disabled"in n&&l(2,a=n.disabled),"$$scope"in n&&l(11,u=n.$$scope)},[p,w,a,I,V,D,N,R,c,i,s,u,m,Z]}class ue extends Q{constructor(t){super(),x(this,t,ie,ne,q,{width:0,height:1,scale:8,zoom:9,pan:10,disabled:2})}}export{ue as S};
