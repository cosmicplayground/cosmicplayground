import{a0 as d}from"./scheduler.24efe3e9.js";const f=(t,e,o)=>{if(t.has(e))return t.get(e);const r=o();return t.set(e,r),r},v=async(t=9e4)=>{await d(),window.scrollTo({left:window.scrollX,top:t,behavior:"smooth"})},i=(t,e)=>{const o=t.getContext("2d");if(!o)throw Error("failed to get canvas context");return t.width=e.naturalWidth,t.height=e.naturalHeight,o.drawImage(e,0,0),t.toDataURL()},u=new Map;let c;const w=()=>c||(c=document.createElement("canvas")),p=(t,e)=>{let o=e;const r=t.src;let a=!1;const n=()=>{a=!0,o&&(t.src=s())};t.addEventListener("load",n);const s=()=>f(u,r,()=>i(w(),t));return{update:l=>{o=l,l?a&&(t.src=s()):t.src=r},destroy:()=>{t.removeEventListener("load",n)}}};export{p as f,v as s};
